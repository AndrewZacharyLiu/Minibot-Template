ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"omni_locomotion.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "control-base/algo/src/omni_locomotion.c"
  20              		.section	.text.omni_init,"ax",%progbits
  21              		.align	1
  22              		.global	omni_init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	omni_init:
  28              	.LVL0:
  29              	.LFB0:
   1:control-base/algo/src/omni_locomotion.c **** #include "omni_locomotion.h"
   2:control-base/algo/src/omni_locomotion.c **** 
   3:control-base/algo/src/omni_locomotion.c **** #include <math.h>
   4:control-base/algo/src/omni_locomotion.c **** #include "user_math.h"
   5:control-base/algo/src/omni_locomotion.c **** #ifndef COS45
   6:control-base/algo/src/omni_locomotion.c **** #define COS45 (0.70710678118f) // cos(PI/4)
   7:control-base/algo/src/omni_locomotion.c **** #endif
   8:control-base/algo/src/omni_locomotion.c **** 
   9:control-base/algo/src/omni_locomotion.c **** #ifndef SIN45
  10:control-base/algo/src/omni_locomotion.c **** #define SIN45 (0.70710678118f) // sin(PI/4)
  11:control-base/algo/src/omni_locomotion.c **** #endif
  12:control-base/algo/src/omni_locomotion.c **** 
  13:control-base/algo/src/omni_locomotion.c **** /**
  14:control-base/algo/src/omni_locomotion.c ****  * @brief Initialize the physical constants of the omni drive
  15:control-base/algo/src/omni_locomotion.c ****  * @param R - the wheel diameter [m]
  16:control-base/algo/src/omni_locomotion.c ****  * @param d - the radius from the center to the wheel [m]
  17:control-base/algo/src/omni_locomotion.c ****  * @param theta - the mounting angle of the omni wheel [rad]
  18:control-base/algo/src/omni_locomotion.c ****  * @param max_speed - the maximum speed of the robot [m/s]
  19:control-base/algo/src/omni_locomotion.c ****  * @param init_pose - The initial 2d x, y position and heading
  20:control-base/algo/src/omni_locomotion.c ****  * @return omni_physical_constants_t - the physical constants of the omni drive
  21:control-base/algo/src/omni_locomotion.c ****  */
  22:control-base/algo/src/omni_locomotion.c **** omni_physical_constants_t omni_init(float R, float d, float theta, float max_speed, pose_2d_t* init
  23:control-base/algo/src/omni_locomotion.c **** {
  30              		.loc 1 23 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 23 1 is_stmt 0 view .LVU1
  35 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 2


  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 32
  38              		.cfi_offset 4, -32
  39              		.cfi_offset 5, -28
  40              		.cfi_offset 6, -24
  41              		.cfi_offset 7, -20
  42              		.cfi_offset 8, -16
  43              		.cfi_offset 9, -12
  44              		.cfi_offset 10, -8
  45              		.cfi_offset 14, -4
  46 0004 2DED068B 		vpush.64	{d8, d9, d10}
  47              	.LCFI1:
  48              		.cfi_def_cfa_offset 56
  49              		.cfi_offset 80, -56
  50              		.cfi_offset 81, -52
  51              		.cfi_offset 82, -48
  52              		.cfi_offset 83, -44
  53              		.cfi_offset 84, -40
  54              		.cfi_offset 85, -36
  55 0008 0446     		mov	r4, r0
  56 000a B0EE408A 		vmov.f32	s16, s0
  57 000e B0EE609A 		vmov.f32	s18, s1
  58 0012 11EE100A 		vmov	r0, s2
  59              	.LVL1:
  24:control-base/algo/src/omni_locomotion.c ****     // Initialize the physical constants of the omni drive
  25:control-base/algo/src/omni_locomotion.c ****     omni_physical_constants_t omni_physical_constants = {
  60              		.loc 1 25 5 is_stmt 1 view .LVU2
  61              		.loc 1 25 31 is_stmt 0 view .LVU3
  62 0016 84ED000A 		vstr.32	s0, [r4]
  63 001a C4ED010A 		vstr.32	s1, [r4, #4]
  64 001e 84ED021A 		vstr.32	s2, [r4, #8]
  65 0022 C4ED031A 		vstr.32	s3, [r4, #12]
  66 0026 2161     		str	r1, [r4, #16]
  26:control-base/algo/src/omni_locomotion.c ****         .R = R,
  27:control-base/algo/src/omni_locomotion.c ****         .d = d,
  28:control-base/algo/src/omni_locomotion.c ****         .max_speed = max_speed,
  29:control-base/algo/src/omni_locomotion.c ****         .init_pose = init_pose,
  30:control-base/algo/src/omni_locomotion.c ****         .theta = theta,
  31:control-base/algo/src/omni_locomotion.c ****         .kinematics_matrix = {
  32:control-base/algo/src/omni_locomotion.c ****             {-sin(theta) / R,   -cos(theta) / R , d / R},
  67              		.loc 1 32 15 view .LVU4
  68 0028 FFF7FEFF 		bl	__aeabi_f2d
  69              	.LVL2:
  70              		.loc 1 32 15 view .LVU5
  71 002c 41EC1A0B 		vmov	d10, r0, r1
  72 0030 B0EE4A0A 		vmov.f32	s0, s20
  73 0034 F0EE6A0A 		vmov.f32	s1, s21
  74 0038 FFF7FEFF 		bl	sin
  75              	.LVL3:
  76 003c 53EC102B 		vmov	r2, r3, d0
  77              		.loc 1 32 14 discriminator 1 view .LVU6
  78 0040 9046     		mov	r8, r2
  79 0042 03F10049 		add	r9, r3, #-2147483648
  80              		.loc 1 32 26 discriminator 1 view .LVU7
  81 0046 18EE100A 		vmov	r0, s16
  82 004a FFF7FEFF 		bl	__aeabi_f2d
  83              	.LVL4:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 3


  84 004e 0646     		mov	r6, r0
  85 0050 0F46     		mov	r7, r1
  86 0052 0246     		mov	r2, r0
  87 0054 0B46     		mov	r3, r1
  88 0056 4046     		mov	r0, r8
  89 0058 4946     		mov	r1, r9
  90 005a FFF7FEFF 		bl	__aeabi_ddiv
  91              	.LVL5:
  92 005e 8046     		mov	r8, r0
  93 0060 8946     		mov	r9, r1
  94 0062 FFF7FEFF 		bl	__aeabi_d2f
  95              	.LVL6:
  96 0066 0546     		mov	r5, r0	@ float
  25:control-base/algo/src/omni_locomotion.c ****         .R = R,
  97              		.loc 1 25 31 view .LVU8
  98 0068 6061     		str	r0, [r4, #20]	@ float
  99              		.loc 1 32 34 view .LVU9
 100 006a B0EE4A0A 		vmov.f32	s0, s20
 101 006e F0EE6A0A 		vmov.f32	s1, s21
 102 0072 FFF7FEFF 		bl	cos
 103              	.LVL7:
 104 0076 53EC102B 		vmov	r2, r3, d0
 105              		.loc 1 32 33 discriminator 1 view .LVU10
 106 007a 1046     		mov	r0, r2
 107 007c 03F10041 		add	r1, r3, #-2147483648
 108              		.loc 1 32 45 discriminator 1 view .LVU11
 109 0080 3246     		mov	r2, r6
 110 0082 3B46     		mov	r3, r7
 111 0084 FFF7FEFF 		bl	__aeabi_ddiv
 112              	.LVL8:
 113 0088 0646     		mov	r6, r0
 114 008a 0F46     		mov	r7, r1
 115 008c FFF7FEFF 		bl	__aeabi_d2f
 116              	.LVL9:
 117 0090 8246     		mov	r10, r0	@ float
  25:control-base/algo/src/omni_locomotion.c ****         .R = R,
 118              		.loc 1 25 31 view .LVU12
 119 0092 A061     		str	r0, [r4, #24]	@ float
 120              		.loc 1 32 53 view .LVU13
 121 0094 C9EE088A 		vdiv.f32	s17, s18, s16
  25:control-base/algo/src/omni_locomotion.c ****         .R = R,
 122              		.loc 1 25 31 view .LVU14
 123 0098 C4ED078A 		vstr.32	s17, [r4, #28]
  33:control-base/algo/src/omni_locomotion.c ****             {sin(theta) / R,    -cos(theta) / R , d / R},
 124              		.loc 1 33 25 discriminator 1 view .LVU15
 125 009c 4046     		mov	r0, r8
 126 009e 09F10041 		add	r1, r9, #-2147483648
 127 00a2 FFF7FEFF 		bl	__aeabi_d2f
 128              	.LVL10:
  25:control-base/algo/src/omni_locomotion.c ****         .R = R,
 129              		.loc 1 25 31 view .LVU16
 130 00a6 2062     		str	r0, [r4, #32]	@ float
 131 00a8 C4F824A0 		str	r10, [r4, #36]	@ float
 132 00ac C4ED0A8A 		vstr.32	s17, [r4, #40]
 133 00b0 E062     		str	r0, [r4, #44]	@ float
  34:control-base/algo/src/omni_locomotion.c ****             {sin(theta) / R,    cos(theta) / R  , d / R},
 134              		.loc 1 34 44 discriminator 1 view .LVU17
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 4


 135 00b2 3046     		mov	r0, r6
 136 00b4 07F10041 		add	r1, r7, #-2147483648
 137 00b8 FFF7FEFF 		bl	__aeabi_d2f
 138              	.LVL11:
  25:control-base/algo/src/omni_locomotion.c ****         .R = R,
 139              		.loc 1 25 31 view .LVU18
 140 00bc 2063     		str	r0, [r4, #48]	@ float
 141 00be C4ED0D8A 		vstr.32	s17, [r4, #52]
 142 00c2 A563     		str	r5, [r4, #56]	@ float
 143 00c4 E063     		str	r0, [r4, #60]	@ float
 144 00c6 C4ED108A 		vstr.32	s17, [r4, #64]
  35:control-base/algo/src/omni_locomotion.c ****             {-sin(theta) / R,   cos(theta) / R  , d / R},
  36:control-base/algo/src/omni_locomotion.c ****         },
  37:control-base/algo/src/omni_locomotion.c ****     };
  38:control-base/algo/src/omni_locomotion.c ****     return omni_physical_constants;
 145              		.loc 1 38 5 is_stmt 1 view .LVU19
  39:control-base/algo/src/omni_locomotion.c **** }
 146              		.loc 1 39 1 is_stmt 0 view .LVU20
 147 00ca 2046     		mov	r0, r4
 148 00cc BDEC068B 		vldm	sp!, {d8-d10}
 149              	.LCFI2:
 150              		.cfi_restore 84
 151              		.cfi_restore 85
 152              		.cfi_restore 82
 153              		.cfi_restore 83
 154              		.cfi_restore 80
 155              		.cfi_restore 81
 156              		.cfi_def_cfa_offset 32
 157              	.LVL12:
 158              		.loc 1 39 1 view .LVU21
 159 00d0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 160              		.loc 1 39 1 view .LVU22
 161              		.cfi_endproc
 162              	.LFE0:
 164              		.section	.text.omni_calculate_kinematics,"ax",%progbits
 165              		.align	1
 166              		.global	omni_calculate_kinematics
 167              		.syntax unified
 168              		.thumb
 169              		.thumb_func
 171              	omni_calculate_kinematics:
 172              	.LVL13:
 173              	.LFB1:
  40:control-base/algo/src/omni_locomotion.c **** 
  41:control-base/algo/src/omni_locomotion.c **** /**
  42:control-base/algo/src/omni_locomotion.c ****  * @brief Calculate the wheel velocities based on the chassis velocities
  43:control-base/algo/src/omni_locomotion.c ****  * @param input - the input state of the omni chassis
  44:control-base/algo/src/omni_locomotion.c ****  * @param omni_physical_constants - the physical constants of the omni drive
  45:control-base/algo/src/omni_locomotion.c ****  */
  46:control-base/algo/src/omni_locomotion.c **** void omni_calculate_kinematics(omni_chassis_state_t *input, omni_physical_constants_t *omni_physica
  47:control-base/algo/src/omni_locomotion.c **** {
 174              		.loc 1 47 1 is_stmt 1 view -0
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 0
 177              		@ frame_needed = 0, uses_anonymous_args = 0
 178              		@ link register save eliminated.
  48:control-base/algo/src/omni_locomotion.c ****     float v_x = input->v_x;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 5


 179              		.loc 1 48 5 view .LVU24
 180              		.loc 1 48 11 is_stmt 0 view .LVU25
 181 0000 90ED006A 		vldr.32	s12, [r0]
 182              	.LVL14:
  49:control-base/algo/src/omni_locomotion.c ****     float v_y = input->v_y;
 183              		.loc 1 49 5 is_stmt 1 view .LVU26
 184              		.loc 1 49 11 is_stmt 0 view .LVU27
 185 0004 D0ED016A 		vldr.32	s13, [r0, #4]
 186              	.LVL15:
  50:control-base/algo/src/omni_locomotion.c ****     float omega = input->omega;
 187              		.loc 1 50 5 is_stmt 1 view .LVU28
 188              		.loc 1 50 11 is_stmt 0 view .LVU29
 189 0008 90ED027A 		vldr.32	s14, [r0, #8]
 190              	.LVL16:
  51:control-base/algo/src/omni_locomotion.c ****     float(*k_mat)[3] = omni_physical_constants->kinematics_matrix;
 191              		.loc 1 51 5 is_stmt 1 view .LVU30
  52:control-base/algo/src/omni_locomotion.c ****     // Calculate the wheel velocities by multiplying the IK matrix by the chassis velocities
  53:control-base/algo/src/omni_locomotion.c ****     input->phi_dot_1 = k_mat[0][0] * v_x + k_mat[0][1] * v_y + k_mat[0][2] * omega;
 192              		.loc 1 53 5 view .LVU31
 193              		.loc 1 53 32 is_stmt 0 view .LVU32
 194 000c D1ED057A 		vldr.32	s15, [r1, #20]
 195              		.loc 1 53 36 view .LVU33
 196 0010 67EE867A 		vmul.f32	s15, s15, s12
 197              		.loc 1 53 52 view .LVU34
 198 0014 D1ED065A 		vldr.32	s11, [r1, #24]
 199              		.loc 1 53 56 view .LVU35
 200 0018 65EEA65A 		vmul.f32	s11, s11, s13
 201              		.loc 1 53 42 view .LVU36
 202 001c 77EEA57A 		vadd.f32	s15, s15, s11
 203              		.loc 1 53 72 view .LVU37
 204 0020 D1ED075A 		vldr.32	s11, [r1, #28]
 205              		.loc 1 53 76 view .LVU38
 206 0024 65EE875A 		vmul.f32	s11, s11, s14
 207              		.loc 1 53 62 view .LVU39
 208 0028 77EEA57A 		vadd.f32	s15, s15, s11
 209              		.loc 1 53 22 view .LVU40
 210 002c C0ED067A 		vstr.32	s15, [r0, #24]
  54:control-base/algo/src/omni_locomotion.c ****     input->phi_dot_2 = k_mat[1][0] * v_x + k_mat[1][1] * v_y + k_mat[1][2] * omega;
 211              		.loc 1 54 5 is_stmt 1 view .LVU41
 212              		.loc 1 54 32 is_stmt 0 view .LVU42
 213 0030 D1ED087A 		vldr.32	s15, [r1, #32]
 214              		.loc 1 54 36 view .LVU43
 215 0034 67EE867A 		vmul.f32	s15, s15, s12
 216              		.loc 1 54 52 view .LVU44
 217 0038 D1ED095A 		vldr.32	s11, [r1, #36]
 218              		.loc 1 54 56 view .LVU45
 219 003c 65EEA65A 		vmul.f32	s11, s11, s13
 220              		.loc 1 54 42 view .LVU46
 221 0040 77EEA57A 		vadd.f32	s15, s15, s11
 222              		.loc 1 54 72 view .LVU47
 223 0044 D1ED0A5A 		vldr.32	s11, [r1, #40]
 224              		.loc 1 54 76 view .LVU48
 225 0048 65EE875A 		vmul.f32	s11, s11, s14
 226              		.loc 1 54 62 view .LVU49
 227 004c 77EEA57A 		vadd.f32	s15, s15, s11
 228              		.loc 1 54 22 view .LVU50
 229 0050 C0ED077A 		vstr.32	s15, [r0, #28]
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 6


  55:control-base/algo/src/omni_locomotion.c ****     input->phi_dot_3 = k_mat[2][0] * v_x + k_mat[2][1] * v_y + k_mat[2][2] * omega;
 230              		.loc 1 55 5 is_stmt 1 view .LVU51
 231              		.loc 1 55 32 is_stmt 0 view .LVU52
 232 0054 D1ED0B7A 		vldr.32	s15, [r1, #44]
 233              		.loc 1 55 36 view .LVU53
 234 0058 67EE867A 		vmul.f32	s15, s15, s12
 235              		.loc 1 55 52 view .LVU54
 236 005c D1ED0C5A 		vldr.32	s11, [r1, #48]
 237              		.loc 1 55 56 view .LVU55
 238 0060 65EEA65A 		vmul.f32	s11, s11, s13
 239              		.loc 1 55 42 view .LVU56
 240 0064 77EEA57A 		vadd.f32	s15, s15, s11
 241              		.loc 1 55 72 view .LVU57
 242 0068 D1ED0D5A 		vldr.32	s11, [r1, #52]
 243              		.loc 1 55 76 view .LVU58
 244 006c 65EE875A 		vmul.f32	s11, s11, s14
 245              		.loc 1 55 62 view .LVU59
 246 0070 77EEA57A 		vadd.f32	s15, s15, s11
 247              		.loc 1 55 22 view .LVU60
 248 0074 C0ED087A 		vstr.32	s15, [r0, #32]
  56:control-base/algo/src/omni_locomotion.c ****     input->phi_dot_4 = k_mat[3][0] * v_x + k_mat[3][1] * v_y + k_mat[3][2] * omega;
 249              		.loc 1 56 5 is_stmt 1 view .LVU61
 250              		.loc 1 56 32 is_stmt 0 view .LVU62
 251 0078 D1ED0E7A 		vldr.32	s15, [r1, #56]
 252              		.loc 1 56 36 view .LVU63
 253 007c 67EE867A 		vmul.f32	s15, s15, s12
 254              		.loc 1 56 52 view .LVU64
 255 0080 91ED0F6A 		vldr.32	s12, [r1, #60]
 256              	.LVL17:
 257              		.loc 1 56 56 view .LVU65
 258 0084 66EE266A 		vmul.f32	s13, s12, s13
 259              	.LVL18:
 260              		.loc 1 56 42 view .LVU66
 261 0088 77EEA67A 		vadd.f32	s15, s15, s13
 262              		.loc 1 56 72 view .LVU67
 263 008c D1ED106A 		vldr.32	s13, [r1, #64]
 264              		.loc 1 56 76 view .LVU68
 265 0090 26EE877A 		vmul.f32	s14, s13, s14
 266              	.LVL19:
 267              		.loc 1 56 62 view .LVU69
 268 0094 77EE877A 		vadd.f32	s15, s15, s14
 269              		.loc 1 56 22 view .LVU70
 270 0098 C0ED097A 		vstr.32	s15, [r0, #36]
  57:control-base/algo/src/omni_locomotion.c **** }
 271              		.loc 1 57 1 view .LVU71
 272 009c 7047     		bx	lr
 273              		.cfi_endproc
 274              	.LFE1:
 276              		.section	.text.omni_desaturate_wheel_speeds,"ax",%progbits
 277              		.align	1
 278              		.global	omni_desaturate_wheel_speeds
 279              		.syntax unified
 280              		.thumb
 281              		.thumb_func
 283              	omni_desaturate_wheel_speeds:
 284              	.LVL20:
 285              	.LFB2:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 7


  58:control-base/algo/src/omni_locomotion.c **** 
  59:control-base/algo/src/omni_locomotion.c **** /**
  60:control-base/algo/src/omni_locomotion.c ****  * @brief Scale down the wheel speeds if they exceed the maximum speed
  61:control-base/algo/src/omni_locomotion.c ****  * @param input - the input state of the omni chassis
  62:control-base/algo/src/omni_locomotion.c ****  * @param omni_physical_constants - the physical constants of the omni drive
  63:control-base/algo/src/omni_locomotion.c ****  */
  64:control-base/algo/src/omni_locomotion.c **** void omni_desaturate_wheel_speeds(omni_chassis_state_t *input, omni_physical_constants_t *omni_phys
  65:control-base/algo/src/omni_locomotion.c **** {
 286              		.loc 1 65 1 is_stmt 1 view -0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 0
 289              		@ frame_needed = 0, uses_anonymous_args = 0
 290              		.loc 1 65 1 is_stmt 0 view .LVU73
 291 0000 38B5     		push	{r3, r4, r5, lr}
 292              	.LCFI3:
 293              		.cfi_def_cfa_offset 16
 294              		.cfi_offset 3, -16
 295              		.cfi_offset 4, -12
 296              		.cfi_offset 5, -8
 297              		.cfi_offset 14, -4
 298 0002 2DED048B 		vpush.64	{d8, d9}
 299              	.LCFI4:
 300              		.cfi_def_cfa_offset 32
 301              		.cfi_offset 80, -32
 302              		.cfi_offset 81, -28
 303              		.cfi_offset 82, -24
 304              		.cfi_offset 83, -20
 305 0006 0446     		mov	r4, r0
 306 0008 0D46     		mov	r5, r1
  66:control-base/algo/src/omni_locomotion.c ****     // find the highest wheel speed
  67:control-base/algo/src/omni_locomotion.c ****     float highest_wheel_speed = fabsf(input->phi_dot_1);
 307              		.loc 1 67 5 is_stmt 1 view .LVU74
 308              		.loc 1 67 44 is_stmt 0 view .LVU75
 309 000a D0ED069A 		vldr.32	s19, [r0, #24]
 310              	.LVL21:
  68:control-base/algo/src/omni_locomotion.c ****     highest_wheel_speed = fmaxf(highest_wheel_speed, fabsf(input->phi_dot_2));
 311              		.loc 1 68 5 is_stmt 1 view .LVU76
 312              		.loc 1 68 65 is_stmt 0 view .LVU77
 313 000e 90ED079A 		vldr.32	s18, [r0, #28]
 314              		.loc 1 68 27 view .LVU78
 315 0012 F0EEE90A 		vabs.f32	s1, s19
 316              	.LVL22:
 317              		.loc 1 68 27 view .LVU79
 318 0016 B0EEC90A 		vabs.f32	s0, s18
 319 001a FFF7FEFF 		bl	fmaxf
 320              	.LVL23:
 321              		.loc 1 68 27 view .LVU80
 322 001e F0EE400A 		vmov.f32	s1, s0
 323              	.LVL24:
  69:control-base/algo/src/omni_locomotion.c ****     highest_wheel_speed = fmaxf(highest_wheel_speed, fabsf(input->phi_dot_3));
 324              		.loc 1 69 5 is_stmt 1 view .LVU81
 325              		.loc 1 69 65 is_stmt 0 view .LVU82
 326 0022 D4ED088A 		vldr.32	s17, [r4, #32]
 327              		.loc 1 69 27 view .LVU83
 328 0026 B0EEE80A 		vabs.f32	s0, s17
 329              	.LVL25:
 330              		.loc 1 69 27 view .LVU84
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 8


 331 002a FFF7FEFF 		bl	fmaxf
 332              	.LVL26:
 333              		.loc 1 69 27 view .LVU85
 334 002e F0EE400A 		vmov.f32	s1, s0
 335              	.LVL27:
  70:control-base/algo/src/omni_locomotion.c ****     highest_wheel_speed = fmaxf(highest_wheel_speed, fabsf(input->phi_dot_4));
 336              		.loc 1 70 5 is_stmt 1 view .LVU86
 337              		.loc 1 70 65 is_stmt 0 view .LVU87
 338 0032 94ED098A 		vldr.32	s16, [r4, #36]
 339              		.loc 1 70 27 view .LVU88
 340 0036 B0EEC80A 		vabs.f32	s0, s16
 341              	.LVL28:
 342              		.loc 1 70 27 view .LVU89
 343 003a FFF7FEFF 		bl	fmaxf
 344              	.LVL29:
  71:control-base/algo/src/omni_locomotion.c **** 
  72:control-base/algo/src/omni_locomotion.c ****     float max_angular_velocity = omni_physical_constants->max_speed / omni_physical_constants->R;
 345              		.loc 1 72 5 is_stmt 1 view .LVU90
 346              		.loc 1 72 57 is_stmt 0 view .LVU91
 347 003e D5ED036A 		vldr.32	s13, [r5, #12]
 348              		.loc 1 72 94 view .LVU92
 349 0042 D5ED007A 		vldr.32	s15, [r5]
 350              		.loc 1 72 11 view .LVU93
 351 0046 86EEA77A 		vdiv.f32	s14, s13, s15
 352              	.LVL30:
  73:control-base/algo/src/omni_locomotion.c **** 
  74:control-base/algo/src/omni_locomotion.c ****     // scale down the wheel speeds if they exceed the maximum speed
  75:control-base/algo/src/omni_locomotion.c ****     if (fabsf(highest_wheel_speed) > max_angular_velocity)
 353              		.loc 1 75 5 is_stmt 1 view .LVU94
 354              		.loc 1 75 9 is_stmt 0 view .LVU95
 355 004a F0EEC07A 		vabs.f32	s15, s0
 356              		.loc 1 75 8 view .LVU96
 357 004e F4EEC77A 		vcmpe.f32	s15, s14
 358 0052 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 359 0056 13DD     		ble	.L4
 360              	.LBB2:
  76:control-base/algo/src/omni_locomotion.c ****     {
  77:control-base/algo/src/omni_locomotion.c ****         float desaturation_coefficient = fabsf(max_angular_velocity / highest_wheel_speed);
 361              		.loc 1 77 9 is_stmt 1 view .LVU97
 362              		.loc 1 77 69 is_stmt 0 view .LVU98
 363 0058 C7EE007A 		vdiv.f32	s15, s14, s0
 364              		.loc 1 77 15 view .LVU99
 365 005c F0EEE77A 		vabs.f32	s15, s15
 366              	.LVL31:
  78:control-base/algo/src/omni_locomotion.c ****         input->phi_dot_1 *= desaturation_coefficient;
 367              		.loc 1 78 9 is_stmt 1 view .LVU100
 368              		.loc 1 78 26 is_stmt 0 view .LVU101
 369 0060 69EEA79A 		vmul.f32	s19, s19, s15
 370 0064 C4ED069A 		vstr.32	s19, [r4, #24]
  79:control-base/algo/src/omni_locomotion.c ****         input->phi_dot_2 *= desaturation_coefficient;
 371              		.loc 1 79 9 is_stmt 1 view .LVU102
 372              		.loc 1 79 26 is_stmt 0 view .LVU103
 373 0068 29EE279A 		vmul.f32	s18, s18, s15
 374 006c 84ED079A 		vstr.32	s18, [r4, #28]
  80:control-base/algo/src/omni_locomotion.c ****         input->phi_dot_3 *= desaturation_coefficient;
 375              		.loc 1 80 9 is_stmt 1 view .LVU104
 376              		.loc 1 80 26 is_stmt 0 view .LVU105
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 9


 377 0070 68EEA78A 		vmul.f32	s17, s17, s15
 378 0074 C4ED088A 		vstr.32	s17, [r4, #32]
  81:control-base/algo/src/omni_locomotion.c ****         input->phi_dot_4 *= desaturation_coefficient;
 379              		.loc 1 81 9 is_stmt 1 view .LVU106
 380              		.loc 1 81 26 is_stmt 0 view .LVU107
 381 0078 28EE278A 		vmul.f32	s16, s16, s15
 382 007c 84ED098A 		vstr.32	s16, [r4, #36]
 383              	.LVL32:
 384              	.L4:
 385              		.loc 1 81 26 view .LVU108
 386              	.LBE2:
  82:control-base/algo/src/omni_locomotion.c ****     }
  83:control-base/algo/src/omni_locomotion.c **** }
 387              		.loc 1 83 1 view .LVU109
 388 0080 BDEC048B 		vldm	sp!, {d8-d9}
 389              	.LCFI5:
 390              		.cfi_restore 82
 391              		.cfi_restore 83
 392              		.cfi_restore 80
 393              		.cfi_restore 81
 394              		.cfi_def_cfa_offset 16
 395 0084 38BD     		pop	{r3, r4, r5, pc}
 396              		.loc 1 83 1 view .LVU110
 397              		.cfi_endproc
 398              	.LFE2:
 400              		.section	.text.omni_convert_to_rpm,"ax",%progbits
 401              		.align	1
 402              		.global	omni_convert_to_rpm
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 407              	omni_convert_to_rpm:
 408              	.LVL33:
 409              	.LFB3:
  84:control-base/algo/src/omni_locomotion.c **** 
  85:control-base/algo/src/omni_locomotion.c **** /**
  86:control-base/algo/src/omni_locomotion.c ****  * @brief Convert the chassis state from rad/s to rotations per minute
  87:control-base/algo/src/omni_locomotion.c ****  * @param chassis_state: the chassis state to convert
  88:control-base/algo/src/omni_locomotion.c ****  */
  89:control-base/algo/src/omni_locomotion.c **** void omni_convert_to_rpm(omni_chassis_state_t *chassis_state) 
  90:control-base/algo/src/omni_locomotion.c **** {
 410              		.loc 1 90 1 is_stmt 1 view -0
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 0
 413              		@ frame_needed = 0, uses_anonymous_args = 0
 414              		@ link register save eliminated.
  91:control-base/algo/src/omni_locomotion.c ****     chassis_state->phi_dot_1 *=  60.0f / (2.0f * PI);
 415              		.loc 1 91 5 view .LVU112
 416              		.loc 1 91 18 is_stmt 0 view .LVU113
 417 0000 90ED067A 		vldr.32	s14, [r0, #24]
 418              		.loc 1 91 30 view .LVU114
 419 0004 DFED0C7A 		vldr.32	s15, .L10
 420 0008 27EE277A 		vmul.f32	s14, s14, s15
 421 000c 80ED067A 		vstr.32	s14, [r0, #24]
  92:control-base/algo/src/omni_locomotion.c ****     chassis_state->phi_dot_2 *=  60.0f / (2.0f * PI);
 422              		.loc 1 92 5 is_stmt 1 view .LVU115
 423              		.loc 1 92 18 is_stmt 0 view .LVU116
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 10


 424 0010 90ED077A 		vldr.32	s14, [r0, #28]
 425              		.loc 1 92 30 view .LVU117
 426 0014 27EE277A 		vmul.f32	s14, s14, s15
 427 0018 80ED077A 		vstr.32	s14, [r0, #28]
  93:control-base/algo/src/omni_locomotion.c ****     chassis_state->phi_dot_3 *=  60.0f / (2.0f * PI);
 428              		.loc 1 93 5 is_stmt 1 view .LVU118
 429              		.loc 1 93 18 is_stmt 0 view .LVU119
 430 001c 90ED087A 		vldr.32	s14, [r0, #32]
 431              		.loc 1 93 30 view .LVU120
 432 0020 27EE277A 		vmul.f32	s14, s14, s15
 433 0024 80ED087A 		vstr.32	s14, [r0, #32]
  94:control-base/algo/src/omni_locomotion.c ****     chassis_state->phi_dot_4 *=  60.0f / (2.0f * PI);
 434              		.loc 1 94 5 is_stmt 1 view .LVU121
 435              		.loc 1 94 18 is_stmt 0 view .LVU122
 436 0028 90ED097A 		vldr.32	s14, [r0, #36]
 437              		.loc 1 94 30 view .LVU123
 438 002c 67EE277A 		vmul.f32	s15, s14, s15
 439 0030 C0ED097A 		vstr.32	s15, [r0, #36]
  95:control-base/algo/src/omni_locomotion.c **** }
 440              		.loc 1 95 1 view .LVU124
 441 0034 7047     		bx	lr
 442              	.L11:
 443 0036 00BF     		.align	2
 444              	.L10:
 445 0038 ECC91841 		.word	1092143596
 446              		.cfi_endproc
 447              	.LFE3:
 449              		.section	.text._Init_Omni_Odometry,"ax",%progbits
 450              		.align	1
 451              		.global	_Init_Omni_Odometry
 452              		.syntax unified
 453              		.thumb
 454              		.thumb_func
 456              	_Init_Omni_Odometry:
 457              	.LVL34:
 458              	.LFB4:
  96:control-base/algo/src/omni_locomotion.c **** 
  97:control-base/algo/src/omni_locomotion.c **** motor_data_t* prev = NULL;
  98:control-base/algo/src/omni_locomotion.c **** 
  99:control-base/algo/src/omni_locomotion.c **** /**
 100:control-base/algo/src/omni_locomotion.c ****  * @brief Init the omni robot's odometry data
 101:control-base/algo/src/omni_locomotion.c ****  * @param pose: The robot's pose data structure
 102:control-base/algo/src/omni_locomotion.c ****  * @param init_x: The robot's initial 2d x position
 103:control-base/algo/src/omni_locomotion.c ****  * @param init_y: The robot's initial 2d y position
 104:control-base/algo/src/omni_locomotion.c ****  * @param init_theta: The robot's intial (gimbal) heading
 105:control-base/algo/src/omni_locomotion.c ****  * @param motor_total_angles: Array of 4 motor angles
 106:control-base/algo/src/omni_locomotion.c ****  */
 107:control-base/algo/src/omni_locomotion.c **** void _Init_Omni_Odometry(pose_2d_t* pose, pose_2d_t* init_pose, motor_data_t* curr_motor_data)
 108:control-base/algo/src/omni_locomotion.c **** {
 459              		.loc 1 108 1 is_stmt 1 view -0
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 0
 462              		@ frame_needed = 0, uses_anonymous_args = 0
 463              		@ link register save eliminated.
 109:control-base/algo/src/omni_locomotion.c ****     pose->x = init_pose->x;
 464              		.loc 1 109 5 view .LVU126
 465              		.loc 1 109 24 is_stmt 0 view .LVU127
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 11


 466 0000 0B68     		ldr	r3, [r1]	@ float
 467              		.loc 1 109 13 view .LVU128
 468 0002 0360     		str	r3, [r0]	@ float
 110:control-base/algo/src/omni_locomotion.c ****     pose->y = init_pose->y;
 469              		.loc 1 110 5 is_stmt 1 view .LVU129
 470              		.loc 1 110 24 is_stmt 0 view .LVU130
 471 0004 4B68     		ldr	r3, [r1, #4]	@ float
 472              		.loc 1 110 13 view .LVU131
 473 0006 4360     		str	r3, [r0, #4]	@ float
 111:control-base/algo/src/omni_locomotion.c ****     pose->theta = init_pose->theta;
 474              		.loc 1 111 5 is_stmt 1 view .LVU132
 475              		.loc 1 111 28 is_stmt 0 view .LVU133
 476 0008 8B68     		ldr	r3, [r1, #8]	@ float
 477              		.loc 1 111 17 view .LVU134
 478 000a 8360     		str	r3, [r0, #8]	@ float
 112:control-base/algo/src/omni_locomotion.c **** 
 113:control-base/algo/src/omni_locomotion.c ****     static motor_data_t prev_storage;
 479              		.loc 1 113 5 is_stmt 1 view .LVU135
 114:control-base/algo/src/omni_locomotion.c ****     prev = &prev_storage;
 480              		.loc 1 114 5 view .LVU136
 481              		.loc 1 114 10 is_stmt 0 view .LVU137
 482 000c 054B     		ldr	r3, .L13
 483 000e 0649     		ldr	r1, .L13+4
 484              	.LVL35:
 485              		.loc 1 114 10 view .LVU138
 486 0010 0B60     		str	r3, [r1]
 115:control-base/algo/src/omni_locomotion.c **** 
 116:control-base/algo/src/omni_locomotion.c ****     prev->front_left = curr_motor_data->front_left;
 487              		.loc 1 116 5 is_stmt 1 view .LVU139
 488              		.loc 1 116 39 is_stmt 0 view .LVU140
 489 0012 1168     		ldr	r1, [r2]	@ float
 490              		.loc 1 116 22 view .LVU141
 491 0014 1960     		str	r1, [r3]	@ float
 117:control-base/algo/src/omni_locomotion.c ****     prev->back_left  = curr_motor_data->back_left;
 492              		.loc 1 117 5 is_stmt 1 view .LVU142
 493              		.loc 1 117 39 is_stmt 0 view .LVU143
 494 0016 5168     		ldr	r1, [r2, #4]	@ float
 495              		.loc 1 117 22 view .LVU144
 496 0018 5960     		str	r1, [r3, #4]	@ float
 118:control-base/algo/src/omni_locomotion.c ****     prev->back_right = curr_motor_data->back_right;
 497              		.loc 1 118 5 is_stmt 1 view .LVU145
 498              		.loc 1 118 39 is_stmt 0 view .LVU146
 499 001a 9168     		ldr	r1, [r2, #8]	@ float
 500              		.loc 1 118 22 view .LVU147
 501 001c 9960     		str	r1, [r3, #8]	@ float
 119:control-base/algo/src/omni_locomotion.c ****     prev->front_right= curr_motor_data->front_right;
 502              		.loc 1 119 5 is_stmt 1 view .LVU148
 503              		.loc 1 119 39 is_stmt 0 view .LVU149
 504 001e D268     		ldr	r2, [r2, #12]	@ float
 505              	.LVL36:
 506              		.loc 1 119 22 view .LVU150
 507 0020 DA60     		str	r2, [r3, #12]	@ float
 120:control-base/algo/src/omni_locomotion.c **** }
 508              		.loc 1 120 1 view .LVU151
 509 0022 7047     		bx	lr
 510              	.L14:
 511              		.align	2
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 12


 512              	.L13:
 513 0024 00000000 		.word	prev_storage.0
 514 0028 00000000 		.word	prev
 515              		.cfi_endproc
 516              	.LFE4:
 518              		.section	.text.Update_Omni_Odometry,"ax",%progbits
 519              		.align	1
 520              		.global	Update_Omni_Odometry
 521              		.syntax unified
 522              		.thumb
 523              		.thumb_func
 525              	Update_Omni_Odometry:
 526              	.LVL37:
 527              	.LFB5:
 121:control-base/algo/src/omni_locomotion.c **** 
 122:control-base/algo/src/omni_locomotion.c **** /**
 123:control-base/algo/src/omni_locomotion.c ****  * @brief Update the omni robot's odometry data
 124:control-base/algo/src/omni_locomotion.c ****  */
 125:control-base/algo/src/omni_locomotion.c **** void Update_Omni_Odometry(pose_2d_t* pose, omni_physical_constants_t* omni_physical_constants, moto
 126:control-base/algo/src/omni_locomotion.c **** {
 528              		.loc 1 126 1 is_stmt 1 view -0
 529              		.cfi_startproc
 530              		@ args = 0, pretend = 0, frame = 64
 531              		@ frame_needed = 0, uses_anonymous_args = 0
 532              		.loc 1 126 1 is_stmt 0 view .LVU153
 533 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 534              	.LCFI6:
 535              		.cfi_def_cfa_offset 36
 536              		.cfi_offset 4, -36
 537              		.cfi_offset 5, -32
 538              		.cfi_offset 6, -28
 539              		.cfi_offset 7, -24
 540              		.cfi_offset 8, -20
 541              		.cfi_offset 9, -16
 542              		.cfi_offset 10, -12
 543              		.cfi_offset 11, -8
 544              		.cfi_offset 14, -4
 545 0004 2DED088B 		vpush.64	{d8, d9, d10, d11}
 546              	.LCFI7:
 547              		.cfi_def_cfa_offset 68
 548              		.cfi_offset 80, -68
 549              		.cfi_offset 81, -64
 550              		.cfi_offset 82, -60
 551              		.cfi_offset 83, -56
 552              		.cfi_offset 84, -52
 553              		.cfi_offset 85, -48
 554              		.cfi_offset 86, -44
 555              		.cfi_offset 87, -40
 556 0008 91B0     		sub	sp, sp, #68
 557              	.LCFI8:
 558              		.cfi_def_cfa_offset 136
 559 000a 0546     		mov	r5, r0
 560 000c 1446     		mov	r4, r2
 127:control-base/algo/src/omni_locomotion.c ****     if (prev != NULL)
 561              		.loc 1 127 5 is_stmt 1 view .LVU154
 562              		.loc 1 127 14 is_stmt 0 view .LVU155
 563 000e 724B     		ldr	r3, .L19
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 13


 564 0010 1B68     		ldr	r3, [r3]
 565              		.loc 1 127 8 view .LVU156
 566 0012 002B     		cmp	r3, #0
 567 0014 00F0DB80 		beq	.L16
 568 0018 10EE106A 		vmov	r6, s0
 569 001c B0EE609A 		vmov.f32	s18, s1
 570              	.LBB3:
 128:control-base/algo/src/omni_locomotion.c ****     {
 129:control-base/algo/src/omni_locomotion.c ****         motor_data_t motor_inc = {
 571              		.loc 1 129 9 is_stmt 1 view .LVU157
 130:control-base/algo/src/omni_locomotion.c ****             .front_left = curr_motor_data->front_left - prev->front_left,
 572              		.loc 1 130 42 is_stmt 0 view .LVU158
 573 0020 92ED007A 		vldr.32	s14, [r2]
 574              		.loc 1 130 61 view .LVU159
 575 0024 D3ED007A 		vldr.32	s15, [r3]
 576              		.loc 1 130 55 view .LVU160
 577 0028 37EE677A 		vsub.f32	s14, s14, s15
 129:control-base/algo/src/omni_locomotion.c ****             .front_left = curr_motor_data->front_left - prev->front_left,
 578              		.loc 1 129 22 view .LVU161
 579 002c 8DED067A 		vstr.32	s14, [sp, #24]
 131:control-base/algo/src/omni_locomotion.c ****             .back_left  = curr_motor_data->back_left  - prev->back_left,
 580              		.loc 1 131 42 view .LVU162
 581 0030 92ED016A 		vldr.32	s12, [r2, #4]
 582              		.loc 1 131 61 view .LVU163
 583 0034 D3ED017A 		vldr.32	s15, [r3, #4]
 584              		.loc 1 131 55 view .LVU164
 585 0038 36EE676A 		vsub.f32	s12, s12, s15
 129:control-base/algo/src/omni_locomotion.c ****             .front_left = curr_motor_data->front_left - prev->front_left,
 586              		.loc 1 129 22 view .LVU165
 587 003c 8DED076A 		vstr.32	s12, [sp, #28]
 132:control-base/algo/src/omni_locomotion.c ****             .back_right = curr_motor_data->back_right - prev->back_right,
 588              		.loc 1 132 42 view .LVU166
 589 0040 D2ED026A 		vldr.32	s13, [r2, #8]
 590              		.loc 1 132 61 view .LVU167
 591 0044 D3ED027A 		vldr.32	s15, [r3, #8]
 592              		.loc 1 132 55 view .LVU168
 593 0048 76EEE76A 		vsub.f32	s13, s13, s15
 129:control-base/algo/src/omni_locomotion.c ****             .front_left = curr_motor_data->front_left - prev->front_left,
 594              		.loc 1 129 22 view .LVU169
 595 004c CDED086A 		vstr.32	s13, [sp, #32]
 133:control-base/algo/src/omni_locomotion.c ****             .front_right= curr_motor_data->front_right- prev->front_right
 596              		.loc 1 133 42 view .LVU170
 597 0050 D2ED037A 		vldr.32	s15, [r2, #12]
 598              		.loc 1 133 61 view .LVU171
 599 0054 D3ED035A 		vldr.32	s11, [r3, #12]
 600              		.loc 1 133 55 view .LVU172
 601 0058 77EEE57A 		vsub.f32	s15, s15, s11
 129:control-base/algo/src/omni_locomotion.c ****             .front_left = curr_motor_data->front_left - prev->front_left,
 602              		.loc 1 129 22 view .LVU173
 603 005c CDED097A 		vstr.32	s15, [sp, #36]
 134:control-base/algo/src/omni_locomotion.c ****         };
 135:control-base/algo/src/omni_locomotion.c **** 
 136:control-base/algo/src/omni_locomotion.c ****         pose_2d_t pose_inc = {
 604              		.loc 1 136 9 is_stmt 1 view .LVU174
 605              		.loc 1 136 19 is_stmt 0 view .LVU175
 606 0060 0023     		movs	r3, #0
 607 0062 0A93     		str	r3, [sp, #40]
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 14


 608 0064 0B93     		str	r3, [sp, #44]
 609 0066 0C93     		str	r3, [sp, #48]
 610 0068 0D93     		str	r3, [sp, #52]
 611 006a 0E93     		str	r3, [sp, #56]
 612 006c 0F93     		str	r3, [sp, #60]
 137:control-base/algo/src/omni_locomotion.c ****             .x = (-motor_inc.front_left + motor_inc.back_left + motor_inc.back_right - motor_inc.fr
 613              		.loc 1 137 41 view .LVU176
 614 006e 76EE478A 		vsub.f32	s17, s12, s14
 615              		.loc 1 137 63 view .LVU177
 616 0072 76EEA88A 		vadd.f32	s17, s13, s17
 617              		.loc 1 137 86 view .LVU178
 618 0076 78EEE78A 		vsub.f32	s17, s17, s15
 619              		.loc 1 137 111 view .LVU179
 620 007a B5EE005A 		vmov.f32	s10, #2.5e-1
 621 007e 68EE858A 		vmul.f32	s17, s17, s10
 622              		.loc 1 137 115 view .LVU180
 623 0082 DFED565A 		vldr.32	s11, .L19+4
 624 0086 68EEA58A 		vmul.f32	s17, s17, s11
 136:control-base/algo/src/omni_locomotion.c ****             .x = (-motor_inc.front_left + motor_inc.back_left + motor_inc.back_right - motor_inc.fr
 625              		.loc 1 136 19 view .LVU181
 626 008a CDED0A8A 		vstr.32	s17, [sp, #40]
 138:control-base/algo/src/omni_locomotion.c ****             .y = (-motor_inc.front_left  - motor_inc.back_left + motor_inc.back_right + motor_inc.f
 627              		.loc 1 138 19 view .LVU182
 628 008e B1EE477A 		vneg.f32	s14, s14
 629              		.loc 1 138 42 view .LVU183
 630 0092 37EE467A 		vsub.f32	s14, s14, s12
 631              		.loc 1 138 64 view .LVU184
 632 0096 76EE876A 		vadd.f32	s13, s13, s14
 633              		.loc 1 138 87 view .LVU185
 634 009a 37EEA68A 		vadd.f32	s16, s15, s13
 635              		.loc 1 138 112 view .LVU186
 636 009e 28EE058A 		vmul.f32	s16, s16, s10
 637              		.loc 1 138 116 view .LVU187
 638 00a2 28EE258A 		vmul.f32	s16, s16, s11
 136:control-base/algo/src/omni_locomotion.c ****             .x = (-motor_inc.front_left + motor_inc.back_left + motor_inc.back_right - motor_inc.fr
 639              		.loc 1 136 19 view .LVU188
 640 00a6 8DED0B8A 		vstr.32	s16, [sp, #44]
 641 00aa 8DED0C0A 		vstr.32	s0, [sp, #48]
 139:control-base/algo/src/omni_locomotion.c ****             .theta = heading_angle
 140:control-base/algo/src/omni_locomotion.c ****         };
 141:control-base/algo/src/omni_locomotion.c ****         
 142:control-base/algo/src/omni_locomotion.c ****         float prev_x = pose->x;
 642              		.loc 1 142 9 is_stmt 1 view .LVU189
 643              		.loc 1 142 15 is_stmt 0 view .LVU190
 644 00ae 90ED00BA 		vldr.32	s22, [r0]
 645              	.LVL38:
 143:control-base/algo/src/omni_locomotion.c ****         float prev_y = pose->y;
 646              		.loc 1 143 9 is_stmt 1 view .LVU191
 647              		.loc 1 143 15 is_stmt 0 view .LVU192
 648 00b2 D0ED019A 		vldr.32	s19, [r0, #4]
 649              	.LVL39:
 144:control-base/algo/src/omni_locomotion.c ****         pose->x += pose_inc.x * sin(heading_angle) + pose_inc.y * cos(heading_angle);
 650              		.loc 1 144 9 is_stmt 1 view .LVU193
 651              		.loc 1 144 13 is_stmt 0 view .LVU194
 652 00b6 1BEE100A 		vmov	r0, s22
 653              	.LVL40:
 654              		.loc 1 144 13 view .LVU195
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 15


 655 00ba FFF7FEFF 		bl	__aeabi_f2d
 656              	.LVL41:
 657              		.loc 1 144 13 view .LVU196
 658 00be CDE90401 		strd	r0, [sp, #16]
 659              		.loc 1 144 28 view .LVU197
 660 00c2 18EE900A 		vmov	r0, s17
 661 00c6 FFF7FEFF 		bl	__aeabi_f2d
 662              	.LVL42:
 663 00ca 8046     		mov	r8, r0
 664 00cc 8946     		mov	r9, r1
 665              		.loc 1 144 33 view .LVU198
 666 00ce 3046     		mov	r0, r6	@ float
 667 00d0 FFF7FEFF 		bl	__aeabi_f2d
 668              	.LVL43:
 669 00d4 41EC1A0B 		vmov	d10, r0, r1
 670 00d8 B0EE4A0A 		vmov.f32	s0, s20
 671 00dc F0EE6A0A 		vmov.f32	s1, s21
 672 00e0 FFF7FEFF 		bl	sin
 673              	.LVL44:
 674 00e4 53EC102B 		vmov	r2, r3, d0
 675              		.loc 1 144 31 discriminator 1 view .LVU199
 676 00e8 8DED000B 		vstr.64	d0, [sp]
 677 00ec 4046     		mov	r0, r8
 678 00ee 4946     		mov	r1, r9
 679 00f0 FFF7FEFF 		bl	__aeabi_dmul
 680              	.LVL45:
 681 00f4 0646     		mov	r6, r0
 682              	.LVL46:
 683              		.loc 1 144 31 discriminator 1 view .LVU200
 684 00f6 0F46     		mov	r7, r1
 685              		.loc 1 144 62 discriminator 1 view .LVU201
 686 00f8 18EE100A 		vmov	r0, s16
 687 00fc FFF7FEFF 		bl	__aeabi_f2d
 688              	.LVL47:
 689 0100 CDE90201 		strd	r0, [sp, #8]
 690              		.loc 1 144 67 discriminator 1 view .LVU202
 691 0104 B0EE4A0A 		vmov.f32	s0, s20
 692 0108 F0EE6A0A 		vmov.f32	s1, s21
 693 010c FFF7FEFF 		bl	cos
 694              	.LVL48:
 695 0110 5BEC10AB 		vmov	r10, fp, d0
 696              		.loc 1 144 65 discriminator 2 view .LVU203
 697 0114 5246     		mov	r2, r10
 698 0116 5B46     		mov	r3, fp
 699 0118 DDE90201 		ldrd	r0, [sp, #8]
 700 011c FFF7FEFF 		bl	__aeabi_dmul
 701              	.LVL49:
 702 0120 0246     		mov	r2, r0
 703 0122 0B46     		mov	r3, r1
 704              		.loc 1 144 52 discriminator 2 view .LVU204
 705 0124 3046     		mov	r0, r6
 706 0126 3946     		mov	r1, r7
 707 0128 FFF7FEFF 		bl	__aeabi_dadd
 708              	.LVL50:
 709 012c 0246     		mov	r2, r0
 710 012e 0B46     		mov	r3, r1
 711              		.loc 1 144 17 discriminator 2 view .LVU205
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 16


 712 0130 DDE90401 		ldrd	r0, [sp, #16]
 713 0134 FFF7FEFF 		bl	__aeabi_dadd
 714              	.LVL51:
 715 0138 FFF7FEFF 		bl	__aeabi_d2f
 716              	.LVL52:
 717 013c 08EE100A 		vmov	s16, r0
 718 0140 2860     		str	r0, [r5]	@ float
 145:control-base/algo/src/omni_locomotion.c ****         pose->y += pose_inc.x * -cos(heading_angle) + pose_inc.y * sin(heading_angle);
 719              		.loc 1 145 9 is_stmt 1 view .LVU206
 720              		.loc 1 145 13 is_stmt 0 view .LVU207
 721 0142 19EE900A 		vmov	r0, s19
 722 0146 FFF7FEFF 		bl	__aeabi_f2d
 723              	.LVL53:
 724 014a 0646     		mov	r6, r0
 725 014c 0F46     		mov	r7, r1
 726              		.loc 1 145 33 discriminator 1 view .LVU208
 727 014e 5246     		mov	r2, r10
 728 0150 0BF10043 		add	r3, fp, #-2147483648
 729              		.loc 1 145 31 discriminator 1 view .LVU209
 730 0154 4046     		mov	r0, r8
 731 0156 4946     		mov	r1, r9
 732 0158 FFF7FEFF 		bl	__aeabi_dmul
 733              	.LVL54:
 734 015c 8046     		mov	r8, r0
 735 015e 8946     		mov	r9, r1
 736              		.loc 1 145 66 discriminator 2 view .LVU210
 737 0160 DDE90223 		ldrd	r2, [sp, #8]
 738 0164 DDE90001 		ldrd	r0, [sp]
 739 0168 FFF7FEFF 		bl	__aeabi_dmul
 740              	.LVL55:
 741 016c 0246     		mov	r2, r0
 742 016e 0B46     		mov	r3, r1
 743              		.loc 1 145 53 discriminator 2 view .LVU211
 744 0170 4046     		mov	r0, r8
 745 0172 4946     		mov	r1, r9
 746 0174 FFF7FEFF 		bl	__aeabi_dadd
 747              	.LVL56:
 748 0178 0246     		mov	r2, r0
 749 017a 0B46     		mov	r3, r1
 750              		.loc 1 145 17 discriminator 2 view .LVU212
 751 017c 3046     		mov	r0, r6
 752 017e 3946     		mov	r1, r7
 753 0180 FFF7FEFF 		bl	__aeabi_dadd
 754              	.LVL57:
 755 0184 FFF7FEFF 		bl	__aeabi_d2f
 756              	.LVL58:
 757 0188 07EE900A 		vmov	s15, r0
 758 018c 6860     		str	r0, [r5, #4]	@ float
 146:control-base/algo/src/omni_locomotion.c ****         pose->theta = gimbal_yaw;
 759              		.loc 1 146 9 is_stmt 1 view .LVU213
 760              		.loc 1 146 21 is_stmt 0 view .LVU214
 761 018e 85ED029A 		vstr.32	s18, [r5, #8]
 147:control-base/algo/src/omni_locomotion.c ****         
 148:control-base/algo/src/omni_locomotion.c ****         pose->vx = (pose->x - prev_x) / 0.002f;
 762              		.loc 1 148 9 is_stmt 1 view .LVU215
 763              		.loc 1 148 29 is_stmt 0 view .LVU216
 764 0192 38EE4B8A 		vsub.f32	s16, s16, s22
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 17


 765              		.loc 1 148 39 view .LVU217
 766 0196 9FED127A 		vldr.32	s14, .L19+8
 767 019a C8EE076A 		vdiv.f32	s13, s16, s14
 768              		.loc 1 148 18 view .LVU218
 769 019e C5ED036A 		vstr.32	s13, [r5, #12]
 149:control-base/algo/src/omni_locomotion.c ****         pose->vy = (pose->y - prev_y) / 0.002f;
 770              		.loc 1 149 9 is_stmt 1 view .LVU219
 771              		.loc 1 149 29 is_stmt 0 view .LVU220
 772 01a2 77EEE97A 		vsub.f32	s15, s15, s19
 773              		.loc 1 149 39 view .LVU221
 774 01a6 C7EE876A 		vdiv.f32	s13, s15, s14
 775              		.loc 1 149 18 view .LVU222
 776 01aa C5ED046A 		vstr.32	s13, [r5, #16]
 150:control-base/algo/src/omni_locomotion.c ****         
 151:control-base/algo/src/omni_locomotion.c ****         prev->front_left = curr_motor_data->front_left;
 777              		.loc 1 151 9 is_stmt 1 view .LVU223
 778              		.loc 1 151 13 is_stmt 0 view .LVU224
 779 01ae 0A4B     		ldr	r3, .L19
 780 01b0 1A68     		ldr	r2, [r3]
 781              		.loc 1 151 43 view .LVU225
 782 01b2 2168     		ldr	r1, [r4]	@ float
 783              		.loc 1 151 26 view .LVU226
 784 01b4 1160     		str	r1, [r2]	@ float
 152:control-base/algo/src/omni_locomotion.c ****         prev->back_left  = curr_motor_data->back_left;
 785              		.loc 1 152 9 is_stmt 1 view .LVU227
 786              		.loc 1 152 13 is_stmt 0 view .LVU228
 787 01b6 1B68     		ldr	r3, [r3]
 788              		.loc 1 152 43 view .LVU229
 789 01b8 6268     		ldr	r2, [r4, #4]	@ float
 790              		.loc 1 152 26 view .LVU230
 791 01ba 5A60     		str	r2, [r3, #4]	@ float
 153:control-base/algo/src/omni_locomotion.c ****         prev->back_right = curr_motor_data->back_right;
 792              		.loc 1 153 9 is_stmt 1 view .LVU231
 793              		.loc 1 153 43 is_stmt 0 view .LVU232
 794 01bc A268     		ldr	r2, [r4, #8]	@ float
 795              		.loc 1 153 26 view .LVU233
 796 01be 9A60     		str	r2, [r3, #8]	@ float
 154:control-base/algo/src/omni_locomotion.c ****         prev->front_right= curr_motor_data->front_right;
 797              		.loc 1 154 9 is_stmt 1 view .LVU234
 798              		.loc 1 154 43 is_stmt 0 view .LVU235
 799 01c0 E268     		ldr	r2, [r4, #12]	@ float
 800              		.loc 1 154 26 view .LVU236
 801 01c2 DA60     		str	r2, [r3, #12]	@ float
 802              	.LVL59:
 803              	.L15:
 804              		.loc 1 154 26 view .LVU237
 805              	.LBE3:
 155:control-base/algo/src/omni_locomotion.c ****     }
 156:control-base/algo/src/omni_locomotion.c ****     else
 157:control-base/algo/src/omni_locomotion.c ****     {
 158:control-base/algo/src/omni_locomotion.c ****         _Init_Omni_Odometry(pose, omni_physical_constants->init_pose, curr_motor_data);
 159:control-base/algo/src/omni_locomotion.c ****     }
 160:control-base/algo/src/omni_locomotion.c **** }
 806              		.loc 1 160 1 view .LVU238
 807 01c4 11B0     		add	sp, sp, #68
 808              	.LCFI9:
 809              		.cfi_remember_state
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 18


 810              		.cfi_def_cfa_offset 68
 811              		@ sp needed
 812 01c6 BDEC088B 		vldm	sp!, {d8-d11}
 813              	.LCFI10:
 814              		.cfi_restore 86
 815              		.cfi_restore 87
 816              		.cfi_restore 84
 817              		.cfi_restore 85
 818              		.cfi_restore 82
 819              		.cfi_restore 83
 820              		.cfi_restore 80
 821              		.cfi_restore 81
 822              		.cfi_def_cfa_offset 36
 823 01ca BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 824              	.LVL60:
 825              	.L16:
 826              	.LCFI11:
 827              		.cfi_restore_state
 158:control-base/algo/src/omni_locomotion.c ****     }
 828              		.loc 1 158 9 is_stmt 1 view .LVU239
 829 01ce 0969     		ldr	r1, [r1, #16]
 830              	.LVL61:
 158:control-base/algo/src/omni_locomotion.c ****     }
 831              		.loc 1 158 9 is_stmt 0 view .LVU240
 832 01d0 FFF7FEFF 		bl	_Init_Omni_Odometry
 833              	.LVL62:
 834              		.loc 1 160 1 view .LVU241
 835 01d4 F6E7     		b	.L15
 836              	.L20:
 837 01d6 00BF     		.align	2
 838              	.L19:
 839 01d8 00000000 		.word	prev
 840 01dc F304353F 		.word	1060439283
 841 01e0 6F12033B 		.word	990057071
 842              		.cfi_endproc
 843              	.LFE5:
 845              		.section	.bss.prev_storage.0,"aw",%nobits
 846              		.align	2
 849              	prev_storage.0:
 850 0000 00000000 		.space	16
 850      00000000 
 850      00000000 
 850      00000000 
 851              		.global	prev
 852              		.section	.bss.prev,"aw",%nobits
 853              		.align	2
 856              	prev:
 857 0000 00000000 		.space	4
 858              		.text
 859              	.Letext0:
 860              		.file 2 "control-base/algo/inc/omni_locomotion.h"
 861              		.file 3 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/math.h"
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 omni_locomotion.c
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:21     .text.omni_init:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:27     .text.omni_init:00000000 omni_init
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:165    .text.omni_calculate_kinematics:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:171    .text.omni_calculate_kinematics:00000000 omni_calculate_kinematics
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:277    .text.omni_desaturate_wheel_speeds:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:283    .text.omni_desaturate_wheel_speeds:00000000 omni_desaturate_wheel_speeds
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:401    .text.omni_convert_to_rpm:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:407    .text.omni_convert_to_rpm:00000000 omni_convert_to_rpm
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:445    .text.omni_convert_to_rpm:00000038 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:450    .text._Init_Omni_Odometry:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:456    .text._Init_Omni_Odometry:00000000 _Init_Omni_Odometry
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:513    .text._Init_Omni_Odometry:00000024 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:849    .bss.prev_storage.0:00000000 prev_storage.0
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:856    .bss.prev:00000000 prev
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:519    .text.Update_Omni_Odometry:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:525    .text.Update_Omni_Odometry:00000000 Update_Omni_Odometry
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:839    .text.Update_Omni_Odometry:000001d8 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:846    .bss.prev_storage.0:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccVwsS6D.s:853    .bss.prev:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
sin
__aeabi_ddiv
__aeabi_d2f
cos
fmaxf
__aeabi_dmul
__aeabi_dadd
