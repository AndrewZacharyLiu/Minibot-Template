ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"dji_motor.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "control-base/devices/src/dji_motor.c"
  20              		.section	.text.DJI_Motor_Decode,"ax",%progbits
  21              		.align	1
  22              		.global	DJI_Motor_Decode
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	DJI_Motor_Decode:
  28              	.LVL0:
  29              	.LFB154:
   1:control-base/devices/src/dji_motor.c **** #include "dji_motor.h"
   2:control-base/devices/src/dji_motor.c **** 
   3:control-base/devices/src/dji_motor.c **** #include <stdint.h>
   4:control-base/devices/src/dji_motor.c **** #include <stdlib.h>
   5:control-base/devices/src/dji_motor.c **** #include "bsp_can.h"
   6:control-base/devices/src/dji_motor.c **** #include "user_math.h"
   7:control-base/devices/src/dji_motor.c **** #include "motor.h"
   8:control-base/devices/src/dji_motor.c **** #include <math.h>
   9:control-base/devices/src/dji_motor.c **** 
  10:control-base/devices/src/dji_motor.c **** DJI_Motor_Handle_t *g_dji_motors[MAX_DJI_MOTORS] = {NULL};
  11:control-base/devices/src/dji_motor.c **** uint8_t g_dji_motor_count = 0;
  12:control-base/devices/src/dji_motor.c **** float test_tmd;
  13:control-base/devices/src/dji_motor.c **** DJI_Send_Group_t *g_dji_send_group[MAX_DJI_MOTOR_GROUPS] = {NULL};
  14:control-base/devices/src/dji_motor.c **** uint8_t g_dji_motor_group_count = 0;
  15:control-base/devices/src/dji_motor.c **** 
  16:control-base/devices/src/dji_motor.c **** void DJI_Motor_Decode(CAN_Instance_t *can_instance);
  17:control-base/devices/src/dji_motor.c **** void DJI_Set_Position(DJI_Motor_Handle_t *motor_handle, float pos);
  18:control-base/devices/src/dji_motor.c **** void DJI_Set_Speed(DJI_Motor_Handle_t *motor_handle, float speed);
  19:control-base/devices/src/dji_motor.c **** void DJI_Set_Torque(DJI_Motor_Handle_t *motor_handle, float torque);
  20:control-base/devices/src/dji_motor.c **** void DJI_Motor_Disable(DJI_Motor_Handle_t *motor_handle);
  21:control-base/devices/src/dji_motor.c **** 
  22:control-base/devices/src/dji_motor.c **** uint8_t DJI_Motor_Assign_To_Group(DJI_Motor_Handle_t *motor_handle, uint16_t tx_id)
  23:control-base/devices/src/dji_motor.c **** {
  24:control-base/devices/src/dji_motor.c ****     uint8_t can_bus = motor_handle->can_bus;
  25:control-base/devices/src/dji_motor.c ****     uint8_t real_id; // the order of which the motor will be send in the send group can frame
  26:control-base/devices/src/dji_motor.c ****     // 1-4 are the first group, 5-8 are the second group
  27:control-base/devices/src/dji_motor.c ****     // this real id will decide the order of te motor torque in the 8-byte can data frame
  28:control-base/devices/src/dji_motor.c ****     if (motor_handle->speed_controller_id > 4)
  29:control-base/devices/src/dji_motor.c ****     {
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 2


  30:control-base/devices/src/dji_motor.c ****         real_id = motor_handle->speed_controller_id - 5;
  31:control-base/devices/src/dji_motor.c ****     }
  32:control-base/devices/src/dji_motor.c ****     else
  33:control-base/devices/src/dji_motor.c ****     {
  34:control-base/devices/src/dji_motor.c ****         real_id = motor_handle->speed_controller_id - 1;
  35:control-base/devices/src/dji_motor.c ****     }
  36:control-base/devices/src/dji_motor.c ****     // check if the motor belongs to a group that has been created
  37:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_group_count; i++)
  38:control-base/devices/src/dji_motor.c ****     {
  39:control-base/devices/src/dji_motor.c ****         // if the group is already created, add the motor to the group
  40:control-base/devices/src/dji_motor.c ****         if ((g_dji_send_group[i]->can_instance->can_bus == can_bus) && (g_dji_send_group[i]->can_in
  41:control-base/devices/src/dji_motor.c ****         {
  42:control-base/devices/src/dji_motor.c ****             // change register indicator to include the new motor. This will be used in @ref DJI_Mo
  43:control-base/devices/src/dji_motor.c ****             g_dji_send_group[i]->register_device_indicator |= (1 << real_id);
  44:control-base/devices/src/dji_motor.c ****             // output current pointer of the motor
  45:control-base/devices/src/dji_motor.c ****             // send group will check the value pointed by the pointer and send it at a predefined f
  46:control-base/devices/src/dji_motor.c ****             g_dji_send_group[i]->motor_torq[real_id] = &motor_handle->output_current;
  47:control-base/devices/src/dji_motor.c ****             return 0;
  48:control-base/devices/src/dji_motor.c ****         }
  49:control-base/devices/src/dji_motor.c ****     }
  50:control-base/devices/src/dji_motor.c ****     // if reach here, create a new group
  51:control-base/devices/src/dji_motor.c ****     DJI_Send_Group_t *new_group = (DJI_Send_Group_t *)malloc(sizeof(DJI_Send_Group_t));
  52:control-base/devices/src/dji_motor.c ****     new_group->can_instance = calloc(sizeof(CAN_Instance_t), 1);
  53:control-base/devices/src/dji_motor.c ****     new_group->can_instance->can_bus = can_bus;
  54:control-base/devices/src/dji_motor.c ****     // allocate memory for tx_header
  55:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header = malloc(sizeof(CAN_TxHeaderTypeDef));
  56:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->StdId = tx_id;      // set id (the actual id that will be s
  57:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->IDE = CAN_ID_STD;   // standard id (check CAN documentation
  58:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->RTR = CAN_RTR_DATA; // data frame (check CAN documentation 
  59:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->DLC = 8;            // 8 bytes of data (check CAN documenta
  60:control-base/devices/src/dji_motor.c ****     // change register indicator to include the new motor. This will be used in @ref DJI_Motor_Send
  61:control-base/devices/src/dji_motor.c ****     new_group->register_device_indicator = (1 << real_id);
  62:control-base/devices/src/dji_motor.c ****     // output current pointer of the motor
  63:control-base/devices/src/dji_motor.c ****     // send group will check the value pointed by the pointer and send it at a predefined frequency
  64:control-base/devices/src/dji_motor.c ****     new_group->motor_torq[real_id] = &motor_handle->output_current;
  65:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
  66:control-base/devices/src/dji_motor.c ****     // assign new send group to the global array
  67:control-base/devices/src/dji_motor.c ****     g_dji_send_group[g_dji_motor_group_count++] = new_group;
  68:control-base/devices/src/dji_motor.c ****     return 1;
  69:control-base/devices/src/dji_motor.c **** }
  70:control-base/devices/src/dji_motor.c **** 
  71:control-base/devices/src/dji_motor.c **** DJI_Motor_Handle_t *DJI_Motor_Init(Motor_Config_t *config, DJI_Motor_Type_t type)
  72:control-base/devices/src/dji_motor.c **** {
  73:control-base/devices/src/dji_motor.c ****     DJI_Motor_Handle_t *motor_handle = malloc(sizeof(DJI_Motor_Handle_t));
  74:control-base/devices/src/dji_motor.c ****     // Initialize motor handle with the given configuration
  75:control-base/devices/src/dji_motor.c ****     motor_handle->motor_type = type;
  76:control-base/devices/src/dji_motor.c ****     motor_handle->can_bus = config->can_bus;
  77:control-base/devices/src/dji_motor.c ****     motor_handle->speed_controller_id = config->speed_controller_id;
  78:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = config->control_mode;
  79:control-base/devices/src/dji_motor.c ****     motor_handle->pos_feedback_absolute_angle = config->pos_feedback_absolute_angle;
  80:control-base/devices/src/dji_motor.c ****     motor_handle->motor_reversal = config->motor_reversal;
  81:control-base/devices/src/dji_motor.c ****     motor_handle->use_external_feedback = config->use_external_feedback;
  82:control-base/devices/src/dji_motor.c ****     motor_handle->external_feedback_dir = config->external_feedback_dir;
  83:control-base/devices/src/dji_motor.c ****     motor_handle->external_angle_feedback_ptr = config->external_angle_feedback_ptr;
  84:control-base/devices/src/dji_motor.c ****     motor_handle->external_velocity_feedback_ptr = config->external_velocity_feedback_ptr;
  85:control-base/devices/src/dji_motor.c **** 
  86:control-base/devices/src/dji_motor.c ****     // Initialize motor stats
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 3


  87:control-base/devices/src/dji_motor.c ****     DJI_Motor_Stats_t *motor_stats = malloc(sizeof(DJI_Motor_Stats_t));
  88:control-base/devices/src/dji_motor.c ****     motor_stats->encoder_offset = config->offset;
  89:control-base/devices/src/dji_motor.c ****     motor_stats->total_round = 0;
  90:control-base/devices/src/dji_motor.c ****     motor_stats->current_tick = 0;
  91:control-base/devices/src/dji_motor.c ****     motor_stats->current_vel_rpm = 0;
  92:control-base/devices/src/dji_motor.c ****     motor_stats->current_torq = 0;
  93:control-base/devices/src/dji_motor.c ****     motor_stats->temp = 0;
  94:control-base/devices/src/dji_motor.c ****     motor_handle->stats = motor_stats;
  95:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
  96:control-base/devices/src/dji_motor.c **** 
  97:control-base/devices/src/dji_motor.c ****     // Initialize PID controllers (bitwise AND to check if the control mode is enabled)
  98:control-base/devices/src/dji_motor.c ****     if ((motor_handle->control_mode & VELOCITY_CONTROL) == VELOCITY_CONTROL)
  99:control-base/devices/src/dji_motor.c ****     {
 100:control-base/devices/src/dji_motor.c ****         motor_handle->velocity_pid = malloc(sizeof(PID_t));
 101:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->velocity_pid, &config->velocity_pid, sizeof(PID_t));
 102:control-base/devices/src/dji_motor.c ****     }
 103:control-base/devices/src/dji_motor.c ****     if ((motor_handle->control_mode & POSITION_CONTROL) == POSITION_CONTROL)
 104:control-base/devices/src/dji_motor.c ****     {
 105:control-base/devices/src/dji_motor.c ****         motor_handle->angle_pid = malloc(sizeof(PID_t));
 106:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->angle_pid, &config->angle_pid, sizeof(PID_t));
 107:control-base/devices/src/dji_motor.c ****     }
 108:control-base/devices/src/dji_motor.c ****     if ((motor_handle->control_mode & TORQUE_CONTROL) == TORQUE_CONTROL)
 109:control-base/devices/src/dji_motor.c ****     {
 110:control-base/devices/src/dji_motor.c ****         motor_handle->torque_pid = malloc(sizeof(PID_t));
 111:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->torque_pid, &config->torque_pid, sizeof(PID_t));
 112:control-base/devices/src/dji_motor.c ****     }
 113:control-base/devices/src/dji_motor.c **** 
 114:control-base/devices/src/dji_motor.c ****     CAN_Instance_t *receiver_can_instance = NULL;
 115:control-base/devices/src/dji_motor.c ****     // initialize receive instance and send Group assignment based on motor type (Check DJI motor f
 116:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_type)
 117:control-base/devices/src/dji_motor.c ****     {
 118:control-base/devices/src/dji_motor.c ****     case GM6020:
 119:control-base/devices/src/dji_motor.c ****         receiver_can_instance = CAN_Device_Register(config->can_bus, config->tx_id,
 120:control-base/devices/src/dji_motor.c ****                                                     0x204 + config->speed_controller_id, DJI_Motor_
 121:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 122:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = GM6020_REDUCTION_RATIO;
 123:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 124:control-base/devices/src/dji_motor.c ****         {
 125:control-base/devices/src/dji_motor.c ****         case 1:
 126:control-base/devices/src/dji_motor.c ****         case 2:
 127:control-base/devices/src/dji_motor.c ****         case 3:
 128:control-base/devices/src/dji_motor.c ****         case 4:
 129:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x1FF);
 130:control-base/devices/src/dji_motor.c ****             break;
 131:control-base/devices/src/dji_motor.c ****         case 5:
 132:control-base/devices/src/dji_motor.c ****         case 6:
 133:control-base/devices/src/dji_motor.c ****         case 7:
 134:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x2FF);
 135:control-base/devices/src/dji_motor.c ****             break;
 136:control-base/devices/src/dji_motor.c ****         default:
 137:control-base/devices/src/dji_motor.c ****             // TODO: LOG ERROR
 138:control-base/devices/src/dji_motor.c ****             break;
 139:control-base/devices/src/dji_motor.c ****         }
 140:control-base/devices/src/dji_motor.c ****         break;
 141:control-base/devices/src/dji_motor.c ****     case M3508:
 142:control-base/devices/src/dji_motor.c ****         receiver_can_instance = CAN_Device_Register(config->can_bus, config->tx_id,
 143:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 4


 144:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 145:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_REDUCTION_RATIO;
 146:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 147:control-base/devices/src/dji_motor.c ****         {
 148:control-base/devices/src/dji_motor.c ****         case 1:
 149:control-base/devices/src/dji_motor.c ****         case 2:
 150:control-base/devices/src/dji_motor.c ****         case 3:
 151:control-base/devices/src/dji_motor.c ****         case 4:
 152:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x200);
 153:control-base/devices/src/dji_motor.c ****             break;
 154:control-base/devices/src/dji_motor.c ****         case 5:
 155:control-base/devices/src/dji_motor.c ****         case 6:
 156:control-base/devices/src/dji_motor.c ****         case 7:
 157:control-base/devices/src/dji_motor.c ****         case 8:
 158:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x1FF);
 159:control-base/devices/src/dji_motor.c ****             break;
 160:control-base/devices/src/dji_motor.c ****         default:
 161:control-base/devices/src/dji_motor.c ****             break;
 162:control-base/devices/src/dji_motor.c ****         }
 163:control-base/devices/src/dji_motor.c ****         break;
 164:control-base/devices/src/dji_motor.c ****     case M3508_PLANETARY:
 165:control-base/devices/src/dji_motor.c ****         receiver_can_instance = CAN_Device_Register(config->can_bus, config->tx_id,
 166:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 167:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 168:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_PLANETARY_REDUCTION_RATIO;
 169:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 170:control-base/devices/src/dji_motor.c ****         {
 171:control-base/devices/src/dji_motor.c ****         case 1:
 172:control-base/devices/src/dji_motor.c ****         case 2:
 173:control-base/devices/src/dji_motor.c ****         case 3:
 174:control-base/devices/src/dji_motor.c ****         case 4:
 175:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x200);
 176:control-base/devices/src/dji_motor.c ****             break;
 177:control-base/devices/src/dji_motor.c ****         case 5:
 178:control-base/devices/src/dji_motor.c ****         case 6:
 179:control-base/devices/src/dji_motor.c ****         case 7:
 180:control-base/devices/src/dji_motor.c ****         case 8:
 181:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x1FF);
 182:control-base/devices/src/dji_motor.c ****             break;
 183:control-base/devices/src/dji_motor.c ****         default:
 184:control-base/devices/src/dji_motor.c ****             break;
 185:control-base/devices/src/dji_motor.c ****         }
 186:control-base/devices/src/dji_motor.c ****         break;
 187:control-base/devices/src/dji_motor.c ****     case M2006:
 188:control-base/devices/src/dji_motor.c ****         receiver_can_instance = CAN_Device_Register(config->can_bus, config->tx_id,
 189:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 190:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 191:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M2006_REDUCTION_RATIO;
 192:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 193:control-base/devices/src/dji_motor.c ****         {
 194:control-base/devices/src/dji_motor.c ****         case 1:
 195:control-base/devices/src/dji_motor.c ****         case 2:
 196:control-base/devices/src/dji_motor.c ****         case 3:
 197:control-base/devices/src/dji_motor.c ****         case 4:
 198:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x200);
 199:control-base/devices/src/dji_motor.c ****             break;
 200:control-base/devices/src/dji_motor.c ****         case 5:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 5


 201:control-base/devices/src/dji_motor.c ****         case 6:
 202:control-base/devices/src/dji_motor.c ****         case 7:
 203:control-base/devices/src/dji_motor.c ****         case 8:
 204:control-base/devices/src/dji_motor.c ****             DJI_Motor_Assign_To_Group(motor_handle, 0x1FF);
 205:control-base/devices/src/dji_motor.c ****             break;
 206:control-base/devices/src/dji_motor.c ****         default:
 207:control-base/devices/src/dji_motor.c ****             break;
 208:control-base/devices/src/dji_motor.c ****         }
 209:control-base/devices/src/dji_motor.c ****         break;
 210:control-base/devices/src/dji_motor.c ****     default:
 211:control-base/devices/src/dji_motor.c ****         break;
 212:control-base/devices/src/dji_motor.c ****     }
 213:control-base/devices/src/dji_motor.c ****     g_dji_motors[g_dji_motor_count++] = motor_handle;
 214:control-base/devices/src/dji_motor.c ****     return motor_handle;
 215:control-base/devices/src/dji_motor.c **** }
 216:control-base/devices/src/dji_motor.c **** 
 217:control-base/devices/src/dji_motor.c **** // absolute angle of motor (does not account for gear reduction)
 218:control-base/devices/src/dji_motor.c **** float DJI_Motor_Get_Absolute_Angle(DJI_Motor_Handle_t *motor_handle)
 219:control-base/devices/src/dji_motor.c **** {
 220:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 221:control-base/devices/src/dji_motor.c ****     {
 222:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 223:control-base/devices/src/dji_motor.c ****         return motor_handle->stats->absolute_angle_rad;
 224:control-base/devices/src/dji_motor.c ****         break;
 225:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 226:control-base/devices/src/dji_motor.c ****         return -motor_handle->stats->absolute_angle_rad + 2 * PI;
 227:control-base/devices/src/dji_motor.c ****         break;
 228:control-base/devices/src/dji_motor.c ****     }
 229:control-base/devices/src/dji_motor.c ****     return -1;
 230:control-base/devices/src/dji_motor.c **** }
 231:control-base/devices/src/dji_motor.c **** 
 232:control-base/devices/src/dji_motor.c **** // total angle of motor (accounts for gear reduction)
 233:control-base/devices/src/dji_motor.c **** float DJI_Motor_Get_Total_Angle(DJI_Motor_Handle_t *motor_handle)
 234:control-base/devices/src/dji_motor.c **** {
 235:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 236:control-base/devices/src/dji_motor.c ****     {
 237:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 238:control-base/devices/src/dji_motor.c ****         return motor_handle->stats->total_angle_rad;
 239:control-base/devices/src/dji_motor.c ****         break;
 240:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 241:control-base/devices/src/dji_motor.c ****         return -motor_handle->stats->total_angle_rad;
 242:control-base/devices/src/dji_motor.c ****         break;
 243:control-base/devices/src/dji_motor.c ****     }
 244:control-base/devices/src/dji_motor.c ****     return -1;
 245:control-base/devices/src/dji_motor.c **** }
 246:control-base/devices/src/dji_motor.c **** 
 247:control-base/devices/src/dji_motor.c **** float DJI_Motor_Get_Velocity(DJI_Motor_Handle_t *motor_handle)
 248:control-base/devices/src/dji_motor.c **** {
 249:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 250:control-base/devices/src/dji_motor.c ****     {
 251:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 252:control-base/devices/src/dji_motor.c ****         return motor_handle->stats->current_vel_rpm;
 253:control-base/devices/src/dji_motor.c ****         break;
 254:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 255:control-base/devices/src/dji_motor.c ****         return -motor_handle->stats->current_vel_rpm;
 256:control-base/devices/src/dji_motor.c ****         break;
 257:control-base/devices/src/dji_motor.c ****     }
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 6


 258:control-base/devices/src/dji_motor.c ****     return -1;
 259:control-base/devices/src/dji_motor.c **** }
 260:control-base/devices/src/dji_motor.c **** 
 261:control-base/devices/src/dji_motor.c **** void DJI_Motor_Set_Angle(DJI_Motor_Handle_t *motor_handle, float angle)
 262:control-base/devices/src/dji_motor.c **** {
 263:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 264:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 265:control-base/devices/src/dji_motor.c ****     {
 266:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 267:control-base/devices/src/dji_motor.c ****         motor_handle->angle_pid->ref = angle;
 268:control-base/devices/src/dji_motor.c ****         break;
 269:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 270:control-base/devices/src/dji_motor.c ****         motor_handle->angle_pid->ref = -angle + 2 * PI;
 271:control-base/devices/src/dji_motor.c ****         break;
 272:control-base/devices/src/dji_motor.c ****     default:
 273:control-base/devices/src/dji_motor.c ****         break;
 274:control-base/devices/src/dji_motor.c ****     }
 275:control-base/devices/src/dji_motor.c **** }
 276:control-base/devices/src/dji_motor.c **** 
 277:control-base/devices/src/dji_motor.c **** void DJI_Motor_Set_Velocity(DJI_Motor_Handle_t *motor_handle, float velocity)
 278:control-base/devices/src/dji_motor.c **** {
 279:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 280:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 281:control-base/devices/src/dji_motor.c ****     {
 282:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 283:control-base/devices/src/dji_motor.c ****         motor_handle->velocity_pid->ref = velocity;
 284:control-base/devices/src/dji_motor.c ****         break;
 285:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 286:control-base/devices/src/dji_motor.c ****         motor_handle->velocity_pid->ref = -velocity;
 287:control-base/devices/src/dji_motor.c ****         break;
 288:control-base/devices/src/dji_motor.c ****     default:
 289:control-base/devices/src/dji_motor.c ****         break;
 290:control-base/devices/src/dji_motor.c ****     }
 291:control-base/devices/src/dji_motor.c **** }
 292:control-base/devices/src/dji_motor.c **** 
 293:control-base/devices/src/dji_motor.c **** /**
 294:control-base/devices/src/dji_motor.c ****  * TODO: Implement Close Loop Torque Control using the Feedback Current
 295:control-base/devices/src/dji_motor.c ****  * right now, this is an open loop torque control
 296:control-base/devices/src/dji_motor.c ****  * 
 297:control-base/devices/src/dji_motor.c ****  * @brief Use torque constant, target torque and current range to set the output current
 298:control-base/devices/src/dji_motor.c ****  * 
 299:control-base/devices/src/dji_motor.c ****  * @note motor statistics can be found on the following website
 300:control-base/devices/src/dji_motor.c ****  * @link https://www.robomaster.com/en-US/products/components/general/M3508
 301:control-base/devices/src/dji_motor.c ****  *       https://www.robomaster.com/en-US/products/components/detail/1277
 302:control-base/devices/src/dji_motor.c ****  *       https://www.robomaster.com/en-US/products/components/general/gm6020#downloads
 303:control-base/devices/src/dji_motor.c ****  * @warning GM6020 must be current control mode not voltage control mode
 304:control-base/devices/src/dji_motor.c ****  */
 305:control-base/devices/src/dji_motor.c **** void DJI_Motor_Set_Torque(DJI_Motor_Handle_t *motor_handle, float torque)
 306:control-base/devices/src/dji_motor.c **** {
 307:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 308:control-base/devices/src/dji_motor.c ****     float torque_constant = 0;
 309:control-base/devices/src/dji_motor.c ****     float current_amps = 0;
 310:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_type)
 311:control-base/devices/src/dji_motor.c ****     {
 312:control-base/devices/src/dji_motor.c ****     case GM6020:
 313:control-base/devices/src/dji_motor.c ****         // get torque constant from the motor type
 314:control-base/devices/src/dji_motor.c ****         current_amps = (torque / GM6020_TORQUE_CONSTANT);
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 7


 315:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 316:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -GM6020_MAX_CURRENT, GM6020_MAX_CURRENT, -GM6020_MAX_CURRENT_INT, GM602
 317:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 318:control-base/devices/src/dji_motor.c ****         break;
 319:control-base/devices/src/dji_motor.c ****     case M3508:
 320:control-base/devices/src/dji_motor.c ****         torque_constant = M3508_TORQUE_CONSTANT;
 321:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 322:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 323:control-base/devices/src/dji_motor.c ****         break;
 324:control-base/devices/src/dji_motor.c ****     case M3508_PLANETARY:
 325:control-base/devices/src/dji_motor.c ****         torque_constant = M3508_PLANETARY_TORQUE_CONSTANT;
 326:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 327:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 328:control-base/devices/src/dji_motor.c ****         break;
 329:control-base/devices/src/dji_motor.c ****     case M2006:
 330:control-base/devices/src/dji_motor.c ****         torque_constant = M2006_TORQUE_CONSTANT;
 331:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 332:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M2006_MAX_CURRENT, M2006_MAX_CURRENT, -M2006_MAX_CURRENT_INT, M2006_MA
 333:control-base/devices/src/dji_motor.c ****         
 334:control-base/devices/src/dji_motor.c ****         break;
 335:control-base/devices/src/dji_motor.c ****     }
 336:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 337:control-base/devices/src/dji_motor.c ****     {
 338:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_NORMAL:
 339:control-base/devices/src/dji_motor.c ****         // normal motor, set output current as is
 340:control-base/devices/src/dji_motor.c ****         motor_handle->output_current = (int16_t)current_amps;
 341:control-base/devices/src/dji_motor.c ****         break;
 342:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 343:control-base/devices/src/dji_motor.c ****         // reversed motor, set output current to negative value
 344:control-base/devices/src/dji_motor.c ****         motor_handle->output_current = (int16_t)(-current_amps);
 345:control-base/devices/src/dji_motor.c ****         break;
 346:control-base/devices/src/dji_motor.c ****     }
 347:control-base/devices/src/dji_motor.c **** }
 348:control-base/devices/src/dji_motor.c **** 
 349:control-base/devices/src/dji_motor.c **** void DJI_Motor_Set_Control_Mode(DJI_Motor_Handle_t *motor_handle, uint8_t control_mode)
 350:control-base/devices/src/dji_motor.c **** {
 351:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = control_mode;
 352:control-base/devices/src/dji_motor.c **** }
 353:control-base/devices/src/dji_motor.c **** 
 354:control-base/devices/src/dji_motor.c **** void DJI_Motor_Disable(DJI_Motor_Handle_t *motor_handle)
 355:control-base/devices/src/dji_motor.c **** {
 356:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 1;
 357:control-base/devices/src/dji_motor.c **** }
 358:control-base/devices/src/dji_motor.c **** 
 359:control-base/devices/src/dji_motor.c **** void DJI_Motor_Current_Calc()
 360:control-base/devices/src/dji_motor.c **** {
 361:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 362:control-base/devices/src/dji_motor.c ****     {
 363:control-base/devices/src/dji_motor.c ****         DJI_Motor_Handle_t *motor = g_dji_motors[i];
 364:control-base/devices/src/dji_motor.c ****         float angle_feedback = 0;
 365:control-base/devices/src/dji_motor.c ****         float velocity_feedback = 0;
 366:control-base/devices/src/dji_motor.c ****         // assign feedback depending on whether the motor uses an external sensor (like imu)
 367:control-base/devices/src/dji_motor.c ****         switch (motor->use_external_feedback)
 368:control-base/devices/src/dji_motor.c ****         {
 369:control-base/devices/src/dji_motor.c ****         case 1:
 370:control-base/devices/src/dji_motor.c ****             angle_feedback = motor->external_feedback_dir * ((float)*(motor->external_angle_feedbac
 371:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 8


 372:control-base/devices/src/dji_motor.c ****             break;
 373:control-base/devices/src/dji_motor.c ****         case 0:
 374:control-base/devices/src/dji_motor.c ****             angle_feedback = motor->stats->absolute_angle_rad;
 375:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->stats->current_vel_rpm;
 376:control-base/devices/src/dji_motor.c ****             break;
 377:control-base/devices/src/dji_motor.c ****         }
 378:control-base/devices/src/dji_motor.c ****         // check disabled flag
 379:control-base/devices/src/dji_motor.c ****         switch (motor->disabled)
 380:control-base/devices/src/dji_motor.c ****         {
 381:control-base/devices/src/dji_motor.c ****         case 1:
 382:control-base/devices/src/dji_motor.c ****             motor->output_current = 0;
 383:control-base/devices/src/dji_motor.c ****             break;
 384:control-base/devices/src/dji_motor.c ****         case 0:
 385:control-base/devices/src/dji_motor.c ****             // calculate motor current based on control mode, check documentation for more informat
 386:control-base/devices/src/dji_motor.c ****             switch (motor->control_mode)
 387:control-base/devices/src/dji_motor.c ****             {
 388:control-base/devices/src/dji_motor.c ****             case VELOCITY_CONTROL:
 389:control-base/devices/src/dji_motor.c ****             {
 390:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->velocity_pid, motor->velocity_pid->ref - velocit
 391:control-base/devices/src/dji_motor.c ****                 break;
 392:control-base/devices/src/dji_motor.c ****             }
 393:control-base/devices/src/dji_motor.c ****             case POSITION_CONTROL:
 394:control-base/devices/src/dji_motor.c ****             {
 395:control-base/devices/src/dji_motor.c ****                 float error = motor->angle_pid->ref - angle_feedback;
 396:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 397:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 398:control-base/devices/src/dji_motor.c ****                 break;
 399:control-base/devices/src/dji_motor.c ****             }
 400:control-base/devices/src/dji_motor.c ****             case POSITION_CONTROL_TOTAL_ANGLE:
 401:control-base/devices/src/dji_motor.c ****             {
 402:control-base/devices/src/dji_motor.c ****                 float error = motor->angle_pid->ref - motor->stats->total_angle_rad;
 403:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 404:control-base/devices/src/dji_motor.c ****                 break;
 405:control-base/devices/src/dji_motor.c ****             }
 406:control-base/devices/src/dji_motor.c ****             case TORQUE_CONTROL:
 407:control-base/devices/src/dji_motor.c ****             {
 408:control-base/devices/src/dji_motor.c ****                 // open loop torque control, output current is set when calling @ref DJI_Motor_Set_
 409:control-base/devices/src/dji_motor.c ****                 break;
 410:control-base/devices/src/dji_motor.c ****             }
 411:control-base/devices/src/dji_motor.c ****             case POSITION_VELOCITY_SERIES:
 412:control-base/devices/src/dji_motor.c ****             {
 413:control-base/devices/src/dji_motor.c ****                 // angle pid
 414:control-base/devices/src/dji_motor.c ****                 float error = motor->angle_pid->ref - angle_feedback;
 415:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 416:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 417:control-base/devices/src/dji_motor.c ****                 float output_vel = PID(motor->angle_pid, error);
 418:control-base/devices/src/dji_motor.c ****                 // velocity pid
 419:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->velocity_pid, output_vel - velocity_feedback);
 420:control-base/devices/src/dji_motor.c ****                 break;
 421:control-base/devices/src/dji_motor.c ****             }
 422:control-base/devices/src/dji_motor.c ****             case POSITION_VELOCITY_PARALLEL:
 423:control-base/devices/src/dji_motor.c ****             {
 424:control-base/devices/src/dji_motor.c ****                 // angle pid
 425:control-base/devices/src/dji_motor.c ****                 float error = motor->angle_pid->ref - angle_feedback;
 426:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error); // wrap angle error to (-pi, pi)
 427:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 428:control-base/devices/src/dji_motor.c ****                 // velocity pid
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 9


 429:control-base/devices/src/dji_motor.c ****                 float velocity_pid_output = PID(motor->velocity_pid, motor->velocity_pid->ref - vel
 430:control-base/devices/src/dji_motor.c ****                 // add parallel output
 431:control-base/devices/src/dji_motor.c ****                 motor->output_current = angle_pid_output + velocity_pid_output;
 432:control-base/devices/src/dji_motor.c ****                 break;
 433:control-base/devices/src/dji_motor.c ****             }
 434:control-base/devices/src/dji_motor.c ****             case POSITION_CONTROL_SPINTOP:
 435:control-base/devices/src/dji_motor.c ****             {
 436:control-base/devices/src/dji_motor.c ****                 // angle pid
 437:control-base/devices/src/dji_motor.c ****                 float error = motor->angle_pid->ref - angle_feedback;
 438:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 439:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 440:control-base/devices/src/dji_motor.c ****                 float output_vel = PID(motor->angle_pid, error);
 441:control-base/devices/src/dji_motor.c ****                 float spintop_feedforward = -motor->spintop_velocity * motor->spintop_feedforward_g
 442:control-base/devices/src/dji_motor.c ****                 // velocity pid
 443:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->velocity_pid,  output_vel - velocity_feedback) +
 444:control-base/devices/src/dji_motor.c ****                 break;
 445:control-base/devices/src/dji_motor.c ****             }
 446:control-base/devices/src/dji_motor.c ****             default:
 447:control-base/devices/src/dji_motor.c ****                 break;
 448:control-base/devices/src/dji_motor.c ****             }
 449:control-base/devices/src/dji_motor.c ****             break;
 450:control-base/devices/src/dji_motor.c ****         default:
 451:control-base/devices/src/dji_motor.c ****             break;
 452:control-base/devices/src/dji_motor.c ****         }
 453:control-base/devices/src/dji_motor.c ****     }
 454:control-base/devices/src/dji_motor.c **** }
 455:control-base/devices/src/dji_motor.c **** 
 456:control-base/devices/src/dji_motor.c **** /**
 457:control-base/devices/src/dji_motor.c ****  * Iteration through the registered send groups and send the motor torques.
 458:control-base/devices/src/dji_motor.c ****  * Send groups are initialized in @ref DJI_Motor_Assign_To_Group(), which is called
 459:control-base/devices/src/dji_motor.c ****  * during initialization in @ref DJI_Motor_Init()
 460:control-base/devices/src/dji_motor.c ****  */
 461:control-base/devices/src/dji_motor.c **** void DJI_Motor_Send()
 462:control-base/devices/src/dji_motor.c **** {
 463:control-base/devices/src/dji_motor.c ****     // Calculate motor current based on control mode for all motors
 464:control-base/devices/src/dji_motor.c ****     DJI_Motor_Current_Calc();
 465:control-base/devices/src/dji_motor.c ****     // Send motor torques (iterate through send groups)
 466:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_group_count; i++)
 467:control-base/devices/src/dji_motor.c ****     {
 468:control-base/devices/src/dji_motor.c ****         DJI_Send_Group_t *group = g_dji_send_group[i];
 469:control-base/devices/src/dji_motor.c ****         uint8_t register_indicator = group->register_device_indicator;
 470:control-base/devices/src/dji_motor.c ****         uint8_t *data = group->can_instance->tx_buffer;
 471:control-base/devices/src/dji_motor.c ****         // register_indicator is a 4-bit number, each bit represents a motor
 472:control-base/devices/src/dji_motor.c ****         // e.g. 0b1011 means motor 1, 2, 4 are registered, and motor 3 is not
 473:control-base/devices/src/dji_motor.c ****         // & is bitwise AND, if the bit is 1, the corresponding motor torque is sent
 474:control-base/devices/src/dji_motor.c ****         if (register_indicator & 0b0001)
 475:control-base/devices/src/dji_motor.c ****         {
 476:control-base/devices/src/dji_motor.c ****             static int16_t motor1 = 0;
 477:control-base/devices/src/dji_motor.c ****             motor1 = (*(group->motor_torq[0]));
 478:control-base/devices/src/dji_motor.c ****             data[0] = motor1 >> 8;
 479:control-base/devices/src/dji_motor.c ****             data[1] = motor1;
 480:control-base/devices/src/dji_motor.c ****         }
 481:control-base/devices/src/dji_motor.c ****         if (register_indicator & 0b0010)
 482:control-base/devices/src/dji_motor.c ****         {
 483:control-base/devices/src/dji_motor.c ****             static int16_t motor2 = 0;
 484:control-base/devices/src/dji_motor.c ****             motor2 = (*(group->motor_torq[1]));
 485:control-base/devices/src/dji_motor.c ****             data[2] = motor2 >> 8;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 10


 486:control-base/devices/src/dji_motor.c ****             data[3] = motor2;
 487:control-base/devices/src/dji_motor.c ****         }
 488:control-base/devices/src/dji_motor.c ****         if (register_indicator & 0b0100)
 489:control-base/devices/src/dji_motor.c ****         {
 490:control-base/devices/src/dji_motor.c ****             static int16_t motor3 = 0;
 491:control-base/devices/src/dji_motor.c ****             motor3 = (*(group->motor_torq[2]));
 492:control-base/devices/src/dji_motor.c ****             data[4] = motor3 >> 8;
 493:control-base/devices/src/dji_motor.c ****             data[5] = motor3;
 494:control-base/devices/src/dji_motor.c ****         }
 495:control-base/devices/src/dji_motor.c ****         if (register_indicator & 0b1000)
 496:control-base/devices/src/dji_motor.c ****         {
 497:control-base/devices/src/dji_motor.c ****             static int16_t motor4 = 0;
 498:control-base/devices/src/dji_motor.c ****             motor4 = (*(group->motor_torq[3]));
 499:control-base/devices/src/dji_motor.c ****             data[6] = motor4 >> 8;
 500:control-base/devices/src/dji_motor.c ****             data[7] = motor4;
 501:control-base/devices/src/dji_motor.c ****         }
 502:control-base/devices/src/dji_motor.c ****         if (CAN_Transmit(group->can_instance) != HAL_OK)
 503:control-base/devices/src/dji_motor.c ****         {
 504:control-base/devices/src/dji_motor.c ****             // Log Error (Transmission is not successful)
 505:control-base/devices/src/dji_motor.c ****         }
 506:control-base/devices/src/dji_motor.c ****     }
 507:control-base/devices/src/dji_motor.c **** }
 508:control-base/devices/src/dji_motor.c **** 
 509:control-base/devices/src/dji_motor.c **** /**
 510:control-base/devices/src/dji_motor.c ****  * Decode CAN frame for DJI motor
 511:control-base/devices/src/dji_motor.c ****  *
 512:control-base/devices/src/dji_motor.c ****  * encoder range [0, 8191]
 513:control-base/devices/src/dji_motor.c ****  * current range [-16384, 16384]
 514:control-base/devices/src/dji_motor.c ****  * speed unit rmpm
 515:control-base/devices/src/dji_motor.c ****  * temp unit degree celcius
 516:control-base/devices/src/dji_motor.c ****  */
 517:control-base/devices/src/dji_motor.c **** void DJI_Motor_Decode(CAN_Instance_t *can_instance)
 518:control-base/devices/src/dji_motor.c **** {
  30              		.loc 1 518 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
 519:control-base/devices/src/dji_motor.c ****     DJI_Motor_Stats_t *motor = (DJI_Motor_Stats_t *)can_instance->binding_motor_stats; // binding i
  35              		.loc 1 519 5 view .LVU1
  36              		.loc 1 519 24 is_stmt 0 view .LVU2
  37 0000 036A     		ldr	r3, [r0, #32]
  38              	.LVL1:
 520:control-base/devices/src/dji_motor.c ****     uint8_t *data = can_instance->rx_buffer;
  39              		.loc 1 520 5 is_stmt 1 view .LVU3
 521:control-base/devices/src/dji_motor.c **** 
 522:control-base/devices/src/dji_motor.c ****     /* CAN Frame Process*/
 523:control-base/devices/src/dji_motor.c ****     motor->last_tick = motor->current_tick;
  40              		.loc 1 523 5 view .LVU4
  41              		.loc 1 523 29 is_stmt 0 view .LVU5
  42 0002 1A88     		ldrh	r2, [r3]
  43              		.loc 1 523 22 view .LVU6
  44 0004 5A80     		strh	r2, [r3, #2]	@ movhi
 524:control-base/devices/src/dji_motor.c ****     motor->current_tick = (data[0] << 8 | data[1]);
  45              		.loc 1 524 5 is_stmt 1 view .LVU7
  46              		.loc 1 524 32 is_stmt 0 view .LVU8
  47 0006 817C     		ldrb	r1, [r0, #18]	@ zero_extendqisi2
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 11


  48              		.loc 1 524 47 view .LVU9
  49 0008 C27C     		ldrb	r2, [r0, #19]	@ zero_extendqisi2
  50              		.loc 1 524 41 view .LVU10
  51 000a 42EA0122 		orr	r2, r2, r1, lsl #8
  52              		.loc 1 524 25 view .LVU11
  53 000e 1A80     		strh	r2, [r3]	@ movhi
 525:control-base/devices/src/dji_motor.c ****     motor->current_vel_rpm = (int16_t)((data[2] << 8 | data[3])) * motor->reduction_ratio;
  54              		.loc 1 525 5 is_stmt 1 view .LVU12
  55              		.loc 1 525 45 is_stmt 0 view .LVU13
  56 0010 90F814C0 		ldrb	ip, [r0, #20]	@ zero_extendqisi2
  57              		.loc 1 525 60 view .LVU14
  58 0014 417D     		ldrb	r1, [r0, #21]	@ zero_extendqisi2
  59              		.loc 1 525 30 view .LVU15
  60 0016 41EA0C21 		orr	r1, r1, ip, lsl #8
  61 001a 09B2     		sxth	r1, r1
  62 001c 07EE901A 		vmov	s15, r1	@ int
  63              		.loc 1 525 73 view .LVU16
  64 0020 D3ED086A 		vldr.32	s13, [r3, #32]
  65              		.loc 1 525 66 view .LVU17
  66 0024 F8EEE77A 		vcvt.f32.s32	s15, s15
  67 0028 67EEA67A 		vmul.f32	s15, s15, s13
  68              		.loc 1 525 28 view .LVU18
  69 002c C3ED017A 		vstr.32	s15, [r3, #4]
 526:control-base/devices/src/dji_motor.c ****     motor->current_torq = (int16_t)(data[4] << 8 | data[5]);
  70              		.loc 1 526 5 is_stmt 1 view .LVU19
  71              		.loc 1 526 41 is_stmt 0 view .LVU20
  72 0030 90F816C0 		ldrb	ip, [r0, #22]	@ zero_extendqisi2
  73              		.loc 1 526 56 view .LVU21
  74 0034 C17D     		ldrb	r1, [r0, #23]	@ zero_extendqisi2
  75              		.loc 1 526 27 view .LVU22
  76 0036 41EA0C21 		orr	r1, r1, ip, lsl #8
  77              		.loc 1 526 25 view .LVU23
  78 003a 1981     		strh	r1, [r3, #8]	@ movhi
 527:control-base/devices/src/dji_motor.c ****     motor->temp = data[6];
  79              		.loc 1 527 5 is_stmt 1 view .LVU24
  80              		.loc 1 527 17 is_stmt 0 view .LVU25
  81 003c 017E     		ldrb	r1, [r0, #24]	@ zero_extendqisi2
  82 003e 9972     		strb	r1, [r3, #10]
 528:control-base/devices/src/dji_motor.c **** 
 529:control-base/devices/src/dji_motor.c ****     motor->last_absolute_angle_rad = motor->absolute_angle_rad;
  83              		.loc 1 529 5 is_stmt 1 view .LVU26
  84              		.loc 1 529 43 is_stmt 0 view .LVU27
  85 0040 93ED057A 		vldr.32	s14, [r3, #20]
  86              		.loc 1 529 36 view .LVU28
  87 0044 83ED067A 		vstr.32	s14, [r3, #24]
 530:control-base/devices/src/dji_motor.c ****     motor->absolute_angle_rad = motor->current_tick - motor->encoder_offset;
  88              		.loc 1 530 5 is_stmt 1 view .LVU29
  89              		.loc 1 530 60 is_stmt 0 view .LVU30
  90 0048 9989     		ldrh	r1, [r3, #12]
  91              		.loc 1 530 53 view .LVU31
  92 004a 521A     		subs	r2, r2, r1
  93              		.loc 1 530 31 view .LVU32
  94 004c 07EE902A 		vmov	s15, r2	@ int
  95 0050 F8EEE77A 		vcvt.f32.s32	s15, s15
  96 0054 C3ED057A 		vstr.32	s15, [r3, #20]
 531:control-base/devices/src/dji_motor.c ****     if (motor->absolute_angle_rad >= 8192)
  97              		.loc 1 531 5 is_stmt 1 view .LVU33
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 12


  98              		.loc 1 531 8 is_stmt 0 view .LVU34
  99 0058 9FED346A 		vldr.32	s12, .L23
 100 005c F4EEC67A 		vcmpe.f32	s15, s12
 101 0060 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 102 0064 3DDB     		blt	.L20
 532:control-base/devices/src/dji_motor.c ****     {
 533:control-base/devices/src/dji_motor.c ****         motor->absolute_angle_rad -= 8192;
 103              		.loc 1 533 9 is_stmt 1 view .LVU35
 104              		.loc 1 533 35 is_stmt 0 view .LVU36
 105 0066 77EEC67A 		vsub.f32	s15, s15, s12
 106 006a C3ED057A 		vstr.32	s15, [r3, #20]
 107              	.L4:
 534:control-base/devices/src/dji_motor.c ****     }
 535:control-base/devices/src/dji_motor.c ****     else if (motor->absolute_angle_rad < 0)
 536:control-base/devices/src/dji_motor.c ****     {
 537:control-base/devices/src/dji_motor.c ****         motor->absolute_angle_rad += 8192;
 538:control-base/devices/src/dji_motor.c ****     }
 539:control-base/devices/src/dji_motor.c ****     /* absolute angle */
 540:control-base/devices/src/dji_motor.c ****     __MAP(motor->absolute_angle_rad, 0, 8192, 0, 2 * PI);
 108              		.loc 1 540 5 is_stmt 1 view .LVU37
 109              		.loc 1 540 5 view .LVU38
 110 006e D3ED057A 		vldr.32	s15, [r3, #20]
 111 0072 9FED2E6A 		vldr.32	s12, .L23
 112 0076 F4EEC67A 		vcmpe.f32	s15, s12
 113 007a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 114 007e 3CDD     		ble	.L21
 115              		.loc 1 540 5 discriminator 1 view .LVU39
 116 0080 77EEC67A 		vsub.f32	s15, s15, s12
 117 0084 C3ED057A 		vstr.32	s15, [r3, #20]
 118              	.L8:
 119              		.loc 1 540 5 discriminator 6 view .LVU40
 120 0088 D3ED057A 		vldr.32	s15, [r3, #20]
 121 008c 9FED286A 		vldr.32	s12, .L23+4
 122 0090 67EE867A 		vmul.f32	s15, s15, s12
 123 0094 9FED276A 		vldr.32	s12, .L23+8
 124 0098 67EE867A 		vmul.f32	s15, s15, s12
 125 009c 9FED266A 		vldr.32	s12, .L23+12
 126 00a0 77EE867A 		vadd.f32	s15, s15, s12
 127 00a4 C3ED057A 		vstr.32	s15, [r3, #20]
 128              		.loc 1 540 5 view .LVU41
 129              		.loc 1 540 57 view .LVU42
 541:control-base/devices/src/dji_motor.c **** 
 542:control-base/devices/src/dji_motor.c ****     /* angle wrap */
 543:control-base/devices/src/dji_motor.c ****     if (motor->absolute_angle_rad - motor->last_absolute_angle_rad > PI)
 130              		.loc 1 543 5 view .LVU43
 131              		.loc 1 543 35 is_stmt 0 view .LVU44
 132 00a8 37EEC77A 		vsub.f32	s14, s15, s14
 133              		.loc 1 543 8 view .LVU45
 134 00ac 9FED236A 		vldr.32	s12, .L23+16
 135 00b0 B4EEC67A 		vcmpe.f32	s14, s12
 136 00b4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 137 00b8 2DDD     		ble	.L22
 544:control-base/devices/src/dji_motor.c ****     {
 545:control-base/devices/src/dji_motor.c ****         motor->total_round--;
 138              		.loc 1 545 9 is_stmt 1 view .LVU46
 139              		.loc 1 545 14 is_stmt 0 view .LVU47
 140 00ba 1A69     		ldr	r2, [r3, #16]
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 13


 141              		.loc 1 545 27 view .LVU48
 142 00bc 013A     		subs	r2, r2, #1
 143 00be 1A61     		str	r2, [r3, #16]
 144              	.L12:
 546:control-base/devices/src/dji_motor.c ****     }
 547:control-base/devices/src/dji_motor.c ****     else if (motor->absolute_angle_rad - motor->last_absolute_angle_rad < -PI)
 548:control-base/devices/src/dji_motor.c ****     {
 549:control-base/devices/src/dji_motor.c ****         motor->total_round++;
 550:control-base/devices/src/dji_motor.c ****     }
 551:control-base/devices/src/dji_motor.c **** #pragma message "there are some problem with total_angle_rad"
 552:control-base/devices/src/dji_motor.c ****     motor->total_angle_rad = ((motor->total_round) * 2 * PI + motor->absolute_angle_rad) * motor->r
 145              		.loc 1 552 5 is_stmt 1 view .LVU49
 146              		.loc 1 552 37 is_stmt 0 view .LVU50
 147 00c0 1A69     		ldr	r2, [r3, #16]
 148              		.loc 1 552 52 view .LVU51
 149 00c2 5200     		lsls	r2, r2, #1
 150 00c4 07EE102A 		vmov	s14, r2	@ int
 151              		.loc 1 552 56 view .LVU52
 152 00c8 B8EEC77A 		vcvt.f32.s32	s14, s14
 153 00cc 9FED1B6A 		vldr.32	s12, .L23+16
 154 00d0 27EE067A 		vmul.f32	s14, s14, s12
 155              		.loc 1 552 61 view .LVU53
 156 00d4 77EE877A 		vadd.f32	s15, s15, s14
 157              		.loc 1 552 90 view .LVU54
 158 00d8 66EEA76A 		vmul.f32	s13, s13, s15
 159              		.loc 1 552 28 view .LVU55
 160 00dc C3ED076A 		vstr.32	s13, [r3, #28]
 553:control-base/devices/src/dji_motor.c **** }
 161              		.loc 1 553 1 view .LVU56
 162 00e0 7047     		bx	lr
 163              	.L20:
 535:control-base/devices/src/dji_motor.c ****     {
 164              		.loc 1 535 10 is_stmt 1 view .LVU57
 535:control-base/devices/src/dji_motor.c ****     {
 165              		.loc 1 535 13 is_stmt 0 view .LVU58
 166 00e2 F5EEC07A 		vcmpe.f32	s15, #0
 167 00e6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 168 00ea C0D5     		bpl	.L4
 537:control-base/devices/src/dji_motor.c ****     }
 169              		.loc 1 537 9 is_stmt 1 view .LVU59
 537:control-base/devices/src/dji_motor.c ****     }
 170              		.loc 1 537 35 is_stmt 0 view .LVU60
 171 00ec 9FED0F6A 		vldr.32	s12, .L23
 172 00f0 77EE867A 		vadd.f32	s15, s15, s12
 173 00f4 C3ED057A 		vstr.32	s15, [r3, #20]
 174 00f8 B9E7     		b	.L4
 175              	.L21:
 540:control-base/devices/src/dji_motor.c **** 
 176              		.loc 1 540 5 is_stmt 1 discriminator 2 view .LVU61
 177 00fa 9FED116A 		vldr.32	s12, .L23+20
 178 00fe F4EEC67A 		vcmpe.f32	s15, s12
 179 0102 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 180 0106 BFD5     		bpl	.L8
 540:control-base/devices/src/dji_motor.c **** 
 181              		.loc 1 540 5 discriminator 4 view .LVU62
 182 0108 9FED086A 		vldr.32	s12, .L23
 183 010c 77EE867A 		vadd.f32	s15, s15, s12
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 14


 184 0110 C3ED057A 		vstr.32	s15, [r3, #20]
 185 0114 B8E7     		b	.L8
 186              	.L22:
 547:control-base/devices/src/dji_motor.c ****     {
 187              		.loc 1 547 10 view .LVU63
 547:control-base/devices/src/dji_motor.c ****     {
 188              		.loc 1 547 13 is_stmt 0 view .LVU64
 189 0116 9FED0B6A 		vldr.32	s12, .L23+24
 190 011a B4EEC67A 		vcmpe.f32	s14, s12
 191 011e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 192 0122 CDD5     		bpl	.L12
 549:control-base/devices/src/dji_motor.c ****     }
 193              		.loc 1 549 9 is_stmt 1 view .LVU65
 549:control-base/devices/src/dji_motor.c ****     }
 194              		.loc 1 549 14 is_stmt 0 view .LVU66
 195 0124 1A69     		ldr	r2, [r3, #16]
 549:control-base/devices/src/dji_motor.c ****     }
 196              		.loc 1 549 27 view .LVU67
 197 0126 0132     		adds	r2, r2, #1
 198 0128 1A61     		str	r2, [r3, #16]
 199 012a C9E7     		b	.L12
 200              	.L24:
 201              		.align	2
 202              	.L23:
 203 012c 00000046 		.word	1174405120
 204 0130 DA0FC940 		.word	1086918618
 205 0134 00000039 		.word	956301312
 206 0138 00000000 		.word	0
 207 013c DA0F4940 		.word	1078530010
 208 0140 000000C6 		.word	-973078528
 209 0144 DA0F49C0 		.word	-1068953638
 210              		.cfi_endproc
 211              	.LFE154:
 213              		.section	.text.DJI_Motor_Assign_To_Group,"ax",%progbits
 214              		.align	1
 215              		.global	DJI_Motor_Assign_To_Group
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 220              	DJI_Motor_Assign_To_Group:
 221              	.LVL2:
 222              	.LFB142:
  23:control-base/devices/src/dji_motor.c ****     uint8_t can_bus = motor_handle->can_bus;
 223              		.loc 1 23 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
  23:control-base/devices/src/dji_motor.c ****     uint8_t can_bus = motor_handle->can_bus;
 227              		.loc 1 23 1 is_stmt 0 view .LVU69
 228 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 229              	.LCFI0:
 230              		.cfi_def_cfa_offset 32
 231              		.cfi_offset 3, -32
 232              		.cfi_offset 4, -28
 233              		.cfi_offset 5, -24
 234              		.cfi_offset 6, -20
 235              		.cfi_offset 7, -16
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 15


 236              		.cfi_offset 8, -12
 237              		.cfi_offset 9, -8
 238              		.cfi_offset 14, -4
 239 0004 0746     		mov	r7, r0
 240 0006 0E46     		mov	r6, r1
  24:control-base/devices/src/dji_motor.c ****     uint8_t real_id; // the order of which the motor will be send in the send group can frame
 241              		.loc 1 24 5 is_stmt 1 view .LVU70
  24:control-base/devices/src/dji_motor.c ****     uint8_t real_id; // the order of which the motor will be send in the send group can frame
 242              		.loc 1 24 13 is_stmt 0 view .LVU71
 243 0008 4478     		ldrb	r4, [r0, #1]	@ zero_extendqisi2
 244              	.LVL3:
  25:control-base/devices/src/dji_motor.c ****     // 1-4 are the first group, 5-8 are the second group
 245              		.loc 1 25 5 is_stmt 1 view .LVU72
  28:control-base/devices/src/dji_motor.c ****     {
 246              		.loc 1 28 5 view .LVU73
  28:control-base/devices/src/dji_motor.c ****     {
 247              		.loc 1 28 21 is_stmt 0 view .LVU74
 248 000a 8578     		ldrb	r5, [r0, #2]	@ zero_extendqisi2
  28:control-base/devices/src/dji_motor.c ****     {
 249              		.loc 1 28 8 view .LVU75
 250 000c 042D     		cmp	r5, #4
 251 000e 03D9     		bls	.L26
  30:control-base/devices/src/dji_motor.c ****     }
 252              		.loc 1 30 9 is_stmt 1 view .LVU76
  30:control-base/devices/src/dji_motor.c ****     }
 253              		.loc 1 30 17 is_stmt 0 view .LVU77
 254 0010 053D     		subs	r5, r5, #5
 255 0012 EDB2     		uxtb	r5, r5
 256              	.LVL4:
 257              	.L27:
  37:control-base/devices/src/dji_motor.c ****     {
 258              		.loc 1 37 5 is_stmt 1 view .LVU78
 259              	.LBB2:
  37:control-base/devices/src/dji_motor.c ****     {
 260              		.loc 1 37 10 view .LVU79
  37:control-base/devices/src/dji_motor.c ****     {
 261              		.loc 1 37 14 is_stmt 0 view .LVU80
 262 0014 0023     		movs	r3, #0
  37:control-base/devices/src/dji_motor.c ****     {
 263              		.loc 1 37 5 view .LVU81
 264 0016 03E0     		b	.L28
 265              	.LVL5:
 266              	.L26:
  37:control-base/devices/src/dji_motor.c ****     {
 267              		.loc 1 37 5 view .LVU82
 268              	.LBE2:
  34:control-base/devices/src/dji_motor.c ****     }
 269              		.loc 1 34 9 is_stmt 1 view .LVU83
  34:control-base/devices/src/dji_motor.c ****     }
 270              		.loc 1 34 17 is_stmt 0 view .LVU84
 271 0018 013D     		subs	r5, r5, #1
 272 001a EDB2     		uxtb	r5, r5
 273 001c FAE7     		b	.L27
 274              	.LVL6:
 275              	.L29:
 276              	.LBB3:
  37:control-base/devices/src/dji_motor.c ****     {
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 16


 277              		.loc 1 37 51 is_stmt 1 discriminator 2 view .LVU85
 278 001e 0133     		adds	r3, r3, #1
 279              	.LVL7:
 280              	.L28:
  37:control-base/devices/src/dji_motor.c ****     {
 281              		.loc 1 37 23 discriminator 1 view .LVU86
 282 0020 294A     		ldr	r2, .L34
 283 0022 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 284 0024 9A42     		cmp	r2, r3
 285 0026 18DD     		ble	.L33
  40:control-base/devices/src/dji_motor.c ****         {
 286              		.loc 1 40 9 view .LVU87
  40:control-base/devices/src/dji_motor.c ****         {
 287              		.loc 1 40 30 is_stmt 0 view .LVU88
 288 0028 284A     		ldr	r2, .L34+4
 289 002a 52F82310 		ldr	r1, [r2, r3, lsl #2]
  40:control-base/devices/src/dji_motor.c ****         {
 290              		.loc 1 40 33 view .LVU89
 291 002e 4A68     		ldr	r2, [r1, #4]
  40:control-base/devices/src/dji_motor.c ****         {
 292              		.loc 1 40 47 view .LVU90
 293 0030 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
  40:control-base/devices/src/dji_motor.c ****         {
 294              		.loc 1 40 12 view .LVU91
 295 0032 A042     		cmp	r0, r4
 296 0034 F3D1     		bne	.L29
  40:control-base/devices/src/dji_motor.c ****         {
 297              		.loc 1 40 106 discriminator 1 view .LVU92
 298 0036 5268     		ldr	r2, [r2, #4]
  40:control-base/devices/src/dji_motor.c ****         {
 299              		.loc 1 40 117 discriminator 1 view .LVU93
 300 0038 1268     		ldr	r2, [r2]
  40:control-base/devices/src/dji_motor.c ****         {
 301              		.loc 1 40 69 discriminator 1 view .LVU94
 302 003a B242     		cmp	r2, r6
 303 003c EFD1     		bne	.L29
  43:control-base/devices/src/dji_motor.c ****             // output current pointer of the motor
 304              		.loc 1 43 13 is_stmt 1 view .LVU95
  43:control-base/devices/src/dji_motor.c ****             // output current pointer of the motor
 305              		.loc 1 43 32 is_stmt 0 view .LVU96
 306 003e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
  43:control-base/devices/src/dji_motor.c ****             // output current pointer of the motor
 307              		.loc 1 43 66 view .LVU97
 308 0040 0120     		movs	r0, #1
 309 0042 A840     		lsls	r0, r0, r5
  43:control-base/devices/src/dji_motor.c ****             // output current pointer of the motor
 310              		.loc 1 43 60 view .LVU98
 311 0044 0243     		orrs	r2, r2, r0
 312 0046 0A70     		strb	r2, [r1]
  46:control-base/devices/src/dji_motor.c ****             return 0;
 313              		.loc 1 46 13 is_stmt 1 view .LVU99
  46:control-base/devices/src/dji_motor.c ****             return 0;
 314              		.loc 1 46 29 is_stmt 0 view .LVU100
 315 0048 204A     		ldr	r2, .L34+4
 316 004a 52F82330 		ldr	r3, [r2, r3, lsl #2]
 317              	.LVL8:
  46:control-base/devices/src/dji_motor.c ****             return 0;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 17


 318              		.loc 1 46 56 view .LVU101
 319 004e 2437     		adds	r7, r7, #36
 320              	.LVL9:
  46:control-base/devices/src/dji_motor.c ****             return 0;
 321              		.loc 1 46 54 view .LVU102
 322 0050 0235     		adds	r5, r5, #2
 323              	.LVL10:
  46:control-base/devices/src/dji_motor.c ****             return 0;
 324              		.loc 1 46 54 view .LVU103
 325 0052 43F82570 		str	r7, [r3, r5, lsl #2]
  47:control-base/devices/src/dji_motor.c ****         }
 326              		.loc 1 47 13 is_stmt 1 view .LVU104
  47:control-base/devices/src/dji_motor.c ****         }
 327              		.loc 1 47 20 is_stmt 0 view .LVU105
 328 0056 0020     		movs	r0, #0
 329 0058 34E0     		b	.L30
 330              	.LVL11:
 331              	.L33:
  47:control-base/devices/src/dji_motor.c ****         }
 332              		.loc 1 47 20 view .LVU106
 333              	.LBE3:
  51:control-base/devices/src/dji_motor.c ****     new_group->can_instance = calloc(sizeof(CAN_Instance_t), 1);
 334              		.loc 1 51 5 is_stmt 1 view .LVU107
  51:control-base/devices/src/dji_motor.c ****     new_group->can_instance = calloc(sizeof(CAN_Instance_t), 1);
 335              		.loc 1 51 55 is_stmt 0 view .LVU108
 336 005a 1820     		movs	r0, #24
 337 005c FFF7FEFF 		bl	malloc
 338              	.LVL12:
  51:control-base/devices/src/dji_motor.c ****     new_group->can_instance = calloc(sizeof(CAN_Instance_t), 1);
 339              		.loc 1 51 55 view .LVU109
 340 0060 8046     		mov	r8, r0
 341              	.LVL13:
  52:control-base/devices/src/dji_motor.c ****     new_group->can_instance->can_bus = can_bus;
 342              		.loc 1 52 5 is_stmt 1 view .LVU110
  52:control-base/devices/src/dji_motor.c ****     new_group->can_instance->can_bus = can_bus;
 343              		.loc 1 52 31 is_stmt 0 view .LVU111
 344 0062 0121     		movs	r1, #1
 345 0064 2420     		movs	r0, #36
 346              	.LVL14:
  52:control-base/devices/src/dji_motor.c ****     new_group->can_instance->can_bus = can_bus;
 347              		.loc 1 52 31 view .LVU112
 348 0066 FFF7FEFF 		bl	calloc
 349              	.LVL15:
 350 006a 8146     		mov	r9, r0
  52:control-base/devices/src/dji_motor.c ****     new_group->can_instance->can_bus = can_bus;
 351              		.loc 1 52 29 discriminator 1 view .LVU113
 352 006c C8F80400 		str	r0, [r8, #4]
  53:control-base/devices/src/dji_motor.c ****     // allocate memory for tx_header
 353              		.loc 1 53 5 is_stmt 1 view .LVU114
  53:control-base/devices/src/dji_motor.c ****     // allocate memory for tx_header
 354              		.loc 1 53 38 is_stmt 0 view .LVU115
 355 0070 0470     		strb	r4, [r0]
  55:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->StdId = tx_id;      // set id (the actual id that will be s
 356              		.loc 1 55 5 is_stmt 1 view .LVU116
  55:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->StdId = tx_id;      // set id (the actual id that will be s
 357              		.loc 1 55 42 is_stmt 0 view .LVU117
 358 0072 1820     		movs	r0, #24
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 18


 359 0074 FFF7FEFF 		bl	malloc
 360              	.LVL16:
  55:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->StdId = tx_id;      // set id (the actual id that will be s
 361              		.loc 1 55 40 discriminator 1 view .LVU118
 362 0078 C9F80400 		str	r0, [r9, #4]
  56:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->IDE = CAN_ID_STD;   // standard id (check CAN documentation
 363              		.loc 1 56 5 is_stmt 1 view .LVU119
  56:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->IDE = CAN_ID_STD;   // standard id (check CAN documentation
 364              		.loc 1 56 14 is_stmt 0 view .LVU120
 365 007c D8F80430 		ldr	r3, [r8, #4]
  56:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->IDE = CAN_ID_STD;   // standard id (check CAN documentation
 366              		.loc 1 56 28 view .LVU121
 367 0080 5B68     		ldr	r3, [r3, #4]
  56:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->IDE = CAN_ID_STD;   // standard id (check CAN documentation
 368              		.loc 1 56 47 view .LVU122
 369 0082 1E60     		str	r6, [r3]
  57:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->RTR = CAN_RTR_DATA; // data frame (check CAN documentation 
 370              		.loc 1 57 5 is_stmt 1 view .LVU123
  57:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->RTR = CAN_RTR_DATA; // data frame (check CAN documentation 
 371              		.loc 1 57 14 is_stmt 0 view .LVU124
 372 0084 D8F80430 		ldr	r3, [r8, #4]
  57:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->RTR = CAN_RTR_DATA; // data frame (check CAN documentation 
 373              		.loc 1 57 28 view .LVU125
 374 0088 5A68     		ldr	r2, [r3, #4]
  57:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->RTR = CAN_RTR_DATA; // data frame (check CAN documentation 
 375              		.loc 1 57 45 view .LVU126
 376 008a 0023     		movs	r3, #0
 377 008c 9360     		str	r3, [r2, #8]
  58:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->DLC = 8;            // 8 bytes of data (check CAN documenta
 378              		.loc 1 58 5 is_stmt 1 view .LVU127
  58:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->DLC = 8;            // 8 bytes of data (check CAN documenta
 379              		.loc 1 58 14 is_stmt 0 view .LVU128
 380 008e D8F80420 		ldr	r2, [r8, #4]
  58:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->DLC = 8;            // 8 bytes of data (check CAN documenta
 381              		.loc 1 58 28 view .LVU129
 382 0092 5268     		ldr	r2, [r2, #4]
  58:control-base/devices/src/dji_motor.c ****     new_group->can_instance->tx_header->DLC = 8;            // 8 bytes of data (check CAN documenta
 383              		.loc 1 58 45 view .LVU130
 384 0094 D360     		str	r3, [r2, #12]
  59:control-base/devices/src/dji_motor.c ****     // change register indicator to include the new motor. This will be used in @ref DJI_Motor_Send
 385              		.loc 1 59 5 is_stmt 1 view .LVU131
  59:control-base/devices/src/dji_motor.c ****     // change register indicator to include the new motor. This will be used in @ref DJI_Motor_Send
 386              		.loc 1 59 14 is_stmt 0 view .LVU132
 387 0096 D8F80420 		ldr	r2, [r8, #4]
  59:control-base/devices/src/dji_motor.c ****     // change register indicator to include the new motor. This will be used in @ref DJI_Motor_Send
 388              		.loc 1 59 28 view .LVU133
 389 009a 5268     		ldr	r2, [r2, #4]
  59:control-base/devices/src/dji_motor.c ****     // change register indicator to include the new motor. This will be used in @ref DJI_Motor_Send
 390              		.loc 1 59 45 view .LVU134
 391 009c 0821     		movs	r1, #8
 392 009e 1161     		str	r1, [r2, #16]
  61:control-base/devices/src/dji_motor.c ****     // output current pointer of the motor
 393              		.loc 1 61 5 is_stmt 1 view .LVU135
  61:control-base/devices/src/dji_motor.c ****     // output current pointer of the motor
 394              		.loc 1 61 47 is_stmt 0 view .LVU136
 395 00a0 0120     		movs	r0, #1
 396 00a2 00FA05F2 		lsl	r2, r0, r5
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 19


  61:control-base/devices/src/dji_motor.c ****     // output current pointer of the motor
 397              		.loc 1 61 42 view .LVU137
 398 00a6 88F80020 		strb	r2, [r8]
  64:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 399              		.loc 1 64 5 is_stmt 1 view .LVU138
  64:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 400              		.loc 1 64 38 is_stmt 0 view .LVU139
 401 00aa 07F12402 		add	r2, r7, #36
  64:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 402              		.loc 1 64 36 view .LVU140
 403 00ae 0235     		adds	r5, r5, #2
 404              	.LVL17:
  64:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 405              		.loc 1 64 36 view .LVU141
 406 00b0 48F82520 		str	r2, [r8, r5, lsl #2]
  65:control-base/devices/src/dji_motor.c ****     // assign new send group to the global array
 407              		.loc 1 65 5 is_stmt 1 view .LVU142
  65:control-base/devices/src/dji_motor.c ****     // assign new send group to the global array
 408              		.loc 1 65 34 is_stmt 0 view .LVU143
 409 00b4 BB84     		strh	r3, [r7, #36]	@ movhi
  67:control-base/devices/src/dji_motor.c ****     return 1;
 410              		.loc 1 67 5 is_stmt 1 view .LVU144
  67:control-base/devices/src/dji_motor.c ****     return 1;
 411              		.loc 1 67 45 is_stmt 0 view .LVU145
 412 00b6 044A     		ldr	r2, .L34
 413 00b8 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 414 00ba 1918     		adds	r1, r3, r0
 415 00bc 1170     		strb	r1, [r2]
  67:control-base/devices/src/dji_motor.c ****     return 1;
 416              		.loc 1 67 49 view .LVU146
 417 00be 034A     		ldr	r2, .L34+4
 418 00c0 42F82380 		str	r8, [r2, r3, lsl #2]
  68:control-base/devices/src/dji_motor.c **** }
 419              		.loc 1 68 5 is_stmt 1 view .LVU147
 420              	.LVL18:
 421              	.L30:
  69:control-base/devices/src/dji_motor.c **** 
 422              		.loc 1 69 1 is_stmt 0 view .LVU148
 423 00c4 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 424              	.LVL19:
 425              	.L35:
  69:control-base/devices/src/dji_motor.c **** 
 426              		.loc 1 69 1 view .LVU149
 427              		.align	2
 428              	.L34:
 429 00c8 00000000 		.word	g_dji_motor_group_count
 430 00cc 00000000 		.word	g_dji_send_group
 431              		.cfi_endproc
 432              	.LFE142:
 434              		.section	.text.DJI_Motor_Init,"ax",%progbits
 435              		.align	1
 436              		.global	DJI_Motor_Init
 437              		.syntax unified
 438              		.thumb
 439              		.thumb_func
 441              	DJI_Motor_Init:
 442              	.LVL20:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 20


 443              	.LFB143:
  72:control-base/devices/src/dji_motor.c ****     DJI_Motor_Handle_t *motor_handle = malloc(sizeof(DJI_Motor_Handle_t));
 444              		.loc 1 72 1 is_stmt 1 view -0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 0
 447              		@ frame_needed = 0, uses_anonymous_args = 0
  72:control-base/devices/src/dji_motor.c ****     DJI_Motor_Handle_t *motor_handle = malloc(sizeof(DJI_Motor_Handle_t));
 448              		.loc 1 72 1 is_stmt 0 view .LVU151
 449 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 450              	.LCFI1:
 451              		.cfi_def_cfa_offset 24
 452              		.cfi_offset 3, -24
 453              		.cfi_offset 4, -20
 454              		.cfi_offset 5, -16
 455              		.cfi_offset 6, -12
 456              		.cfi_offset 7, -8
 457              		.cfi_offset 14, -4
 458 0002 0546     		mov	r5, r0
 459 0004 0E46     		mov	r6, r1
  73:control-base/devices/src/dji_motor.c ****     // Initialize motor handle with the given configuration
 460              		.loc 1 73 5 is_stmt 1 view .LVU152
  73:control-base/devices/src/dji_motor.c ****     // Initialize motor handle with the given configuration
 461              		.loc 1 73 40 is_stmt 0 view .LVU153
 462 0006 3020     		movs	r0, #48
 463              	.LVL21:
  73:control-base/devices/src/dji_motor.c ****     // Initialize motor handle with the given configuration
 464              		.loc 1 73 40 view .LVU154
 465 0008 FFF7FEFF 		bl	malloc
 466              	.LVL22:
  73:control-base/devices/src/dji_motor.c ****     // Initialize motor handle with the given configuration
 467              		.loc 1 73 40 view .LVU155
 468 000c 0446     		mov	r4, r0
 469              	.LVL23:
  75:control-base/devices/src/dji_motor.c ****     motor_handle->can_bus = config->can_bus;
 470              		.loc 1 75 5 is_stmt 1 view .LVU156
  75:control-base/devices/src/dji_motor.c ****     motor_handle->can_bus = config->can_bus;
 471              		.loc 1 75 30 is_stmt 0 view .LVU157
 472 000e 0670     		strb	r6, [r0]
  76:control-base/devices/src/dji_motor.c ****     motor_handle->speed_controller_id = config->speed_controller_id;
 473              		.loc 1 76 5 is_stmt 1 view .LVU158
  76:control-base/devices/src/dji_motor.c ****     motor_handle->speed_controller_id = config->speed_controller_id;
 474              		.loc 1 76 35 is_stmt 0 view .LVU159
 475 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
  76:control-base/devices/src/dji_motor.c ****     motor_handle->speed_controller_id = config->speed_controller_id;
 476              		.loc 1 76 27 view .LVU160
 477 0012 4370     		strb	r3, [r0, #1]
  77:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = config->control_mode;
 478              		.loc 1 77 5 is_stmt 1 view .LVU161
  77:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = config->control_mode;
 479              		.loc 1 77 47 is_stmt 0 view .LVU162
 480 0014 AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
  77:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = config->control_mode;
 481              		.loc 1 77 39 view .LVU163
 482 0016 8370     		strb	r3, [r0, #2]
  78:control-base/devices/src/dji_motor.c ****     motor_handle->pos_feedback_absolute_angle = config->pos_feedback_absolute_angle;
 483              		.loc 1 78 5 is_stmt 1 view .LVU164
  78:control-base/devices/src/dji_motor.c ****     motor_handle->pos_feedback_absolute_angle = config->pos_feedback_absolute_angle;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 21


 484              		.loc 1 78 40 is_stmt 0 view .LVU165
 485 0018 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
  78:control-base/devices/src/dji_motor.c ****     motor_handle->pos_feedback_absolute_angle = config->pos_feedback_absolute_angle;
 486              		.loc 1 78 32 view .LVU166
 487 001a C370     		strb	r3, [r0, #3]
  79:control-base/devices/src/dji_motor.c ****     motor_handle->motor_reversal = config->motor_reversal;
 488              		.loc 1 79 5 is_stmt 1 view .LVU167
  79:control-base/devices/src/dji_motor.c ****     motor_handle->motor_reversal = config->motor_reversal;
 489              		.loc 1 79 55 is_stmt 0 view .LVU168
 490 001c 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
  79:control-base/devices/src/dji_motor.c ****     motor_handle->motor_reversal = config->motor_reversal;
 491              		.loc 1 79 47 view .LVU169
 492 001e 0371     		strb	r3, [r0, #4]
  80:control-base/devices/src/dji_motor.c ****     motor_handle->use_external_feedback = config->use_external_feedback;
 493              		.loc 1 80 5 is_stmt 1 view .LVU170
  80:control-base/devices/src/dji_motor.c ****     motor_handle->use_external_feedback = config->use_external_feedback;
 494              		.loc 1 80 42 is_stmt 0 view .LVU171
 495 0020 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
  80:control-base/devices/src/dji_motor.c ****     motor_handle->use_external_feedback = config->use_external_feedback;
 496              		.loc 1 80 34 view .LVU172
 497 0022 4371     		strb	r3, [r0, #5]
  81:control-base/devices/src/dji_motor.c ****     motor_handle->external_feedback_dir = config->external_feedback_dir;
 498              		.loc 1 81 5 is_stmt 1 view .LVU173
  81:control-base/devices/src/dji_motor.c ****     motor_handle->external_feedback_dir = config->external_feedback_dir;
 499              		.loc 1 81 49 is_stmt 0 view .LVU174
 500 0024 6B7B     		ldrb	r3, [r5, #13]	@ zero_extendqisi2
  81:control-base/devices/src/dji_motor.c ****     motor_handle->external_feedback_dir = config->external_feedback_dir;
 501              		.loc 1 81 41 view .LVU175
 502 0026 0373     		strb	r3, [r0, #12]
  82:control-base/devices/src/dji_motor.c ****     motor_handle->external_angle_feedback_ptr = config->external_angle_feedback_ptr;
 503              		.loc 1 82 5 is_stmt 1 view .LVU176
  82:control-base/devices/src/dji_motor.c ****     motor_handle->external_angle_feedback_ptr = config->external_angle_feedback_ptr;
 504              		.loc 1 82 49 is_stmt 0 view .LVU177
 505 0028 95F90E30 		ldrsb	r3, [r5, #14]
  82:control-base/devices/src/dji_motor.c ****     motor_handle->external_angle_feedback_ptr = config->external_angle_feedback_ptr;
 506              		.loc 1 82 41 view .LVU178
 507 002c 4373     		strb	r3, [r0, #13]
  83:control-base/devices/src/dji_motor.c ****     motor_handle->external_velocity_feedback_ptr = config->external_velocity_feedback_ptr;
 508              		.loc 1 83 5 is_stmt 1 view .LVU179
  83:control-base/devices/src/dji_motor.c ****     motor_handle->external_velocity_feedback_ptr = config->external_velocity_feedback_ptr;
 509              		.loc 1 83 55 is_stmt 0 view .LVU180
 510 002e 2B69     		ldr	r3, [r5, #16]
  83:control-base/devices/src/dji_motor.c ****     motor_handle->external_velocity_feedback_ptr = config->external_velocity_feedback_ptr;
 511              		.loc 1 83 47 view .LVU181
 512 0030 0361     		str	r3, [r0, #16]
  84:control-base/devices/src/dji_motor.c **** 
 513              		.loc 1 84 5 is_stmt 1 view .LVU182
  84:control-base/devices/src/dji_motor.c **** 
 514              		.loc 1 84 58 is_stmt 0 view .LVU183
 515 0032 6B69     		ldr	r3, [r5, #20]
  84:control-base/devices/src/dji_motor.c **** 
 516              		.loc 1 84 50 view .LVU184
 517 0034 4361     		str	r3, [r0, #20]
  87:control-base/devices/src/dji_motor.c ****     motor_stats->encoder_offset = config->offset;
 518              		.loc 1 87 5 is_stmt 1 view .LVU185
  87:control-base/devices/src/dji_motor.c ****     motor_stats->encoder_offset = config->offset;
 519              		.loc 1 87 38 is_stmt 0 view .LVU186
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 22


 520 0036 2420     		movs	r0, #36
 521              	.LVL24:
  87:control-base/devices/src/dji_motor.c ****     motor_stats->encoder_offset = config->offset;
 522              		.loc 1 87 38 view .LVU187
 523 0038 FFF7FEFF 		bl	malloc
 524              	.LVL25:
 525 003c 0646     		mov	r6, r0
 526              	.LVL26:
  88:control-base/devices/src/dji_motor.c ****     motor_stats->total_round = 0;
 527              		.loc 1 88 5 is_stmt 1 view .LVU188
  88:control-base/devices/src/dji_motor.c ****     motor_stats->total_round = 0;
 528              		.loc 1 88 41 is_stmt 0 view .LVU189
 529 003e 2B89     		ldrh	r3, [r5, #8]
  88:control-base/devices/src/dji_motor.c ****     motor_stats->total_round = 0;
 530              		.loc 1 88 33 view .LVU190
 531 0040 8381     		strh	r3, [r0, #12]	@ movhi
  89:control-base/devices/src/dji_motor.c ****     motor_stats->current_tick = 0;
 532              		.loc 1 89 5 is_stmt 1 view .LVU191
  89:control-base/devices/src/dji_motor.c ****     motor_stats->current_tick = 0;
 533              		.loc 1 89 30 is_stmt 0 view .LVU192
 534 0042 0023     		movs	r3, #0
 535 0044 0361     		str	r3, [r0, #16]
  90:control-base/devices/src/dji_motor.c ****     motor_stats->current_vel_rpm = 0;
 536              		.loc 1 90 5 is_stmt 1 view .LVU193
  90:control-base/devices/src/dji_motor.c ****     motor_stats->current_vel_rpm = 0;
 537              		.loc 1 90 31 is_stmt 0 view .LVU194
 538 0046 0380     		strh	r3, [r0]	@ movhi
  91:control-base/devices/src/dji_motor.c ****     motor_stats->current_torq = 0;
 539              		.loc 1 91 5 is_stmt 1 view .LVU195
  91:control-base/devices/src/dji_motor.c ****     motor_stats->current_torq = 0;
 540              		.loc 1 91 34 is_stmt 0 view .LVU196
 541 0048 0022     		movs	r2, #0
 542 004a 4260     		str	r2, [r0, #4]	@ float
  92:control-base/devices/src/dji_motor.c ****     motor_stats->temp = 0;
 543              		.loc 1 92 5 is_stmt 1 view .LVU197
  92:control-base/devices/src/dji_motor.c ****     motor_stats->temp = 0;
 544              		.loc 1 92 31 is_stmt 0 view .LVU198
 545 004c 0381     		strh	r3, [r0, #8]	@ movhi
  93:control-base/devices/src/dji_motor.c ****     motor_handle->stats = motor_stats;
 546              		.loc 1 93 5 is_stmt 1 view .LVU199
  93:control-base/devices/src/dji_motor.c ****     motor_handle->stats = motor_stats;
 547              		.loc 1 93 23 is_stmt 0 view .LVU200
 548 004e 8372     		strb	r3, [r0, #10]
  94:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 549              		.loc 1 94 5 is_stmt 1 view .LVU201
  94:control-base/devices/src/dji_motor.c ****     motor_handle->output_current = 0;
 550              		.loc 1 94 25 is_stmt 0 view .LVU202
 551 0050 A060     		str	r0, [r4, #8]
  95:control-base/devices/src/dji_motor.c **** 
 552              		.loc 1 95 5 is_stmt 1 view .LVU203
  95:control-base/devices/src/dji_motor.c **** 
 553              		.loc 1 95 34 is_stmt 0 view .LVU204
 554 0052 A384     		strh	r3, [r4, #36]	@ movhi
  98:control-base/devices/src/dji_motor.c ****     {
 555              		.loc 1 98 5 is_stmt 1 view .LVU205
  98:control-base/devices/src/dji_motor.c ****     {
 556              		.loc 1 98 22 is_stmt 0 view .LVU206
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 23


 557 0054 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
  98:control-base/devices/src/dji_motor.c ****     {
 558              		.loc 1 98 8 view .LVU207
 559 0056 13F0010F 		tst	r3, #1
 560 005a 0ED1     		bne	.L67
 561              	.LVL27:
 562              	.L37:
 103:control-base/devices/src/dji_motor.c ****     {
 563              		.loc 1 103 5 is_stmt 1 view .LVU208
 103:control-base/devices/src/dji_motor.c ****     {
 564              		.loc 1 103 22 is_stmt 0 view .LVU209
 565 005c E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 103:control-base/devices/src/dji_motor.c ****     {
 566              		.loc 1 103 8 view .LVU210
 567 005e 13F0020F 		tst	r3, #2
 568 0062 25D1     		bne	.L68
 569              	.L39:
 108:control-base/devices/src/dji_motor.c ****     {
 570              		.loc 1 108 5 is_stmt 1 view .LVU211
 108:control-base/devices/src/dji_motor.c ****     {
 571              		.loc 1 108 22 is_stmt 0 view .LVU212
 572 0064 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 108:control-base/devices/src/dji_motor.c ****     {
 573              		.loc 1 108 8 view .LVU213
 574 0066 13F0040F 		tst	r3, #4
 575 006a 3CD1     		bne	.L69
 576              	.L41:
 114:control-base/devices/src/dji_motor.c ****     // initialize receive instance and send Group assignment based on motor type (Check DJI motor f
 577              		.loc 1 114 5 is_stmt 1 view .LVU214
 578              	.LVL28:
 116:control-base/devices/src/dji_motor.c ****     {
 579              		.loc 1 116 5 view .LVU215
 116:control-base/devices/src/dji_motor.c ****     {
 580              		.loc 1 116 25 is_stmt 0 view .LVU216
 581 006c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 116:control-base/devices/src/dji_motor.c ****     {
 582              		.loc 1 116 5 view .LVU217
 583 006e 032B     		cmp	r3, #3
 584 0070 6CD8     		bhi	.L43
 585 0072 DFE803F0 		tbb	[pc, r3]
 586              	.L45:
 587 0076 53       		.byte	(.L48-.L45)/2
 588 0077 7D       		.byte	(.L47-.L45)/2
 589 0078 BF       		.byte	(.L46-.L45)/2
 590 0079 9E       		.byte	(.L44-.L45)/2
 591              	.LVL29:
 592              		.p2align 1
 593              	.L67:
 100:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->velocity_pid, &config->velocity_pid, sizeof(PID_t));
 594              		.loc 1 100 9 is_stmt 1 view .LVU218
 100:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->velocity_pid, &config->velocity_pid, sizeof(PID_t));
 595              		.loc 1 100 38 is_stmt 0 view .LVU219
 596 007a 3420     		movs	r0, #52
 597              	.LVL30:
 100:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->velocity_pid, &config->velocity_pid, sizeof(PID_t));
 598              		.loc 1 100 38 view .LVU220
 599 007c FFF7FEFF 		bl	malloc
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 24


 600              	.LVL31:
 100:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->velocity_pid, &config->velocity_pid, sizeof(PID_t));
 601              		.loc 1 100 36 discriminator 1 view .LVU221
 602 0080 E061     		str	r0, [r4, #28]
 101:control-base/devices/src/dji_motor.c ****     }
 603              		.loc 1 101 9 is_stmt 1 view .LVU222
 101:control-base/devices/src/dji_motor.c ****     }
 604              		.loc 1 101 44 is_stmt 0 view .LVU223
 605 0082 05F14C03 		add	r3, r5, #76
 101:control-base/devices/src/dji_motor.c ****     }
 606              		.loc 1 101 9 view .LVU224
 607 0086 05F17C02 		add	r2, r5, #124
 608              	.L38:
 609 008a D3F800E0 		ldr	lr, [r3]	@ unaligned
 610 008e D3F804C0 		ldr	ip, [r3, #4]	@ unaligned
 611 0092 9F68     		ldr	r7, [r3, #8]	@ unaligned
 612 0094 D968     		ldr	r1, [r3, #12]	@ unaligned
 613 0096 C0F800E0 		str	lr, [r0]	@ unaligned
 614 009a C0F804C0 		str	ip, [r0, #4]	@ unaligned
 615 009e 8760     		str	r7, [r0, #8]	@ unaligned
 616 00a0 C160     		str	r1, [r0, #12]	@ unaligned
 617 00a2 1033     		adds	r3, r3, #16
 618 00a4 1030     		adds	r0, r0, #16
 619 00a6 9342     		cmp	r3, r2
 620 00a8 EFD1     		bne	.L38
 621 00aa 1B68     		ldr	r3, [r3]	@ unaligned
 622 00ac 0360     		str	r3, [r0]	@ unaligned
 623 00ae D5E7     		b	.L37
 624              	.L68:
 105:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->angle_pid, &config->angle_pid, sizeof(PID_t));
 625              		.loc 1 105 9 is_stmt 1 view .LVU225
 105:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->angle_pid, &config->angle_pid, sizeof(PID_t));
 626              		.loc 1 105 35 is_stmt 0 view .LVU226
 627 00b0 3420     		movs	r0, #52
 628 00b2 FFF7FEFF 		bl	malloc
 629              	.LVL32:
 105:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->angle_pid, &config->angle_pid, sizeof(PID_t));
 630              		.loc 1 105 33 discriminator 1 view .LVU227
 631 00b6 A061     		str	r0, [r4, #24]
 106:control-base/devices/src/dji_motor.c ****     }
 632              		.loc 1 106 9 is_stmt 1 view .LVU228
 106:control-base/devices/src/dji_motor.c ****     }
 633              		.loc 1 106 41 is_stmt 0 view .LVU229
 634 00b8 05F11803 		add	r3, r5, #24
 106:control-base/devices/src/dji_motor.c ****     }
 635              		.loc 1 106 9 view .LVU230
 636 00bc 05F14802 		add	r2, r5, #72
 637              	.L40:
 638 00c0 D3F800E0 		ldr	lr, [r3]	@ unaligned
 639 00c4 D3F804C0 		ldr	ip, [r3, #4]	@ unaligned
 640 00c8 9F68     		ldr	r7, [r3, #8]	@ unaligned
 641 00ca D968     		ldr	r1, [r3, #12]	@ unaligned
 642 00cc C0F800E0 		str	lr, [r0]	@ unaligned
 643 00d0 C0F804C0 		str	ip, [r0, #4]	@ unaligned
 644 00d4 8760     		str	r7, [r0, #8]	@ unaligned
 645 00d6 C160     		str	r1, [r0, #12]	@ unaligned
 646 00d8 1033     		adds	r3, r3, #16
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 25


 647 00da 1030     		adds	r0, r0, #16
 648 00dc 9342     		cmp	r3, r2
 649 00de EFD1     		bne	.L40
 650 00e0 1B68     		ldr	r3, [r3]	@ unaligned
 651 00e2 0360     		str	r3, [r0]	@ unaligned
 652 00e4 BEE7     		b	.L39
 653              	.L69:
 110:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->torque_pid, &config->torque_pid, sizeof(PID_t));
 654              		.loc 1 110 9 is_stmt 1 view .LVU231
 110:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->torque_pid, &config->torque_pid, sizeof(PID_t));
 655              		.loc 1 110 36 is_stmt 0 view .LVU232
 656 00e6 3420     		movs	r0, #52
 657 00e8 FFF7FEFF 		bl	malloc
 658              	.LVL33:
 110:control-base/devices/src/dji_motor.c ****         memcpy(motor_handle->torque_pid, &config->torque_pid, sizeof(PID_t));
 659              		.loc 1 110 34 discriminator 1 view .LVU233
 660 00ec 2062     		str	r0, [r4, #32]
 111:control-base/devices/src/dji_motor.c ****     }
 661              		.loc 1 111 9 is_stmt 1 view .LVU234
 111:control-base/devices/src/dji_motor.c ****     }
 662              		.loc 1 111 42 is_stmt 0 view .LVU235
 663 00ee 05F18003 		add	r3, r5, #128
 111:control-base/devices/src/dji_motor.c ****     }
 664              		.loc 1 111 9 view .LVU236
 665 00f2 05F1B002 		add	r2, r5, #176
 666              	.L42:
 667 00f6 1F68     		ldr	r7, [r3]	@ unaligned
 668 00f8 D3F804E0 		ldr	lr, [r3, #4]	@ unaligned
 669 00fc D3F808C0 		ldr	ip, [r3, #8]	@ unaligned
 670 0100 D968     		ldr	r1, [r3, #12]	@ unaligned
 671 0102 0760     		str	r7, [r0]	@ unaligned
 672 0104 C0F804E0 		str	lr, [r0, #4]	@ unaligned
 673 0108 C0F808C0 		str	ip, [r0, #8]	@ unaligned
 674 010c C160     		str	r1, [r0, #12]	@ unaligned
 675 010e 1033     		adds	r3, r3, #16
 676 0110 1030     		adds	r0, r0, #16
 677 0112 9342     		cmp	r3, r2
 678 0114 EFD1     		bne	.L42
 679 0116 1B68     		ldr	r3, [r3]	@ unaligned
 680 0118 0360     		str	r3, [r0]	@ unaligned
 681 011a A7E7     		b	.L41
 682              	.LVL34:
 683              	.L48:
 119:control-base/devices/src/dji_motor.c ****                                                     0x204 + config->speed_controller_id, DJI_Motor_
 684              		.loc 1 119 9 is_stmt 1 view .LVU237
 120:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 685              		.loc 1 120 67 is_stmt 0 view .LVU238
 686 011c AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 119:control-base/devices/src/dji_motor.c ****                                                     0x204 + config->speed_controller_id, DJI_Motor_
 687              		.loc 1 119 33 view .LVU239
 688 011e 464B     		ldr	r3, .L74
 689 0120 02F50172 		add	r2, r2, #516
 690 0124 6988     		ldrh	r1, [r5, #2]
 691 0126 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 692 0128 FFF7FEFF 		bl	CAN_Device_Register
 693              	.LVL35:
 121:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = GM6020_REDUCTION_RATIO;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 26


 694              		.loc 1 121 9 is_stmt 1 view .LVU240
 121:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = GM6020_REDUCTION_RATIO;
 695              		.loc 1 121 52 is_stmt 0 view .LVU241
 696 012c 0662     		str	r6, [r0, #32]
 122:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 697              		.loc 1 122 9 is_stmt 1 view .LVU242
 122:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 698              		.loc 1 122 38 is_stmt 0 view .LVU243
 699 012e 4FF07E53 		mov	r3, #1065353216
 700 0132 3362     		str	r3, [r6, #32]	@ float
 123:control-base/devices/src/dji_motor.c ****         {
 701              		.loc 1 123 9 is_stmt 1 view .LVU244
 123:control-base/devices/src/dji_motor.c ****         {
 702              		.loc 1 123 29 is_stmt 0 view .LVU245
 703 0134 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 123:control-base/devices/src/dji_motor.c ****         {
 704              		.loc 1 123 9 view .LVU246
 705 0136 042B     		cmp	r3, #4
 706 0138 11D9     		bls	.L70
 707 013a 053B     		subs	r3, r3, #5
 708 013c DBB2     		uxtb	r3, r3
 709 013e 022B     		cmp	r3, #2
 710 0140 04D8     		bhi	.L43
 134:control-base/devices/src/dji_motor.c ****             break;
 711              		.loc 1 134 13 is_stmt 1 view .LVU247
 712 0142 40F2FF21 		movw	r1, #767
 713 0146 2046     		mov	r0, r4
 714              	.LVL36:
 134:control-base/devices/src/dji_motor.c ****             break;
 715              		.loc 1 134 13 is_stmt 0 view .LVU248
 716 0148 FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 717              	.LVL37:
 135:control-base/devices/src/dji_motor.c ****         default:
 718              		.loc 1 135 13 is_stmt 1 view .LVU249
 719              	.L43:
 213:control-base/devices/src/dji_motor.c ****     return motor_handle;
 720              		.loc 1 213 5 view .LVU250
 213:control-base/devices/src/dji_motor.c ****     return motor_handle;
 721              		.loc 1 213 35 is_stmt 0 view .LVU251
 722 014c 3B4A     		ldr	r2, .L74+4
 723 014e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 724 0150 591C     		adds	r1, r3, #1
 725 0152 1170     		strb	r1, [r2]
 213:control-base/devices/src/dji_motor.c ****     return motor_handle;
 726              		.loc 1 213 39 view .LVU252
 727 0154 3A4A     		ldr	r2, .L74+8
 728 0156 42F82340 		str	r4, [r2, r3, lsl #2]
 214:control-base/devices/src/dji_motor.c **** }
 729              		.loc 1 214 5 is_stmt 1 view .LVU253
 215:control-base/devices/src/dji_motor.c **** 
 730              		.loc 1 215 1 is_stmt 0 view .LVU254
 731 015a 2046     		mov	r0, r4
 732 015c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 733              	.LVL38:
 734              	.L70:
 123:control-base/devices/src/dji_motor.c ****         {
 735              		.loc 1 123 9 view .LVU255
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 27


 736 015e 5BB2     		sxtb	r3, r3
 737 0160 002B     		cmp	r3, #0
 738 0162 F3D0     		beq	.L43
 129:control-base/devices/src/dji_motor.c ****             break;
 739              		.loc 1 129 13 is_stmt 1 view .LVU256
 740 0164 40F2FF11 		movw	r1, #511
 741 0168 2046     		mov	r0, r4
 742              	.LVL39:
 129:control-base/devices/src/dji_motor.c ****             break;
 743              		.loc 1 129 13 is_stmt 0 view .LVU257
 744 016a FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 745              	.LVL40:
 130:control-base/devices/src/dji_motor.c ****         case 5:
 746              		.loc 1 130 13 is_stmt 1 view .LVU258
 747 016e EDE7     		b	.L43
 748              	.LVL41:
 749              	.L47:
 142:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 750              		.loc 1 142 9 view .LVU259
 143:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 751              		.loc 1 143 67 is_stmt 0 view .LVU260
 752 0170 AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 142:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 753              		.loc 1 142 33 view .LVU261
 754 0172 314B     		ldr	r3, .L74
 755 0174 02F50072 		add	r2, r2, #512
 756 0178 6988     		ldrh	r1, [r5, #2]
 757 017a 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 758 017c FFF7FEFF 		bl	CAN_Device_Register
 759              	.LVL42:
 144:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_REDUCTION_RATIO;
 760              		.loc 1 144 9 is_stmt 1 view .LVU262
 144:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_REDUCTION_RATIO;
 761              		.loc 1 144 52 is_stmt 0 view .LVU263
 762 0180 0662     		str	r6, [r0, #32]
 145:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 763              		.loc 1 145 9 is_stmt 1 view .LVU264
 145:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 764              		.loc 1 145 38 is_stmt 0 view .LVU265
 765 0182 304B     		ldr	r3, .L74+12
 766 0184 3362     		str	r3, [r6, #32]	@ float
 146:control-base/devices/src/dji_motor.c ****         {
 767              		.loc 1 146 9 is_stmt 1 view .LVU266
 146:control-base/devices/src/dji_motor.c ****         {
 768              		.loc 1 146 29 is_stmt 0 view .LVU267
 769 0186 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 146:control-base/devices/src/dji_motor.c ****         {
 770              		.loc 1 146 9 view .LVU268
 771 0188 042B     		cmp	r3, #4
 772 018a 09D9     		bls	.L71
 773 018c 053B     		subs	r3, r3, #5
 774 018e DBB2     		uxtb	r3, r3
 775 0190 032B     		cmp	r3, #3
 776 0192 DBD8     		bhi	.L43
 158:control-base/devices/src/dji_motor.c ****             break;
 777              		.loc 1 158 13 is_stmt 1 view .LVU269
 778 0194 40F2FF11 		movw	r1, #511
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 28


 779 0198 2046     		mov	r0, r4
 780              	.LVL43:
 158:control-base/devices/src/dji_motor.c ****             break;
 781              		.loc 1 158 13 is_stmt 0 view .LVU270
 782 019a FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 783              	.LVL44:
 159:control-base/devices/src/dji_motor.c ****         default:
 784              		.loc 1 159 13 is_stmt 1 view .LVU271
 785 019e D5E7     		b	.L43
 786              	.LVL45:
 787              	.L71:
 146:control-base/devices/src/dji_motor.c ****         {
 788              		.loc 1 146 9 is_stmt 0 view .LVU272
 789 01a0 5BB2     		sxtb	r3, r3
 790 01a2 002B     		cmp	r3, #0
 791 01a4 D2D0     		beq	.L43
 152:control-base/devices/src/dji_motor.c ****             break;
 792              		.loc 1 152 13 is_stmt 1 view .LVU273
 793 01a6 4FF40071 		mov	r1, #512
 794 01aa 2046     		mov	r0, r4
 795              	.LVL46:
 152:control-base/devices/src/dji_motor.c ****             break;
 796              		.loc 1 152 13 is_stmt 0 view .LVU274
 797 01ac FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 798              	.LVL47:
 153:control-base/devices/src/dji_motor.c ****         case 5:
 799              		.loc 1 153 13 is_stmt 1 view .LVU275
 800 01b0 CCE7     		b	.L43
 801              	.LVL48:
 802              	.L44:
 165:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 803              		.loc 1 165 9 view .LVU276
 166:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 804              		.loc 1 166 67 is_stmt 0 view .LVU277
 805 01b2 AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 165:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 806              		.loc 1 165 33 view .LVU278
 807 01b4 204B     		ldr	r3, .L74
 808 01b6 02F50072 		add	r2, r2, #512
 809 01ba 6988     		ldrh	r1, [r5, #2]
 810 01bc 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 811 01be FFF7FEFF 		bl	CAN_Device_Register
 812              	.LVL49:
 167:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_PLANETARY_REDUCTION_RATIO;
 813              		.loc 1 167 9 is_stmt 1 view .LVU279
 167:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M3508_PLANETARY_REDUCTION_RATIO;
 814              		.loc 1 167 52 is_stmt 0 view .LVU280
 815 01c2 0662     		str	r6, [r0, #32]
 168:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 816              		.loc 1 168 9 is_stmt 1 view .LVU281
 168:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 817              		.loc 1 168 38 is_stmt 0 view .LVU282
 818 01c4 204B     		ldr	r3, .L74+16
 819 01c6 3362     		str	r3, [r6, #32]	@ float
 169:control-base/devices/src/dji_motor.c ****         {
 820              		.loc 1 169 9 is_stmt 1 view .LVU283
 169:control-base/devices/src/dji_motor.c ****         {
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 29


 821              		.loc 1 169 29 is_stmt 0 view .LVU284
 822 01c8 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 169:control-base/devices/src/dji_motor.c ****         {
 823              		.loc 1 169 9 view .LVU285
 824 01ca 042B     		cmp	r3, #4
 825 01cc 09D9     		bls	.L72
 826 01ce 053B     		subs	r3, r3, #5
 827 01d0 DBB2     		uxtb	r3, r3
 828 01d2 032B     		cmp	r3, #3
 829 01d4 BAD8     		bhi	.L43
 181:control-base/devices/src/dji_motor.c ****             break;
 830              		.loc 1 181 13 is_stmt 1 view .LVU286
 831 01d6 40F2FF11 		movw	r1, #511
 832 01da 2046     		mov	r0, r4
 833              	.LVL50:
 181:control-base/devices/src/dji_motor.c ****             break;
 834              		.loc 1 181 13 is_stmt 0 view .LVU287
 835 01dc FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 836              	.LVL51:
 182:control-base/devices/src/dji_motor.c ****         default:
 837              		.loc 1 182 13 is_stmt 1 view .LVU288
 838 01e0 B4E7     		b	.L43
 839              	.LVL52:
 840              	.L72:
 169:control-base/devices/src/dji_motor.c ****         {
 841              		.loc 1 169 9 is_stmt 0 view .LVU289
 842 01e2 5BB2     		sxtb	r3, r3
 843 01e4 002B     		cmp	r3, #0
 844 01e6 B1D0     		beq	.L43
 175:control-base/devices/src/dji_motor.c ****             break;
 845              		.loc 1 175 13 is_stmt 1 view .LVU290
 846 01e8 4FF40071 		mov	r1, #512
 847 01ec 2046     		mov	r0, r4
 848              	.LVL53:
 175:control-base/devices/src/dji_motor.c ****             break;
 849              		.loc 1 175 13 is_stmt 0 view .LVU291
 850 01ee FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 851              	.LVL54:
 176:control-base/devices/src/dji_motor.c ****         case 5:
 852              		.loc 1 176 13 is_stmt 1 view .LVU292
 853 01f2 ABE7     		b	.L43
 854              	.LVL55:
 855              	.L46:
 188:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 856              		.loc 1 188 9 view .LVU293
 189:control-base/devices/src/dji_motor.c ****         receiver_can_instance->binding_motor_stats = motor_stats;
 857              		.loc 1 189 67 is_stmt 0 view .LVU294
 858 01f4 AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 188:control-base/devices/src/dji_motor.c ****                                                     0x200 + config->speed_controller_id, DJI_Motor_
 859              		.loc 1 188 33 view .LVU295
 860 01f6 104B     		ldr	r3, .L74
 861 01f8 02F50072 		add	r2, r2, #512
 862 01fc 6988     		ldrh	r1, [r5, #2]
 863 01fe 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 864 0200 FFF7FEFF 		bl	CAN_Device_Register
 865              	.LVL56:
 190:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M2006_REDUCTION_RATIO;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 30


 866              		.loc 1 190 9 is_stmt 1 view .LVU296
 190:control-base/devices/src/dji_motor.c ****         motor_stats->reduction_ratio = M2006_REDUCTION_RATIO;
 867              		.loc 1 190 52 is_stmt 0 view .LVU297
 868 0204 0662     		str	r6, [r0, #32]
 191:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 869              		.loc 1 191 9 is_stmt 1 view .LVU298
 191:control-base/devices/src/dji_motor.c ****         switch (motor_handle->speed_controller_id)
 870              		.loc 1 191 38 is_stmt 0 view .LVU299
 871 0206 114B     		ldr	r3, .L74+20
 872 0208 3362     		str	r3, [r6, #32]	@ float
 192:control-base/devices/src/dji_motor.c ****         {
 873              		.loc 1 192 9 is_stmt 1 view .LVU300
 192:control-base/devices/src/dji_motor.c ****         {
 874              		.loc 1 192 29 is_stmt 0 view .LVU301
 875 020a A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 192:control-base/devices/src/dji_motor.c ****         {
 876              		.loc 1 192 9 view .LVU302
 877 020c 042B     		cmp	r3, #4
 878 020e 09D9     		bls	.L73
 879 0210 053B     		subs	r3, r3, #5
 880 0212 DBB2     		uxtb	r3, r3
 881 0214 032B     		cmp	r3, #3
 882 0216 99D8     		bhi	.L43
 204:control-base/devices/src/dji_motor.c ****             break;
 883              		.loc 1 204 13 is_stmt 1 view .LVU303
 884 0218 40F2FF11 		movw	r1, #511
 885 021c 2046     		mov	r0, r4
 886              	.LVL57:
 204:control-base/devices/src/dji_motor.c ****             break;
 887              		.loc 1 204 13 is_stmt 0 view .LVU304
 888 021e FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 889              	.LVL58:
 205:control-base/devices/src/dji_motor.c ****         default:
 890              		.loc 1 205 13 is_stmt 1 view .LVU305
 891 0222 93E7     		b	.L43
 892              	.LVL59:
 893              	.L73:
 192:control-base/devices/src/dji_motor.c ****         {
 894              		.loc 1 192 9 is_stmt 0 view .LVU306
 895 0224 5BB2     		sxtb	r3, r3
 896 0226 002B     		cmp	r3, #0
 897 0228 90D0     		beq	.L43
 198:control-base/devices/src/dji_motor.c ****             break;
 898              		.loc 1 198 13 is_stmt 1 view .LVU307
 899 022a 4FF40071 		mov	r1, #512
 900 022e 2046     		mov	r0, r4
 901              	.LVL60:
 198:control-base/devices/src/dji_motor.c ****             break;
 902              		.loc 1 198 13 is_stmt 0 view .LVU308
 903 0230 FFF7FEFF 		bl	DJI_Motor_Assign_To_Group
 904              	.LVL61:
 199:control-base/devices/src/dji_motor.c ****         case 5:
 905              		.loc 1 199 13 is_stmt 1 view .LVU309
 906 0234 8AE7     		b	.L43
 907              	.L75:
 908 0236 00BF     		.align	2
 909              	.L74:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 31


 910 0238 00000000 		.word	DJI_Motor_Decode
 911 023c 00000000 		.word	g_dji_motor_count
 912 0240 00000000 		.word	g_dji_motors
 913 0244 354C553D 		.word	1029000245
 914 0248 13E9813D 		.word	1031923987
 915 024c 398EE33C 		.word	1021546041
 916              		.cfi_endproc
 917              	.LFE143:
 919              		.section	.text.DJI_Motor_Get_Absolute_Angle,"ax",%progbits
 920              		.align	1
 921              		.global	DJI_Motor_Get_Absolute_Angle
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 926              	DJI_Motor_Get_Absolute_Angle:
 927              	.LVL62:
 928              	.LFB144:
 219:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 929              		.loc 1 219 1 view -0
 930              		.cfi_startproc
 931              		@ args = 0, pretend = 0, frame = 0
 932              		@ frame_needed = 0, uses_anonymous_args = 0
 933              		@ link register save eliminated.
 220:control-base/devices/src/dji_motor.c ****     {
 934              		.loc 1 220 5 view .LVU311
 220:control-base/devices/src/dji_motor.c ****     {
 935              		.loc 1 220 25 is_stmt 0 view .LVU312
 936 0000 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 220:control-base/devices/src/dji_motor.c ****     {
 937              		.loc 1 220 5 view .LVU313
 938 0002 23B1     		cbz	r3, .L77
 939 0004 012B     		cmp	r3, #1
 940 0006 06D0     		beq	.L78
 941 0008 BFEE000A 		vmov.f32	s0, #-1.0e+0
 942 000c 7047     		bx	lr
 943              	.L77:
 223:control-base/devices/src/dji_motor.c ****         break;
 944              		.loc 1 223 9 is_stmt 1 view .LVU314
 223:control-base/devices/src/dji_motor.c ****         break;
 945              		.loc 1 223 28 is_stmt 0 view .LVU315
 946 000e 8368     		ldr	r3, [r0, #8]
 223:control-base/devices/src/dji_motor.c ****         break;
 947              		.loc 1 223 35 view .LVU316
 948 0010 93ED050A 		vldr.32	s0, [r3, #20]
 949 0014 7047     		bx	lr
 950              	.L78:
 224:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 951              		.loc 1 224 9 is_stmt 1 view .LVU317
 226:control-base/devices/src/dji_motor.c ****         break;
 952              		.loc 1 226 9 view .LVU318
 226:control-base/devices/src/dji_motor.c ****         break;
 953              		.loc 1 226 29 is_stmt 0 view .LVU319
 954 0016 8368     		ldr	r3, [r0, #8]
 226:control-base/devices/src/dji_motor.c ****         break;
 955              		.loc 1 226 36 view .LVU320
 956 0018 D3ED057A 		vldr.32	s15, [r3, #20]
 226:control-base/devices/src/dji_motor.c ****         break;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 32


 957              		.loc 1 226 57 view .LVU321
 958 001c 9FED020A 		vldr.32	s0, .L80
 959 0020 30EE670A 		vsub.f32	s0, s0, s15
 230:control-base/devices/src/dji_motor.c **** 
 960              		.loc 1 230 1 view .LVU322
 961 0024 7047     		bx	lr
 962              	.L81:
 963 0026 00BF     		.align	2
 964              	.L80:
 965 0028 DA0FC940 		.word	1086918618
 966              		.cfi_endproc
 967              	.LFE144:
 969              		.section	.text.DJI_Motor_Get_Total_Angle,"ax",%progbits
 970              		.align	1
 971              		.global	DJI_Motor_Get_Total_Angle
 972              		.syntax unified
 973              		.thumb
 974              		.thumb_func
 976              	DJI_Motor_Get_Total_Angle:
 977              	.LVL63:
 978              	.LFB145:
 234:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 979              		.loc 1 234 1 is_stmt 1 view -0
 980              		.cfi_startproc
 981              		@ args = 0, pretend = 0, frame = 0
 982              		@ frame_needed = 0, uses_anonymous_args = 0
 983              		@ link register save eliminated.
 235:control-base/devices/src/dji_motor.c ****     {
 984              		.loc 1 235 5 view .LVU324
 235:control-base/devices/src/dji_motor.c ****     {
 985              		.loc 1 235 25 is_stmt 0 view .LVU325
 986 0000 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 235:control-base/devices/src/dji_motor.c ****     {
 987              		.loc 1 235 5 view .LVU326
 988 0002 23B1     		cbz	r3, .L83
 989 0004 012B     		cmp	r3, #1
 990 0006 06D0     		beq	.L84
 991 0008 BFEE000A 		vmov.f32	s0, #-1.0e+0
 992 000c 7047     		bx	lr
 993              	.L83:
 238:control-base/devices/src/dji_motor.c ****         break;
 994              		.loc 1 238 9 is_stmt 1 view .LVU327
 238:control-base/devices/src/dji_motor.c ****         break;
 995              		.loc 1 238 28 is_stmt 0 view .LVU328
 996 000e 8368     		ldr	r3, [r0, #8]
 238:control-base/devices/src/dji_motor.c ****         break;
 997              		.loc 1 238 35 view .LVU329
 998 0010 93ED070A 		vldr.32	s0, [r3, #28]
 999 0014 7047     		bx	lr
 1000              	.L84:
 239:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 1001              		.loc 1 239 9 is_stmt 1 view .LVU330
 241:control-base/devices/src/dji_motor.c ****         break;
 1002              		.loc 1 241 9 view .LVU331
 241:control-base/devices/src/dji_motor.c ****         break;
 1003              		.loc 1 241 29 is_stmt 0 view .LVU332
 1004 0016 8368     		ldr	r3, [r0, #8]
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 33


 241:control-base/devices/src/dji_motor.c ****         break;
 1005              		.loc 1 241 36 view .LVU333
 1006 0018 93ED070A 		vldr.32	s0, [r3, #28]
 241:control-base/devices/src/dji_motor.c ****         break;
 1007              		.loc 1 241 16 view .LVU334
 1008 001c B1EE400A 		vneg.f32	s0, s0
 245:control-base/devices/src/dji_motor.c **** 
 1009              		.loc 1 245 1 view .LVU335
 1010 0020 7047     		bx	lr
 1011              		.cfi_endproc
 1012              	.LFE145:
 1014              		.section	.text.DJI_Motor_Get_Velocity,"ax",%progbits
 1015              		.align	1
 1016              		.global	DJI_Motor_Get_Velocity
 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1021              	DJI_Motor_Get_Velocity:
 1022              	.LVL64:
 1023              	.LFB146:
 248:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 1024              		.loc 1 248 1 is_stmt 1 view -0
 1025              		.cfi_startproc
 1026              		@ args = 0, pretend = 0, frame = 0
 1027              		@ frame_needed = 0, uses_anonymous_args = 0
 1028              		@ link register save eliminated.
 249:control-base/devices/src/dji_motor.c ****     {
 1029              		.loc 1 249 5 view .LVU337
 249:control-base/devices/src/dji_motor.c ****     {
 1030              		.loc 1 249 25 is_stmt 0 view .LVU338
 1031 0000 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 249:control-base/devices/src/dji_motor.c ****     {
 1032              		.loc 1 249 5 view .LVU339
 1033 0002 23B1     		cbz	r3, .L87
 1034 0004 012B     		cmp	r3, #1
 1035 0006 06D0     		beq	.L88
 1036 0008 BFEE000A 		vmov.f32	s0, #-1.0e+0
 1037 000c 7047     		bx	lr
 1038              	.L87:
 252:control-base/devices/src/dji_motor.c ****         break;
 1039              		.loc 1 252 9 is_stmt 1 view .LVU340
 252:control-base/devices/src/dji_motor.c ****         break;
 1040              		.loc 1 252 28 is_stmt 0 view .LVU341
 1041 000e 8368     		ldr	r3, [r0, #8]
 252:control-base/devices/src/dji_motor.c ****         break;
 1042              		.loc 1 252 35 view .LVU342
 1043 0010 93ED010A 		vldr.32	s0, [r3, #4]
 1044 0014 7047     		bx	lr
 1045              	.L88:
 253:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 1046              		.loc 1 253 9 is_stmt 1 view .LVU343
 255:control-base/devices/src/dji_motor.c ****         break;
 1047              		.loc 1 255 9 view .LVU344
 255:control-base/devices/src/dji_motor.c ****         break;
 1048              		.loc 1 255 29 is_stmt 0 view .LVU345
 1049 0016 8368     		ldr	r3, [r0, #8]
 255:control-base/devices/src/dji_motor.c ****         break;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 34


 1050              		.loc 1 255 36 view .LVU346
 1051 0018 93ED010A 		vldr.32	s0, [r3, #4]
 255:control-base/devices/src/dji_motor.c ****         break;
 1052              		.loc 1 255 16 view .LVU347
 1053 001c B1EE400A 		vneg.f32	s0, s0
 259:control-base/devices/src/dji_motor.c **** 
 1054              		.loc 1 259 1 view .LVU348
 1055 0020 7047     		bx	lr
 1056              		.cfi_endproc
 1057              	.LFE146:
 1059              		.section	.text.DJI_Motor_Set_Angle,"ax",%progbits
 1060              		.align	1
 1061              		.global	DJI_Motor_Set_Angle
 1062              		.syntax unified
 1063              		.thumb
 1064              		.thumb_func
 1066              	DJI_Motor_Set_Angle:
 1067              	.LVL65:
 1068              	.LFB147:
 262:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 1069              		.loc 1 262 1 is_stmt 1 view -0
 1070              		.cfi_startproc
 1071              		@ args = 0, pretend = 0, frame = 0
 1072              		@ frame_needed = 0, uses_anonymous_args = 0
 1073              		@ link register save eliminated.
 263:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 1074              		.loc 1 263 5 view .LVU350
 263:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 1075              		.loc 1 263 28 is_stmt 0 view .LVU351
 1076 0000 0023     		movs	r3, #0
 1077 0002 8371     		strb	r3, [r0, #6]
 264:control-base/devices/src/dji_motor.c ****     {
 1078              		.loc 1 264 5 is_stmt 1 view .LVU352
 264:control-base/devices/src/dji_motor.c ****     {
 1079              		.loc 1 264 25 is_stmt 0 view .LVU353
 1080 0004 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 264:control-base/devices/src/dji_motor.c ****     {
 1081              		.loc 1 264 5 view .LVU354
 1082 0006 13B1     		cbz	r3, .L91
 1083 0008 012B     		cmp	r3, #1
 1084 000a 04D0     		beq	.L92
 1085 000c 7047     		bx	lr
 1086              	.L91:
 267:control-base/devices/src/dji_motor.c ****         break;
 1087              		.loc 1 267 9 is_stmt 1 view .LVU355
 267:control-base/devices/src/dji_motor.c ****         break;
 1088              		.loc 1 267 21 is_stmt 0 view .LVU356
 1089 000e 8369     		ldr	r3, [r0, #24]
 267:control-base/devices/src/dji_motor.c ****         break;
 1090              		.loc 1 267 38 view .LVU357
 1091 0010 83ED0A0A 		vstr.32	s0, [r3, #40]
 268:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 1092              		.loc 1 268 9 is_stmt 1 view .LVU358
 1093 0014 7047     		bx	lr
 1094              	.L92:
 270:control-base/devices/src/dji_motor.c ****         break;
 1095              		.loc 1 270 9 view .LVU359
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 35


 270:control-base/devices/src/dji_motor.c ****         break;
 1096              		.loc 1 270 21 is_stmt 0 view .LVU360
 1097 0016 8369     		ldr	r3, [r0, #24]
 270:control-base/devices/src/dji_motor.c ****         break;
 1098              		.loc 1 270 47 view .LVU361
 1099 0018 DFED037A 		vldr.32	s15, .L94
 1100 001c 77EEC07A 		vsub.f32	s15, s15, s0
 270:control-base/devices/src/dji_motor.c ****         break;
 1101              		.loc 1 270 38 view .LVU362
 1102 0020 C3ED0A7A 		vstr.32	s15, [r3, #40]
 271:control-base/devices/src/dji_motor.c ****     default:
 1103              		.loc 1 271 9 is_stmt 1 view .LVU363
 275:control-base/devices/src/dji_motor.c **** 
 1104              		.loc 1 275 1 is_stmt 0 view .LVU364
 1105 0024 7047     		bx	lr
 1106              	.L95:
 1107 0026 00BF     		.align	2
 1108              	.L94:
 1109 0028 DA0FC940 		.word	1086918618
 1110              		.cfi_endproc
 1111              	.LFE147:
 1113              		.section	.text.DJI_Motor_Set_Velocity,"ax",%progbits
 1114              		.align	1
 1115              		.global	DJI_Motor_Set_Velocity
 1116              		.syntax unified
 1117              		.thumb
 1118              		.thumb_func
 1120              	DJI_Motor_Set_Velocity:
 1121              	.LVL66:
 1122              	.LFB148:
 278:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 1123              		.loc 1 278 1 is_stmt 1 view -0
 1124              		.cfi_startproc
 1125              		@ args = 0, pretend = 0, frame = 0
 1126              		@ frame_needed = 0, uses_anonymous_args = 0
 1127              		@ link register save eliminated.
 279:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 1128              		.loc 1 279 5 view .LVU366
 279:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_reversal)
 1129              		.loc 1 279 28 is_stmt 0 view .LVU367
 1130 0000 0023     		movs	r3, #0
 1131 0002 8371     		strb	r3, [r0, #6]
 280:control-base/devices/src/dji_motor.c ****     {
 1132              		.loc 1 280 5 is_stmt 1 view .LVU368
 280:control-base/devices/src/dji_motor.c ****     {
 1133              		.loc 1 280 25 is_stmt 0 view .LVU369
 1134 0004 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 280:control-base/devices/src/dji_motor.c ****     {
 1135              		.loc 1 280 5 view .LVU370
 1136 0006 13B1     		cbz	r3, .L97
 1137 0008 012B     		cmp	r3, #1
 1138 000a 04D0     		beq	.L98
 1139 000c 7047     		bx	lr
 1140              	.L97:
 283:control-base/devices/src/dji_motor.c ****         break;
 1141              		.loc 1 283 9 is_stmt 1 view .LVU371
 283:control-base/devices/src/dji_motor.c ****         break;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 36


 1142              		.loc 1 283 21 is_stmt 0 view .LVU372
 1143 000e C369     		ldr	r3, [r0, #28]
 283:control-base/devices/src/dji_motor.c ****         break;
 1144              		.loc 1 283 41 view .LVU373
 1145 0010 83ED0A0A 		vstr.32	s0, [r3, #40]
 284:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 1146              		.loc 1 284 9 is_stmt 1 view .LVU374
 1147 0014 7047     		bx	lr
 1148              	.L98:
 286:control-base/devices/src/dji_motor.c ****         break;
 1149              		.loc 1 286 9 view .LVU375
 286:control-base/devices/src/dji_motor.c ****         break;
 1150              		.loc 1 286 21 is_stmt 0 view .LVU376
 1151 0016 C369     		ldr	r3, [r0, #28]
 286:control-base/devices/src/dji_motor.c ****         break;
 1152              		.loc 1 286 43 view .LVU377
 1153 0018 B1EE400A 		vneg.f32	s0, s0
 1154              	.LVL67:
 286:control-base/devices/src/dji_motor.c ****         break;
 1155              		.loc 1 286 41 view .LVU378
 1156 001c 83ED0A0A 		vstr.32	s0, [r3, #40]
 287:control-base/devices/src/dji_motor.c ****     default:
 1157              		.loc 1 287 9 is_stmt 1 view .LVU379
 291:control-base/devices/src/dji_motor.c **** 
 1158              		.loc 1 291 1 is_stmt 0 view .LVU380
 1159 0020 7047     		bx	lr
 1160              		.cfi_endproc
 1161              	.LFE148:
 1163              		.section	.text.DJI_Motor_Set_Torque,"ax",%progbits
 1164              		.align	1
 1165              		.global	DJI_Motor_Set_Torque
 1166              		.syntax unified
 1167              		.thumb
 1168              		.thumb_func
 1170              	DJI_Motor_Set_Torque:
 1171              	.LVL68:
 1172              	.LFB149:
 306:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 1173              		.loc 1 306 1 is_stmt 1 view -0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 0
 1176              		@ frame_needed = 0, uses_anonymous_args = 0
 306:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 0;
 1177              		.loc 1 306 1 is_stmt 0 view .LVU382
 1178 0000 10B5     		push	{r4, lr}
 1179              	.LCFI2:
 1180              		.cfi_def_cfa_offset 8
 1181              		.cfi_offset 4, -8
 1182              		.cfi_offset 14, -4
 1183 0002 0446     		mov	r4, r0
 307:control-base/devices/src/dji_motor.c ****     float torque_constant = 0;
 1184              		.loc 1 307 5 is_stmt 1 view .LVU383
 307:control-base/devices/src/dji_motor.c ****     float torque_constant = 0;
 1185              		.loc 1 307 28 is_stmt 0 view .LVU384
 1186 0004 0023     		movs	r3, #0
 1187 0006 8371     		strb	r3, [r0, #6]
 308:control-base/devices/src/dji_motor.c ****     float current_amps = 0;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 37


 1188              		.loc 1 308 5 is_stmt 1 view .LVU385
 1189              	.LVL69:
 309:control-base/devices/src/dji_motor.c ****     switch (motor_handle->motor_type)
 1190              		.loc 1 309 5 view .LVU386
 310:control-base/devices/src/dji_motor.c ****     {
 1191              		.loc 1 310 5 view .LVU387
 310:control-base/devices/src/dji_motor.c ****     {
 1192              		.loc 1 310 25 is_stmt 0 view .LVU388
 1193 0008 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 310:control-base/devices/src/dji_motor.c ****     {
 1194              		.loc 1 310 5 view .LVU389
 1195 000a 032B     		cmp	r3, #3
 1196 000c 00F2C380 		bhi	.L126
 1197 0010 DFE803F0 		tbb	[pc, r3]
 1198              	.L103:
 1199 0014 02       		.byte	(.L106-.L103)/2
 1200 0015 43       		.byte	(.L105-.L103)/2
 1201 0016 97       		.byte	(.L104-.L103)/2
 1202 0017 6D       		.byte	(.L102-.L103)/2
 1203              		.p2align 1
 1204              	.L106:
 314:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 1205              		.loc 1 314 9 is_stmt 1 view .LVU390
 314:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 1206              		.loc 1 314 32 is_stmt 0 view .LVU391
 1207 0018 10EE100A 		vmov	r0, s0
 1208              	.LVL70:
 314:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 1209              		.loc 1 314 32 view .LVU392
 1210 001c FFF7FEFF 		bl	__aeabi_f2d
 1211              	.LVL71:
 314:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 1212              		.loc 1 314 32 view .LVU393
 1213 0020 6AA3     		adr	r3, .L140+36
 1214 0022 D3E90023 		ldrd	r2, [r3]
 1215 0026 FFF7FEFF 		bl	__aeabi_ddiv
 1216              	.LVL72:
 314:control-base/devices/src/dji_motor.c ****         // map the current to integers used in CAN frame
 1217              		.loc 1 314 22 view .LVU394
 1218 002a FFF7FEFF 		bl	__aeabi_d2f
 1219              	.LVL73:
 1220 002e 07EE900A 		vmov	s15, r0
 1221              	.LVL74:
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1222              		.loc 1 316 9 is_stmt 1 view .LVU395
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1223              		.loc 1 316 9 view .LVU396
 1224 0032 B0EE087A 		vmov.f32	s14, #3.0e+0
 1225 0036 F4EEC77A 		vcmpe.f32	s15, s14
 1226 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1227 003e 20DD     		ble	.L135
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1228              		.loc 1 316 9 discriminator 1 view .LVU397
 1229 0040 77EEC77A 		vsub.f32	s15, s15, s14
 1230              	.LVL75:
 1231              	.L109:
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 38


 1232              		.loc 1 316 9 discriminator 6 view .LVU398
 1233 0044 B0EE087A 		vmov.f32	s14, #3.0e+0
 1234 0048 77EE877A 		vadd.f32	s15, s15, s14
 1235              	.LVL76:
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1236              		.loc 1 316 9 is_stmt 0 discriminator 6 view .LVU399
 1237 004c 9FED567A 		vldr.32	s14, .L140
 1238 0050 27EE877A 		vmul.f32	s14, s15, s14
 1239 0054 F1EE086A 		vmov.f32	s13, #6.0e+0
 1240 0058 C7EE267A 		vdiv.f32	s15, s14, s13
 1241 005c 9FED537A 		vldr.32	s14, .L140+4
 1242 0060 77EEC77A 		vsub.f32	s15, s15, s14
 1243              	.LVL77:
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1244              		.loc 1 316 9 is_stmt 1 view .LVU400
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1245              		.loc 1 316 118 view .LVU401
 318:control-base/devices/src/dji_motor.c ****     case M3508:
 1246              		.loc 1 318 9 view .LVU402
 1247              	.L101:
 336:control-base/devices/src/dji_motor.c ****     {
 1248              		.loc 1 336 5 view .LVU403
 336:control-base/devices/src/dji_motor.c ****     {
 1249              		.loc 1 336 25 is_stmt 0 view .LVU404
 1250 0064 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 336:control-base/devices/src/dji_motor.c ****     {
 1251              		.loc 1 336 5 view .LVU405
 1252 0066 002B     		cmp	r3, #0
 1253 0068 00F09880 		beq	.L123
 1254 006c 012B     		cmp	r3, #1
 1255 006e 40F09A80 		bne	.L100
 344:control-base/devices/src/dji_motor.c ****         break;
 1256              		.loc 1 344 9 is_stmt 1 view .LVU406
 344:control-base/devices/src/dji_motor.c ****         break;
 1257              		.loc 1 344 50 is_stmt 0 view .LVU407
 1258 0072 F1EE677A 		vneg.f32	s15, s15
 1259              	.LVL78:
 344:control-base/devices/src/dji_motor.c ****         break;
 1260              		.loc 1 344 40 view .LVU408
 1261 0076 FDEEE77A 		vcvt.s32.f32	s15, s15
 344:control-base/devices/src/dji_motor.c ****         break;
 1262              		.loc 1 344 38 view .LVU409
 1263 007a 17EE903A 		vmov	r3, s15	@ int
 1264 007e A384     		strh	r3, [r4, #36]	@ movhi
 345:control-base/devices/src/dji_motor.c ****     }
 1265              		.loc 1 345 9 is_stmt 1 view .LVU410
 347:control-base/devices/src/dji_motor.c **** 
 1266              		.loc 1 347 1 is_stmt 0 view .LVU411
 1267 0080 91E0     		b	.L100
 1268              	.LVL79:
 1269              	.L135:
 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1270              		.loc 1 316 9 is_stmt 1 discriminator 2 view .LVU412
 1271 0082 B8EE087A 		vmov.f32	s14, #-3.0e+0
 1272 0086 F4EEC77A 		vcmpe.f32	s15, s14
 1273 008a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1274 008e D9D5     		bpl	.L109
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 39


 316:control-base/devices/src/dji_motor.c ****         // set the output current to the mapped value
 1275              		.loc 1 316 9 discriminator 4 view .LVU413
 1276 0090 B0EE087A 		vmov.f32	s14, #3.0e+0
 1277 0094 77EE877A 		vadd.f32	s15, s15, s14
 1278 0098 D4E7     		b	.L109
 1279              	.LVL80:
 1280              	.L105:
 320:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 1281              		.loc 1 320 9 view .LVU414
 321:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 1282              		.loc 1 321 9 view .LVU415
 321:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 1283              		.loc 1 321 22 is_stmt 0 view .LVU416
 1284 009a 9FED457A 		vldr.32	s14, .L140+8
 1285 009e C0EE077A 		vdiv.f32	s15, s0, s14
 1286              	.LVL81:
 322:control-base/devices/src/dji_motor.c ****         break;
 1287              		.loc 1 322 9 is_stmt 1 view .LVU417
 322:control-base/devices/src/dji_motor.c ****         break;
 1288              		.loc 1 322 9 view .LVU418
 1289 00a2 B3EE047A 		vmov.f32	s14, #2.0e+1
 1290 00a6 F4EEC77A 		vcmpe.f32	s15, s14
 1291 00aa F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1292 00ae 12DD     		ble	.L136
 322:control-base/devices/src/dji_motor.c ****         break;
 1293              		.loc 1 322 9 discriminator 1 view .LVU419
 1294 00b0 77EEC77A 		vsub.f32	s15, s15, s14
 1295              	.LVL82:
 1296              	.L113:
 322:control-base/devices/src/dji_motor.c ****         break;
 1297              		.loc 1 322 9 discriminator 6 view .LVU420
 1298 00b4 B3EE047A 		vmov.f32	s14, #2.0e+1
 1299 00b8 77EE877A 		vadd.f32	s15, s15, s14
 1300              	.LVL83:
 322:control-base/devices/src/dji_motor.c ****         break;
 1301              		.loc 1 322 9 is_stmt 0 discriminator 6 view .LVU421
 1302 00bc 9FED3A7A 		vldr.32	s14, .L140
 1303 00c0 27EE877A 		vmul.f32	s14, s15, s14
 1304 00c4 DFED3B6A 		vldr.32	s13, .L140+12
 1305 00c8 C7EE267A 		vdiv.f32	s15, s14, s13
 1306 00cc 9FED377A 		vldr.32	s14, .L140+4
 1307 00d0 77EEC77A 		vsub.f32	s15, s15, s14
 1308              	.LVL84:
 322:control-base/devices/src/dji_motor.c ****         break;
 1309              		.loc 1 322 9 is_stmt 1 view .LVU422
 322:control-base/devices/src/dji_motor.c ****         break;
 1310              		.loc 1 322 114 view .LVU423
 323:control-base/devices/src/dji_motor.c ****     case M3508_PLANETARY:
 1311              		.loc 1 323 9 view .LVU424
 1312 00d4 C6E7     		b	.L101
 1313              	.L136:
 322:control-base/devices/src/dji_motor.c ****         break;
 1314              		.loc 1 322 9 discriminator 2 view .LVU425
 1315 00d6 BBEE047A 		vmov.f32	s14, #-2.0e+1
 1316 00da F4EEC77A 		vcmpe.f32	s15, s14
 1317 00de F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1318 00e2 E7D5     		bpl	.L113
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 40


 322:control-base/devices/src/dji_motor.c ****         break;
 1319              		.loc 1 322 9 discriminator 4 view .LVU426
 1320 00e4 B3EE047A 		vmov.f32	s14, #2.0e+1
 1321 00e8 77EE877A 		vadd.f32	s15, s15, s14
 1322              	.LVL85:
 322:control-base/devices/src/dji_motor.c ****         break;
 1323              		.loc 1 322 9 is_stmt 0 discriminator 4 view .LVU427
 1324 00ec E2E7     		b	.L113
 1325              	.LVL86:
 1326              	.L102:
 325:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 1327              		.loc 1 325 9 is_stmt 1 view .LVU428
 326:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 1328              		.loc 1 326 9 view .LVU429
 326:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M3508_MAX_CURRENT, M3508_MAX_CURRENT, -M3508_MAX_CURRENT_INT, M3508_MA
 1329              		.loc 1 326 22 is_stmt 0 view .LVU430
 1330 00ee 9FED327A 		vldr.32	s14, .L140+16
 1331 00f2 C0EE077A 		vdiv.f32	s15, s0, s14
 1332              	.LVL87:
 327:control-base/devices/src/dji_motor.c ****         break;
 1333              		.loc 1 327 9 is_stmt 1 view .LVU431
 327:control-base/devices/src/dji_motor.c ****         break;
 1334              		.loc 1 327 9 view .LVU432
 1335 00f6 B3EE047A 		vmov.f32	s14, #2.0e+1
 1336 00fa F4EEC77A 		vcmpe.f32	s15, s14
 1337 00fe F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1338 0102 12DD     		ble	.L137
 327:control-base/devices/src/dji_motor.c ****         break;
 1339              		.loc 1 327 9 discriminator 1 view .LVU433
 1340 0104 77EEC77A 		vsub.f32	s15, s15, s14
 1341              	.LVL88:
 1342              	.L117:
 327:control-base/devices/src/dji_motor.c ****         break;
 1343              		.loc 1 327 9 discriminator 6 view .LVU434
 1344 0108 B3EE047A 		vmov.f32	s14, #2.0e+1
 1345 010c 77EE877A 		vadd.f32	s15, s15, s14
 1346              	.LVL89:
 327:control-base/devices/src/dji_motor.c ****         break;
 1347              		.loc 1 327 9 is_stmt 0 discriminator 6 view .LVU435
 1348 0110 9FED257A 		vldr.32	s14, .L140
 1349 0114 27EE877A 		vmul.f32	s14, s15, s14
 1350 0118 DFED266A 		vldr.32	s13, .L140+12
 1351 011c C7EE267A 		vdiv.f32	s15, s14, s13
 1352 0120 9FED227A 		vldr.32	s14, .L140+4
 1353 0124 77EEC77A 		vsub.f32	s15, s15, s14
 1354              	.LVL90:
 327:control-base/devices/src/dji_motor.c ****         break;
 1355              		.loc 1 327 9 is_stmt 1 view .LVU436
 327:control-base/devices/src/dji_motor.c ****         break;
 1356              		.loc 1 327 114 view .LVU437
 328:control-base/devices/src/dji_motor.c ****     case M2006:
 1357              		.loc 1 328 9 view .LVU438
 1358 0128 9CE7     		b	.L101
 1359              	.L137:
 327:control-base/devices/src/dji_motor.c ****         break;
 1360              		.loc 1 327 9 discriminator 2 view .LVU439
 1361 012a BBEE047A 		vmov.f32	s14, #-2.0e+1
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 41


 1362 012e F4EEC77A 		vcmpe.f32	s15, s14
 1363 0132 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1364 0136 E7D5     		bpl	.L117
 327:control-base/devices/src/dji_motor.c ****         break;
 1365              		.loc 1 327 9 discriminator 4 view .LVU440
 1366 0138 B3EE047A 		vmov.f32	s14, #2.0e+1
 1367 013c 77EE877A 		vadd.f32	s15, s15, s14
 1368              	.LVL91:
 327:control-base/devices/src/dji_motor.c ****         break;
 1369              		.loc 1 327 9 is_stmt 0 discriminator 4 view .LVU441
 1370 0140 E2E7     		b	.L117
 1371              	.LVL92:
 1372              	.L104:
 330:control-base/devices/src/dji_motor.c ****         current_amps = (torque / torque_constant);
 1373              		.loc 1 330 9 is_stmt 1 view .LVU442
 331:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M2006_MAX_CURRENT, M2006_MAX_CURRENT, -M2006_MAX_CURRENT_INT, M2006_MA
 1374              		.loc 1 331 9 view .LVU443
 331:control-base/devices/src/dji_motor.c ****         __MAP(current_amps, -M2006_MAX_CURRENT, M2006_MAX_CURRENT, -M2006_MAX_CURRENT_INT, M2006_MA
 1375              		.loc 1 331 22 is_stmt 0 view .LVU444
 1376 0142 9FED1E7A 		vldr.32	s14, .L140+20
 1377 0146 C0EE077A 		vdiv.f32	s15, s0, s14
 1378              	.LVL93:
 332:control-base/devices/src/dji_motor.c ****         
 1379              		.loc 1 332 9 is_stmt 1 view .LVU445
 332:control-base/devices/src/dji_motor.c ****         
 1380              		.loc 1 332 9 view .LVU446
 1381 014a B2EE047A 		vmov.f32	s14, #1.0e+1
 1382 014e F4EEC77A 		vcmpe.f32	s15, s14
 1383 0152 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1384 0156 12DD     		ble	.L138
 332:control-base/devices/src/dji_motor.c ****         
 1385              		.loc 1 332 9 discriminator 1 view .LVU447
 1386 0158 77EEC77A 		vsub.f32	s15, s15, s14
 1387              	.LVL94:
 1388              	.L121:
 332:control-base/devices/src/dji_motor.c ****         
 1389              		.loc 1 332 9 discriminator 6 view .LVU448
 1390 015c B2EE047A 		vmov.f32	s14, #1.0e+1
 1391 0160 77EE877A 		vadd.f32	s15, s15, s14
 1392              	.LVL95:
 332:control-base/devices/src/dji_motor.c ****         
 1393              		.loc 1 332 9 is_stmt 0 discriminator 6 view .LVU449
 1394 0164 9FED167A 		vldr.32	s14, .L140+24
 1395 0168 27EE877A 		vmul.f32	s14, s15, s14
 1396 016c F3EE046A 		vmov.f32	s13, #2.0e+1
 1397 0170 C7EE267A 		vdiv.f32	s15, s14, s13
 1398 0174 9FED137A 		vldr.32	s14, .L140+28
 1399 0178 77EEC77A 		vsub.f32	s15, s15, s14
 1400              	.LVL96:
 332:control-base/devices/src/dji_motor.c ****         
 1401              		.loc 1 332 9 is_stmt 1 view .LVU450
 332:control-base/devices/src/dji_motor.c ****         
 1402              		.loc 1 332 114 view .LVU451
 334:control-base/devices/src/dji_motor.c ****     }
 1403              		.loc 1 334 9 view .LVU452
 1404 017c 72E7     		b	.L101
 1405              	.L138:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 42


 332:control-base/devices/src/dji_motor.c ****         
 1406              		.loc 1 332 9 discriminator 2 view .LVU453
 1407 017e BAEE047A 		vmov.f32	s14, #-1.0e+1
 1408 0182 F4EEC77A 		vcmpe.f32	s15, s14
 1409 0186 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1410 018a E7D5     		bpl	.L121
 332:control-base/devices/src/dji_motor.c ****         
 1411              		.loc 1 332 9 discriminator 4 view .LVU454
 1412 018c B2EE047A 		vmov.f32	s14, #1.0e+1
 1413 0190 77EE877A 		vadd.f32	s15, s15, s14
 1414              	.LVL97:
 332:control-base/devices/src/dji_motor.c ****         
 1415              		.loc 1 332 9 is_stmt 0 discriminator 4 view .LVU455
 1416 0194 E2E7     		b	.L121
 1417              	.LVL98:
 1418              	.L126:
 310:control-base/devices/src/dji_motor.c ****     {
 1419              		.loc 1 310 5 view .LVU456
 1420 0196 DFED0C7A 		vldr.32	s15, .L140+32
 1421 019a 63E7     		b	.L101
 1422              	.LVL99:
 1423              	.L123:
 340:control-base/devices/src/dji_motor.c ****         break;
 1424              		.loc 1 340 9 is_stmt 1 view .LVU457
 340:control-base/devices/src/dji_motor.c ****         break;
 1425              		.loc 1 340 40 is_stmt 0 view .LVU458
 1426 019c FDEEE77A 		vcvt.s32.f32	s15, s15
 1427              	.LVL100:
 340:control-base/devices/src/dji_motor.c ****         break;
 1428              		.loc 1 340 38 view .LVU459
 1429 01a0 17EE903A 		vmov	r3, s15	@ int
 1430 01a4 A384     		strh	r3, [r4, #36]	@ movhi
 341:control-base/devices/src/dji_motor.c ****     case MOTOR_REVERSAL_REVERSED:
 1431              		.loc 1 341 9 is_stmt 1 view .LVU460
 1432              	.L100:
 347:control-base/devices/src/dji_motor.c **** 
 1433              		.loc 1 347 1 is_stmt 0 view .LVU461
 1434 01a6 10BD     		pop	{r4, pc}
 1435              	.LVL101:
 1436              	.L141:
 347:control-base/devices/src/dji_motor.c **** 
 1437              		.loc 1 347 1 view .LVU462
 1438              		.align	3
 1439              	.L140:
 1440 01a8 0000FA46 		.word	1190789120
 1441 01ac 00007A46 		.word	1182400512
 1442 01b0 9A99993E 		.word	1050253722
 1443 01b4 00002042 		.word	1109393408
 1444 01b8 6DE77B3E 		.word	1048307565
 1445 01bc CDCCCC3D 		.word	1036831949
 1446 01c0 00A08C46 		.word	1183621120
 1447 01c4 00A00C46 		.word	1175232512
 1448 01c8 00000000 		.word	0
 1449 01cc E0E9D6FC 		.word	-53024288
 1450 01d0 25B4E73F 		.word	1072149541
 1451              		.cfi_endproc
 1452              	.LFE149:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 43


 1454              		.section	.text.DJI_Motor_Set_Control_Mode,"ax",%progbits
 1455              		.align	1
 1456              		.global	DJI_Motor_Set_Control_Mode
 1457              		.syntax unified
 1458              		.thumb
 1459              		.thumb_func
 1461              	DJI_Motor_Set_Control_Mode:
 1462              	.LVL102:
 1463              	.LFB150:
 350:control-base/devices/src/dji_motor.c ****     motor_handle->control_mode = control_mode;
 1464              		.loc 1 350 1 is_stmt 1 view -0
 1465              		.cfi_startproc
 1466              		@ args = 0, pretend = 0, frame = 0
 1467              		@ frame_needed = 0, uses_anonymous_args = 0
 1468              		@ link register save eliminated.
 351:control-base/devices/src/dji_motor.c **** }
 1469              		.loc 1 351 5 view .LVU464
 351:control-base/devices/src/dji_motor.c **** }
 1470              		.loc 1 351 32 is_stmt 0 view .LVU465
 1471 0000 C170     		strb	r1, [r0, #3]
 352:control-base/devices/src/dji_motor.c **** 
 1472              		.loc 1 352 1 view .LVU466
 1473 0002 7047     		bx	lr
 1474              		.cfi_endproc
 1475              	.LFE150:
 1477              		.section	.text.DJI_Motor_Disable,"ax",%progbits
 1478              		.align	1
 1479              		.global	DJI_Motor_Disable
 1480              		.syntax unified
 1481              		.thumb
 1482              		.thumb_func
 1484              	DJI_Motor_Disable:
 1485              	.LVL103:
 1486              	.LFB151:
 355:control-base/devices/src/dji_motor.c ****     motor_handle->disabled = 1;
 1487              		.loc 1 355 1 is_stmt 1 view -0
 1488              		.cfi_startproc
 1489              		@ args = 0, pretend = 0, frame = 0
 1490              		@ frame_needed = 0, uses_anonymous_args = 0
 1491              		@ link register save eliminated.
 356:control-base/devices/src/dji_motor.c **** }
 1492              		.loc 1 356 5 view .LVU468
 356:control-base/devices/src/dji_motor.c **** }
 1493              		.loc 1 356 28 is_stmt 0 view .LVU469
 1494 0000 0123     		movs	r3, #1
 1495 0002 8371     		strb	r3, [r0, #6]
 357:control-base/devices/src/dji_motor.c **** 
 1496              		.loc 1 357 1 view .LVU470
 1497 0004 7047     		bx	lr
 1498              		.cfi_endproc
 1499              	.LFE151:
 1501              		.section	.text.DJI_Motor_Current_Calc,"ax",%progbits
 1502              		.align	1
 1503              		.global	DJI_Motor_Current_Calc
 1504              		.syntax unified
 1505              		.thumb
 1506              		.thumb_func
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 44


 1508              	DJI_Motor_Current_Calc:
 1509              	.LFB152:
 360:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 1510              		.loc 1 360 1 is_stmt 1 view -0
 1511              		.cfi_startproc
 1512              		@ args = 0, pretend = 0, frame = 0
 1513              		@ frame_needed = 0, uses_anonymous_args = 0
 1514 0000 38B5     		push	{r3, r4, r5, lr}
 1515              	.LCFI3:
 1516              		.cfi_def_cfa_offset 16
 1517              		.cfi_offset 3, -16
 1518              		.cfi_offset 4, -12
 1519              		.cfi_offset 5, -8
 1520              		.cfi_offset 14, -4
 1521 0002 2DED028B 		vpush.64	{d8}
 1522              	.LCFI4:
 1523              		.cfi_def_cfa_offset 24
 1524              		.cfi_offset 80, -24
 1525              		.cfi_offset 81, -20
 361:control-base/devices/src/dji_motor.c ****     {
 1526              		.loc 1 361 5 view .LVU472
 1527              	.LBB4:
 361:control-base/devices/src/dji_motor.c ****     {
 1528              		.loc 1 361 10 view .LVU473
 1529              	.LVL104:
 361:control-base/devices/src/dji_motor.c ****     {
 1530              		.loc 1 361 14 is_stmt 0 view .LVU474
 1531 0006 0025     		movs	r5, #0
 361:control-base/devices/src/dji_motor.c ****     {
 1532              		.loc 1 361 5 view .LVU475
 1533 0008 0BE0     		b	.L145
 1534              	.LVL105:
 1535              	.L146:
 1536              	.LBB5:
 374:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->stats->current_vel_rpm;
 1537              		.loc 1 374 13 is_stmt 1 view .LVU476
 374:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->stats->current_vel_rpm;
 1538              		.loc 1 374 35 is_stmt 0 view .LVU477
 1539 000a A368     		ldr	r3, [r4, #8]
 374:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->stats->current_vel_rpm;
 1540              		.loc 1 374 28 view .LVU478
 1541 000c D3ED057A 		vldr.32	s15, [r3, #20]
 1542              	.LVL106:
 375:control-base/devices/src/dji_motor.c ****             break;
 1543              		.loc 1 375 13 is_stmt 1 view .LVU479
 375:control-base/devices/src/dji_motor.c ****             break;
 1544              		.loc 1 375 31 is_stmt 0 view .LVU480
 1545 0010 93ED018A 		vldr.32	s16, [r3, #4]
 1546              	.LVL107:
 376:control-base/devices/src/dji_motor.c ****         }
 1547              		.loc 1 376 13 is_stmt 1 view .LVU481
 1548              	.L147:
 379:control-base/devices/src/dji_motor.c ****         {
 1549              		.loc 1 379 9 view .LVU482
 379:control-base/devices/src/dji_motor.c ****         {
 1550              		.loc 1 379 22 is_stmt 0 view .LVU483
 1551 0014 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 45


 379:control-base/devices/src/dji_motor.c ****         {
 1552              		.loc 1 379 9 view .LVU484
 1553 0016 3BB3     		cbz	r3, .L148
 379:control-base/devices/src/dji_motor.c ****         {
 1554              		.loc 1 379 9 view .LVU485
 1555 0018 012B     		cmp	r3, #1
 1556 001a 01D1     		bne	.L149
 382:control-base/devices/src/dji_motor.c ****             break;
 1557              		.loc 1 382 13 is_stmt 1 view .LVU486
 382:control-base/devices/src/dji_motor.c ****             break;
 1558              		.loc 1 382 35 is_stmt 0 view .LVU487
 1559 001c 0023     		movs	r3, #0
 1560 001e A384     		strh	r3, [r4, #36]	@ movhi
 383:control-base/devices/src/dji_motor.c ****         case 0:
 1561              		.loc 1 383 13 is_stmt 1 view .LVU488
 1562              	.LVL108:
 1563              	.L149:
 383:control-base/devices/src/dji_motor.c ****         case 0:
 1564              		.loc 1 383 13 is_stmt 0 view .LVU489
 1565              	.LBE5:
 361:control-base/devices/src/dji_motor.c ****     {
 1566              		.loc 1 361 45 is_stmt 1 discriminator 2 view .LVU490
 1567 0020 0135     		adds	r5, r5, #1
 1568              	.LVL109:
 1569              	.L145:
 361:control-base/devices/src/dji_motor.c ****     {
 1570              		.loc 1 361 23 discriminator 1 view .LVU491
 1571 0022 9D4B     		ldr	r3, .L182
 1572 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1573 0026 AB42     		cmp	r3, r5
 1574 0028 40F33281 		ble	.L177
 1575              	.LBB11:
 363:control-base/devices/src/dji_motor.c ****         float angle_feedback = 0;
 1576              		.loc 1 363 9 view .LVU492
 363:control-base/devices/src/dji_motor.c ****         float angle_feedback = 0;
 1577              		.loc 1 363 29 is_stmt 0 view .LVU493
 1578 002c 9B4B     		ldr	r3, .L182+4
 1579 002e 53F82540 		ldr	r4, [r3, r5, lsl #2]
 1580              	.LVL110:
 364:control-base/devices/src/dji_motor.c ****         float velocity_feedback = 0;
 1581              		.loc 1 364 9 is_stmt 1 view .LVU494
 365:control-base/devices/src/dji_motor.c ****         // assign feedback depending on whether the motor uses an external sensor (like imu)
 1582              		.loc 1 365 9 view .LVU495
 367:control-base/devices/src/dji_motor.c ****         {
 1583              		.loc 1 367 9 view .LVU496
 367:control-base/devices/src/dji_motor.c ****         {
 1584              		.loc 1 367 22 is_stmt 0 view .LVU497
 1585 0032 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
 367:control-base/devices/src/dji_motor.c ****         {
 1586              		.loc 1 367 9 view .LVU498
 1587 0034 002B     		cmp	r3, #0
 1588 0036 E8D0     		beq	.L146
 1589 0038 012B     		cmp	r3, #1
 1590 003a 10D1     		bne	.L174
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
 1591              		.loc 1 370 13 is_stmt 1 view .LVU499
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 46


 1592              		.loc 1 370 35 is_stmt 0 view .LVU500
 1593 003c 94F90D30 		ldrsb	r3, [r4, #13]
 1594 0040 08EE103A 		vmov	s16, r3	@ int
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
 1595              		.loc 1 370 59 view .LVU501
 1596 0044 B8EEC88A 		vcvt.f32.s32	s16, s16
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
 1597              		.loc 1 370 76 view .LVU502
 1598 0048 2369     		ldr	r3, [r4, #16]
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
 1599              		.loc 1 370 69 view .LVU503
 1600 004a D3ED007A 		vldr.32	s15, [r3]
 370:control-base/devices/src/dji_motor.c ****             velocity_feedback = motor->external_feedback_dir * ((float)*(motor->external_velocity_f
 1601              		.loc 1 370 28 view .LVU504
 1602 004e 68EE277A 		vmul.f32	s15, s16, s15
 1603              	.LVL111:
 371:control-base/devices/src/dji_motor.c ****             break;
 1604              		.loc 1 371 13 is_stmt 1 view .LVU505
 371:control-base/devices/src/dji_motor.c ****             break;
 1605              		.loc 1 371 79 is_stmt 0 view .LVU506
 1606 0052 6369     		ldr	r3, [r4, #20]
 371:control-base/devices/src/dji_motor.c ****             break;
 1607              		.loc 1 371 72 view .LVU507
 1608 0054 93ED007A 		vldr.32	s14, [r3]
 371:control-base/devices/src/dji_motor.c ****             break;
 1609              		.loc 1 371 31 view .LVU508
 1610 0058 28EE078A 		vmul.f32	s16, s16, s14
 1611              	.LVL112:
 372:control-base/devices/src/dji_motor.c ****         case 0:
 1612              		.loc 1 372 13 is_stmt 1 view .LVU509
 1613 005c DAE7     		b	.L147
 1614              	.LVL113:
 1615              	.L174:
 367:control-base/devices/src/dji_motor.c ****         {
 1616              		.loc 1 367 9 is_stmt 0 view .LVU510
 1617 005e 9FED908A 		vldr.32	s16, .L182+8
 1618 0062 F0EE487A 		vmov.f32	s15, s16
 1619 0066 D5E7     		b	.L147
 1620              	.LVL114:
 1621              	.L148:
 386:control-base/devices/src/dji_motor.c ****             {
 1622              		.loc 1 386 13 is_stmt 1 view .LVU511
 386:control-base/devices/src/dji_motor.c ****             {
 1623              		.loc 1 386 26 is_stmt 0 view .LVU512
 1624 0068 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 386:control-base/devices/src/dji_motor.c ****             {
 1625              		.loc 1 386 13 view .LVU513
 1626 006a 013B     		subs	r3, r3, #1
 1627 006c 1E2B     		cmp	r3, #30
 1628 006e D7D8     		bhi	.L149
 1629 0070 01A2     		adr	r2, .L151
 1630 0072 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1631 0076 00BF     		.p2align 2
 1632              	.L151:
 1633 0078 F5000000 		.word	.L156+1
 1634 007c 0F010000 		.word	.L155+1
 1635 0080 CD010000 		.word	.L154+1
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 47


 1636 0084 21000000 		.word	.L149+1
 1637 0088 21000000 		.word	.L149+1
 1638 008c 21000000 		.word	.L149+1
 1639 0090 21000000 		.word	.L149+1
 1640 0094 21000000 		.word	.L149+1
 1641 0098 21000000 		.word	.L149+1
 1642 009c 21000000 		.word	.L149+1
 1643 00a0 79010000 		.word	.L153+1
 1644 00a4 21000000 		.word	.L149+1
 1645 00a8 21000000 		.word	.L149+1
 1646 00ac 21000000 		.word	.L149+1
 1647 00b0 21000000 		.word	.L149+1
 1648 00b4 21000000 		.word	.L149+1
 1649 00b8 21000000 		.word	.L149+1
 1650 00bc 59010000 		.word	.L152+1
 1651 00c0 21000000 		.word	.L149+1
 1652 00c4 21000000 		.word	.L149+1
 1653 00c8 21000000 		.word	.L149+1
 1654 00cc 21000000 		.word	.L149+1
 1655 00d0 21000000 		.word	.L149+1
 1656 00d4 21000000 		.word	.L149+1
 1657 00d8 21000000 		.word	.L149+1
 1658 00dc 21000000 		.word	.L149+1
 1659 00e0 21000000 		.word	.L149+1
 1660 00e4 21000000 		.word	.L149+1
 1661 00e8 21000000 		.word	.L149+1
 1662 00ec 21000000 		.word	.L149+1
 1663 00f0 2D020000 		.word	.L150+1
 1664              		.p2align 1
 1665              	.L156:
 390:control-base/devices/src/dji_motor.c ****                 break;
 1666              		.loc 1 390 17 is_stmt 1 view .LVU514
 390:control-base/devices/src/dji_motor.c ****                 break;
 1667              		.loc 1 390 41 is_stmt 0 view .LVU515
 1668 00f4 E069     		ldr	r0, [r4, #28]
 390:control-base/devices/src/dji_motor.c ****                 break;
 1669              		.loc 1 390 85 view .LVU516
 1670 00f6 90ED0A0A 		vldr.32	s0, [r0, #40]
 390:control-base/devices/src/dji_motor.c ****                 break;
 1671              		.loc 1 390 41 view .LVU517
 1672 00fa 30EE480A 		vsub.f32	s0, s0, s16
 1673 00fe FFF7FEFF 		bl	PID
 1674              	.LVL115:
 390:control-base/devices/src/dji_motor.c ****                 break;
 1675              		.loc 1 390 39 discriminator 1 view .LVU518
 1676 0102 BDEEC00A 		vcvt.s32.f32	s0, s0
 1677 0106 10EE103A 		vmov	r3, s0	@ int
 1678 010a A384     		strh	r3, [r4, #36]	@ movhi
 391:control-base/devices/src/dji_motor.c ****             }
 1679              		.loc 1 391 17 is_stmt 1 view .LVU519
 1680 010c 88E7     		b	.L149
 1681              	.LVL116:
 1682              	.L155:
 1683              	.LBB6:
 395:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1684              		.loc 1 395 17 view .LVU520
 395:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 48


 1685              		.loc 1 395 36 is_stmt 0 view .LVU521
 1686 010e A069     		ldr	r0, [r4, #24]
 395:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1687              		.loc 1 395 47 view .LVU522
 1688 0110 90ED0A0A 		vldr.32	s0, [r0, #40]
 395:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1689              		.loc 1 395 23 view .LVU523
 1690 0114 30EE670A 		vsub.f32	s0, s0, s15
 1691              	.LVL117:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1692              		.loc 1 396 17 is_stmt 1 view .LVU524
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1693              		.loc 1 396 17 view .LVU525
 1694              	.L157:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1695              		.loc 1 396 17 discriminator 1 view .LVU526
 1696 0118 DFED627A 		vldr.32	s15, .L182+12
 1697 011c B4EEE70A 		vcmpe.f32	s0, s15
 1698 0120 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1699 0124 04DB     		blt	.L159
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1700              		.loc 1 396 17 discriminator 2 view .LVU527
 1701 0126 DFED607A 		vldr.32	s15, .L182+16
 1702 012a 30EE670A 		vsub.f32	s0, s0, s15
 1703              	.LVL118:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1704              		.loc 1 396 17 is_stmt 0 discriminator 2 view .LVU528
 1705 012e F3E7     		b	.L157
 1706              	.LVL119:
 1707              	.L159:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1708              		.loc 1 396 17 is_stmt 1 discriminator 3 view .LVU529
 1709 0130 DFED5E7A 		vldr.32	s15, .L182+20
 1710 0134 B4EEE70A 		vcmpe.f32	s0, s15
 1711 0138 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1712 013c 04D5     		bpl	.L178
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1713              		.loc 1 396 17 discriminator 4 view .LVU530
 1714 013e DFED5A7A 		vldr.32	s15, .L182+16
 1715 0142 30EE270A 		vadd.f32	s0, s0, s15
 1716              	.LVL120:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1717              		.loc 1 396 17 is_stmt 0 discriminator 4 view .LVU531
 1718 0146 F3E7     		b	.L159
 1719              	.LVL121:
 1720              	.L178:
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1721              		.loc 1 396 17 is_stmt 1 view .LVU532
 396:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1722              		.loc 1 396 50 view .LVU533
 397:control-base/devices/src/dji_motor.c ****                 break;
 1723              		.loc 1 397 17 view .LVU534
 397:control-base/devices/src/dji_motor.c ****                 break;
 1724              		.loc 1 397 41 is_stmt 0 view .LVU535
 1725 0148 FFF7FEFF 		bl	PID
 1726              	.LVL122:
 397:control-base/devices/src/dji_motor.c ****                 break;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 49


 1727              		.loc 1 397 39 discriminator 1 view .LVU536
 1728 014c BDEEC00A 		vcvt.s32.f32	s0, s0
 1729 0150 10EE103A 		vmov	r3, s0	@ int
 1730 0154 A384     		strh	r3, [r4, #36]	@ movhi
 398:control-base/devices/src/dji_motor.c ****             }
 1731              		.loc 1 398 17 is_stmt 1 view .LVU537
 1732 0156 63E7     		b	.L149
 1733              	.LVL123:
 1734              	.L152:
 398:control-base/devices/src/dji_motor.c ****             }
 1735              		.loc 1 398 17 is_stmt 0 view .LVU538
 1736              	.LBE6:
 1737              	.LBB7:
 402:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1738              		.loc 1 402 17 is_stmt 1 view .LVU539
 402:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1739              		.loc 1 402 36 is_stmt 0 view .LVU540
 1740 0158 A069     		ldr	r0, [r4, #24]
 402:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1741              		.loc 1 402 47 view .LVU541
 1742 015a 90ED0A0A 		vldr.32	s0, [r0, #40]
 402:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1743              		.loc 1 402 60 view .LVU542
 1744 015e A368     		ldr	r3, [r4, #8]
 402:control-base/devices/src/dji_motor.c ****                 motor->output_current = PID(motor->angle_pid, error);
 1745              		.loc 1 402 67 view .LVU543
 1746 0160 D3ED077A 		vldr.32	s15, [r3, #28]
 1747              	.LVL124:
 403:control-base/devices/src/dji_motor.c ****                 break;
 1748              		.loc 1 403 17 is_stmt 1 view .LVU544
 403:control-base/devices/src/dji_motor.c ****                 break;
 1749              		.loc 1 403 41 is_stmt 0 view .LVU545
 1750 0164 30EE670A 		vsub.f32	s0, s0, s15
 1751              	.LVL125:
 403:control-base/devices/src/dji_motor.c ****                 break;
 1752              		.loc 1 403 41 view .LVU546
 1753 0168 FFF7FEFF 		bl	PID
 1754              	.LVL126:
 403:control-base/devices/src/dji_motor.c ****                 break;
 1755              		.loc 1 403 39 discriminator 1 view .LVU547
 1756 016c BDEEC00A 		vcvt.s32.f32	s0, s0
 1757 0170 10EE103A 		vmov	r3, s0	@ int
 1758 0174 A384     		strh	r3, [r4, #36]	@ movhi
 404:control-base/devices/src/dji_motor.c ****             }
 1759              		.loc 1 404 17 is_stmt 1 view .LVU548
 1760 0176 53E7     		b	.L149
 1761              	.LVL127:
 1762              	.L153:
 404:control-base/devices/src/dji_motor.c ****             }
 1763              		.loc 1 404 17 is_stmt 0 view .LVU549
 1764              	.LBE7:
 1765              	.LBB8:
 414:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1766              		.loc 1 414 17 is_stmt 1 view .LVU550
 414:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1767              		.loc 1 414 36 is_stmt 0 view .LVU551
 1768 0178 A069     		ldr	r0, [r4, #24]
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 50


 414:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1769              		.loc 1 414 47 view .LVU552
 1770 017a 90ED0A0A 		vldr.32	s0, [r0, #40]
 414:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1771              		.loc 1 414 23 view .LVU553
 1772 017e 30EE670A 		vsub.f32	s0, s0, s15
 1773              	.LVL128:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1774              		.loc 1 415 17 is_stmt 1 view .LVU554
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1775              		.loc 1 415 17 view .LVU555
 1776              	.L161:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1777              		.loc 1 415 17 discriminator 1 view .LVU556
 1778 0182 DFED487A 		vldr.32	s15, .L182+12
 1779 0186 B4EEE70A 		vcmpe.f32	s0, s15
 1780 018a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1781 018e 04DB     		blt	.L163
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1782              		.loc 1 415 17 discriminator 2 view .LVU557
 1783 0190 DFED457A 		vldr.32	s15, .L182+16
 1784 0194 30EE670A 		vsub.f32	s0, s0, s15
 1785              	.LVL129:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1786              		.loc 1 415 17 is_stmt 0 discriminator 2 view .LVU558
 1787 0198 F3E7     		b	.L161
 1788              	.LVL130:
 1789              	.L163:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1790              		.loc 1 415 17 is_stmt 1 discriminator 3 view .LVU559
 1791 019a DFED447A 		vldr.32	s15, .L182+20
 1792 019e B4EEE70A 		vcmpe.f32	s0, s15
 1793 01a2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1794 01a6 04D5     		bpl	.L179
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1795              		.loc 1 415 17 discriminator 4 view .LVU560
 1796 01a8 DFED3F7A 		vldr.32	s15, .L182+16
 1797 01ac 30EE270A 		vadd.f32	s0, s0, s15
 1798              	.LVL131:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1799              		.loc 1 415 17 is_stmt 0 discriminator 4 view .LVU561
 1800 01b0 F3E7     		b	.L163
 1801              	.LVL132:
 1802              	.L179:
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1803              		.loc 1 415 17 is_stmt 1 view .LVU562
 415:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1804              		.loc 1 415 50 view .LVU563
 417:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1805              		.loc 1 417 17 view .LVU564
 417:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1806              		.loc 1 417 36 is_stmt 0 view .LVU565
 1807 01b2 FFF7FEFF 		bl	PID
 1808              	.LVL133:
 419:control-base/devices/src/dji_motor.c ****                 break;
 1809              		.loc 1 419 17 is_stmt 1 view .LVU566
 419:control-base/devices/src/dji_motor.c ****                 break;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 51


 1810              		.loc 1 419 41 is_stmt 0 view .LVU567
 1811 01b6 30EE480A 		vsub.f32	s0, s0, s16
 1812              	.LVL134:
 419:control-base/devices/src/dji_motor.c ****                 break;
 1813              		.loc 1 419 41 view .LVU568
 1814 01ba E069     		ldr	r0, [r4, #28]
 1815 01bc FFF7FEFF 		bl	PID
 1816              	.LVL135:
 419:control-base/devices/src/dji_motor.c ****                 break;
 1817              		.loc 1 419 39 discriminator 1 view .LVU569
 1818 01c0 BDEEC00A 		vcvt.s32.f32	s0, s0
 1819 01c4 10EE103A 		vmov	r3, s0	@ int
 1820 01c8 A384     		strh	r3, [r4, #36]	@ movhi
 420:control-base/devices/src/dji_motor.c ****             }
 1821              		.loc 1 420 17 is_stmt 1 view .LVU570
 1822 01ca 29E7     		b	.L149
 1823              	.LVL136:
 1824              	.L154:
 420:control-base/devices/src/dji_motor.c ****             }
 1825              		.loc 1 420 17 is_stmt 0 view .LVU571
 1826              	.LBE8:
 1827              	.LBB9:
 425:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error); // wrap angle error to (-pi, pi)
 1828              		.loc 1 425 17 is_stmt 1 view .LVU572
 425:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error); // wrap angle error to (-pi, pi)
 1829              		.loc 1 425 36 is_stmt 0 view .LVU573
 1830 01cc A069     		ldr	r0, [r4, #24]
 425:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error); // wrap angle error to (-pi, pi)
 1831              		.loc 1 425 47 view .LVU574
 1832 01ce 90ED0A0A 		vldr.32	s0, [r0, #40]
 425:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error); // wrap angle error to (-pi, pi)
 1833              		.loc 1 425 23 view .LVU575
 1834 01d2 30EE670A 		vsub.f32	s0, s0, s15
 1835              	.LVL137:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1836              		.loc 1 426 17 is_stmt 1 view .LVU576
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1837              		.loc 1 426 17 view .LVU577
 1838              	.L165:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1839              		.loc 1 426 17 discriminator 1 view .LVU578
 1840 01d6 DFED337A 		vldr.32	s15, .L182+12
 1841 01da B4EEE70A 		vcmpe.f32	s0, s15
 1842 01de F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1843 01e2 04DB     		blt	.L167
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1844              		.loc 1 426 17 discriminator 2 view .LVU579
 1845 01e4 DFED307A 		vldr.32	s15, .L182+16
 1846 01e8 30EE670A 		vsub.f32	s0, s0, s15
 1847              	.LVL138:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1848              		.loc 1 426 17 is_stmt 0 discriminator 2 view .LVU580
 1849 01ec F3E7     		b	.L165
 1850              	.LVL139:
 1851              	.L167:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1852              		.loc 1 426 17 is_stmt 1 discriminator 3 view .LVU581
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 52


 1853 01ee DFED2F7A 		vldr.32	s15, .L182+20
 1854 01f2 B4EEE70A 		vcmpe.f32	s0, s15
 1855 01f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1856 01fa 04D5     		bpl	.L180
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1857              		.loc 1 426 17 discriminator 4 view .LVU582
 1858 01fc DFED2A7A 		vldr.32	s15, .L182+16
 1859 0200 30EE270A 		vadd.f32	s0, s0, s15
 1860              	.LVL140:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1861              		.loc 1 426 17 is_stmt 0 discriminator 4 view .LVU583
 1862 0204 F3E7     		b	.L167
 1863              	.LVL141:
 1864              	.L180:
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1865              		.loc 1 426 17 is_stmt 1 view .LVU584
 426:control-base/devices/src/dji_motor.c ****                 float angle_pid_output = PID(motor->angle_pid, error);
 1866              		.loc 1 426 50 view .LVU585
 427:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1867              		.loc 1 427 17 view .LVU586
 427:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1868              		.loc 1 427 42 is_stmt 0 view .LVU587
 1869 0206 FFF7FEFF 		bl	PID
 1870              	.LVL142:
 427:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1871              		.loc 1 427 42 view .LVU588
 1872 020a F0EE408A 		vmov.f32	s17, s0
 1873              	.LVL143:
 429:control-base/devices/src/dji_motor.c ****                 // add parallel output
 1874              		.loc 1 429 17 is_stmt 1 view .LVU589
 429:control-base/devices/src/dji_motor.c ****                 // add parallel output
 1875              		.loc 1 429 45 is_stmt 0 view .LVU590
 1876 020e E069     		ldr	r0, [r4, #28]
 429:control-base/devices/src/dji_motor.c ****                 // add parallel output
 1877              		.loc 1 429 89 view .LVU591
 1878 0210 90ED0A0A 		vldr.32	s0, [r0, #40]
 1879              	.LVL144:
 429:control-base/devices/src/dji_motor.c ****                 // add parallel output
 1880              		.loc 1 429 45 view .LVU592
 1881 0214 30EE480A 		vsub.f32	s0, s0, s16
 1882 0218 FFF7FEFF 		bl	PID
 1883              	.LVL145:
 431:control-base/devices/src/dji_motor.c ****                 break;
 1884              		.loc 1 431 17 is_stmt 1 view .LVU593
 431:control-base/devices/src/dji_motor.c ****                 break;
 1885              		.loc 1 431 58 is_stmt 0 view .LVU594
 1886 021c 78EE808A 		vadd.f32	s17, s17, s0
 1887              	.LVL146:
 431:control-base/devices/src/dji_motor.c ****                 break;
 1888              		.loc 1 431 39 view .LVU595
 1889 0220 FDEEE88A 		vcvt.s32.f32	s17, s17
 1890 0224 18EE903A 		vmov	r3, s17	@ int
 1891 0228 A384     		strh	r3, [r4, #36]	@ movhi
 432:control-base/devices/src/dji_motor.c ****             }
 1892              		.loc 1 432 17 is_stmt 1 view .LVU596
 1893 022a F9E6     		b	.L149
 1894              	.LVL147:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 53


 1895              	.L150:
 432:control-base/devices/src/dji_motor.c ****             }
 1896              		.loc 1 432 17 is_stmt 0 view .LVU597
 1897              	.LBE9:
 1898              	.LBB10:
 437:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1899              		.loc 1 437 17 is_stmt 1 view .LVU598
 437:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1900              		.loc 1 437 36 is_stmt 0 view .LVU599
 1901 022c A069     		ldr	r0, [r4, #24]
 437:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1902              		.loc 1 437 47 view .LVU600
 1903 022e 90ED0A0A 		vldr.32	s0, [r0, #40]
 437:control-base/devices/src/dji_motor.c ****                 __MAP_ANGLE_TO_UNIT_CIRCLE(error);
 1904              		.loc 1 437 23 view .LVU601
 1905 0232 30EE670A 		vsub.f32	s0, s0, s15
 1906              	.LVL148:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1907              		.loc 1 438 17 is_stmt 1 view .LVU602
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1908              		.loc 1 438 17 view .LVU603
 1909              	.L169:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1910              		.loc 1 438 17 discriminator 1 view .LVU604
 1911 0236 DFED1B7A 		vldr.32	s15, .L182+12
 1912 023a B4EEE70A 		vcmpe.f32	s0, s15
 1913 023e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1914 0242 04DB     		blt	.L171
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1915              		.loc 1 438 17 discriminator 2 view .LVU605
 1916 0244 DFED187A 		vldr.32	s15, .L182+16
 1917 0248 30EE670A 		vsub.f32	s0, s0, s15
 1918              	.LVL149:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1919              		.loc 1 438 17 is_stmt 0 discriminator 2 view .LVU606
 1920 024c F3E7     		b	.L169
 1921              	.LVL150:
 1922              	.L171:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1923              		.loc 1 438 17 is_stmt 1 discriminator 3 view .LVU607
 1924 024e DFED177A 		vldr.32	s15, .L182+20
 1925 0252 B4EEE70A 		vcmpe.f32	s0, s15
 1926 0256 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1927 025a 04D5     		bpl	.L181
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1928              		.loc 1 438 17 discriminator 4 view .LVU608
 1929 025c DFED127A 		vldr.32	s15, .L182+16
 1930 0260 30EE270A 		vadd.f32	s0, s0, s15
 1931              	.LVL151:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1932              		.loc 1 438 17 is_stmt 0 discriminator 4 view .LVU609
 1933 0264 F3E7     		b	.L171
 1934              	.LVL152:
 1935              	.L181:
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
 1936              		.loc 1 438 17 is_stmt 1 view .LVU610
 438:control-base/devices/src/dji_motor.c ****                 // angle pid output as velocity ref
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 54


 1937              		.loc 1 438 50 view .LVU611
 440:control-base/devices/src/dji_motor.c ****                 float spintop_feedforward = -motor->spintop_velocity * motor->spintop_feedforward_g
 1938              		.loc 1 440 17 view .LVU612
 440:control-base/devices/src/dji_motor.c ****                 float spintop_feedforward = -motor->spintop_velocity * motor->spintop_feedforward_g
 1939              		.loc 1 440 36 is_stmt 0 view .LVU613
 1940 0266 FFF7FEFF 		bl	PID
 1941              	.LVL153:
 441:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1942              		.loc 1 441 17 is_stmt 1 view .LVU614
 441:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1943              		.loc 1 441 51 is_stmt 0 view .LVU615
 1944 026a D4ED0A8A 		vldr.32	s17, [r4, #40]
 441:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1945              		.loc 1 441 77 view .LVU616
 1946 026e D4ED0B7A 		vldr.32	s15, [r4, #44]
 441:control-base/devices/src/dji_motor.c ****                 // velocity pid
 1947              		.loc 1 441 23 view .LVU617
 1948 0272 68EEE78A 		vnmul.f32	s17, s17, s15
 1949              	.LVL154:
 443:control-base/devices/src/dji_motor.c ****                 break;
 1950              		.loc 1 443 17 is_stmt 1 view .LVU618
 443:control-base/devices/src/dji_motor.c ****                 break;
 1951              		.loc 1 443 41 is_stmt 0 view .LVU619
 1952 0276 30EE480A 		vsub.f32	s0, s0, s16
 1953              	.LVL155:
 443:control-base/devices/src/dji_motor.c ****                 break;
 1954              		.loc 1 443 41 view .LVU620
 1955 027a E069     		ldr	r0, [r4, #28]
 1956 027c FFF7FEFF 		bl	PID
 1957              	.LVL156:
 443:control-base/devices/src/dji_motor.c ****                 break;
 1958              		.loc 1 443 99 discriminator 1 view .LVU621
 1959 0280 70EE287A 		vadd.f32	s15, s0, s17
 443:control-base/devices/src/dji_motor.c ****                 break;
 1960              		.loc 1 443 39 discriminator 1 view .LVU622
 1961 0284 FDEEE77A 		vcvt.s32.f32	s15, s15
 1962 0288 17EE903A 		vmov	r3, s15	@ int
 1963 028c A384     		strh	r3, [r4, #36]	@ movhi
 444:control-base/devices/src/dji_motor.c ****             }
 1964              		.loc 1 444 17 is_stmt 1 view .LVU623
 1965 028e C7E6     		b	.L149
 1966              	.LVL157:
 1967              	.L177:
 444:control-base/devices/src/dji_motor.c ****             }
 1968              		.loc 1 444 17 is_stmt 0 view .LVU624
 1969              	.LBE10:
 1970              	.LBE11:
 1971              	.LBE4:
 454:control-base/devices/src/dji_motor.c **** 
 1972              		.loc 1 454 1 view .LVU625
 1973 0290 BDEC028B 		vldm	sp!, {d8}
 1974              	.LCFI5:
 1975              		.cfi_restore 80
 1976              		.cfi_restore 81
 1977              		.cfi_def_cfa_offset 16
 1978 0294 38BD     		pop	{r3, r4, r5, pc}
 1979              	.LVL158:
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 55


 1980              	.L183:
 454:control-base/devices/src/dji_motor.c **** 
 1981              		.loc 1 454 1 view .LVU626
 1982 0296 00BF     		.align	2
 1983              	.L182:
 1984 0298 00000000 		.word	g_dji_motor_count
 1985 029c 00000000 		.word	g_dji_motors
 1986 02a0 00000000 		.word	0
 1987 02a4 DA0F4940 		.word	1078530010
 1988 02a8 DA0FC940 		.word	1086918618
 1989 02ac DA0F49C0 		.word	-1068953638
 1990              		.cfi_endproc
 1991              	.LFE152:
 1993              		.section	.text.DJI_Motor_Send,"ax",%progbits
 1994              		.align	1
 1995              		.global	DJI_Motor_Send
 1996              		.syntax unified
 1997              		.thumb
 1998              		.thumb_func
 2000              	DJI_Motor_Send:
 2001              	.LFB153:
 462:control-base/devices/src/dji_motor.c ****     // Calculate motor current based on control mode for all motors
 2002              		.loc 1 462 1 is_stmt 1 view -0
 2003              		.cfi_startproc
 2004              		@ args = 0, pretend = 0, frame = 0
 2005              		@ frame_needed = 0, uses_anonymous_args = 0
 2006 0000 38B5     		push	{r3, r4, r5, lr}
 2007              	.LCFI6:
 2008              		.cfi_def_cfa_offset 16
 2009              		.cfi_offset 3, -16
 2010              		.cfi_offset 4, -12
 2011              		.cfi_offset 5, -8
 2012              		.cfi_offset 14, -4
 464:control-base/devices/src/dji_motor.c ****     // Send motor torques (iterate through send groups)
 2013              		.loc 1 464 5 view .LVU628
 2014 0002 FFF7FEFF 		bl	DJI_Motor_Current_Calc
 2015              	.LVL159:
 466:control-base/devices/src/dji_motor.c ****     {
 2016              		.loc 1 466 5 view .LVU629
 2017              	.LBB12:
 466:control-base/devices/src/dji_motor.c ****     {
 2018              		.loc 1 466 10 view .LVU630
 466:control-base/devices/src/dji_motor.c ****     {
 2019              		.loc 1 466 14 is_stmt 0 view .LVU631
 2020 0006 0024     		movs	r4, #0
 466:control-base/devices/src/dji_motor.c ****     {
 2021              		.loc 1 466 5 view .LVU632
 2022 0008 03E0     		b	.L185
 2023              	.LVL160:
 2024              	.L189:
 2025              	.LBB13:
 502:control-base/devices/src/dji_motor.c ****         {
 2026              		.loc 1 502 9 is_stmt 1 view .LVU633
 502:control-base/devices/src/dji_motor.c ****         {
 2027              		.loc 1 502 13 is_stmt 0 view .LVU634
 2028 000a 5868     		ldr	r0, [r3, #4]
 2029 000c FFF7FEFF 		bl	CAN_Transmit
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 56


 2030              	.LVL161:
 505:control-base/devices/src/dji_motor.c ****     }
 2031              		.loc 1 505 9 is_stmt 1 view .LVU635
 2032              	.LBE13:
 466:control-base/devices/src/dji_motor.c ****     {
 2033              		.loc 1 466 51 discriminator 2 view .LVU636
 2034 0010 0134     		adds	r4, r4, #1
 2035              	.LVL162:
 2036              	.L185:
 466:control-base/devices/src/dji_motor.c ****     {
 2037              		.loc 1 466 23 discriminator 1 view .LVU637
 2038 0012 1C4B     		ldr	r3, .L193
 2039 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2040 0016 A342     		cmp	r3, r4
 2041 0018 33DD     		ble	.L192
 2042              	.LBB18:
 468:control-base/devices/src/dji_motor.c ****         uint8_t register_indicator = group->register_device_indicator;
 2043              		.loc 1 468 9 view .LVU638
 468:control-base/devices/src/dji_motor.c ****         uint8_t register_indicator = group->register_device_indicator;
 2044              		.loc 1 468 27 is_stmt 0 view .LVU639
 2045 001a 1B4B     		ldr	r3, .L193+4
 2046 001c 53F82430 		ldr	r3, [r3, r4, lsl #2]
 2047              	.LVL163:
 469:control-base/devices/src/dji_motor.c ****         uint8_t *data = group->can_instance->tx_buffer;
 2048              		.loc 1 469 9 is_stmt 1 view .LVU640
 469:control-base/devices/src/dji_motor.c ****         uint8_t *data = group->can_instance->tx_buffer;
 2049              		.loc 1 469 17 is_stmt 0 view .LVU641
 2050 0020 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2051              	.LVL164:
 470:control-base/devices/src/dji_motor.c ****         // register_indicator is a 4-bit number, each bit represents a motor
 2052              		.loc 1 470 9 is_stmt 1 view .LVU642
 470:control-base/devices/src/dji_motor.c ****         // register_indicator is a 4-bit number, each bit represents a motor
 2053              		.loc 1 470 30 is_stmt 0 view .LVU643
 2054 0022 5968     		ldr	r1, [r3, #4]
 2055              	.LVL165:
 474:control-base/devices/src/dji_motor.c ****         {
 2056              		.loc 1 474 9 is_stmt 1 view .LVU644
 474:control-base/devices/src/dji_motor.c ****         {
 2057              		.loc 1 474 12 is_stmt 0 view .LVU645
 2058 0024 12F0010F 		tst	r2, #1
 2059 0028 07D0     		beq	.L186
 2060              	.LBB14:
 476:control-base/devices/src/dji_motor.c ****             motor1 = (*(group->motor_torq[0]));
 2061              		.loc 1 476 13 is_stmt 1 view .LVU646
 477:control-base/devices/src/dji_motor.c ****             data[0] = motor1 >> 8;
 2062              		.loc 1 477 13 view .LVU647
 477:control-base/devices/src/dji_motor.c ****             data[0] = motor1 >> 8;
 2063              		.loc 1 477 42 is_stmt 0 view .LVU648
 2064 002a 9868     		ldr	r0, [r3, #8]
 477:control-base/devices/src/dji_motor.c ****             data[0] = motor1 >> 8;
 2065              		.loc 1 477 23 view .LVU649
 2066 002c B0F90000 		ldrsh	r0, [r0]
 477:control-base/devices/src/dji_motor.c ****             data[0] = motor1 >> 8;
 2067              		.loc 1 477 20 view .LVU650
 2068 0030 164D     		ldr	r5, .L193+8
 2069 0032 2880     		strh	r0, [r5]	@ movhi
 478:control-base/devices/src/dji_motor.c ****             data[1] = motor1;
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 57


 2070              		.loc 1 478 13 is_stmt 1 view .LVU651
 478:control-base/devices/src/dji_motor.c ****             data[1] = motor1;
 2071              		.loc 1 478 21 is_stmt 0 view .LVU652
 2072 0034 0512     		asrs	r5, r0, #8
 2073 0036 8D72     		strb	r5, [r1, #10]
 479:control-base/devices/src/dji_motor.c ****         }
 2074              		.loc 1 479 13 is_stmt 1 view .LVU653
 479:control-base/devices/src/dji_motor.c ****         }
 2075              		.loc 1 479 21 is_stmt 0 view .LVU654
 2076 0038 C872     		strb	r0, [r1, #11]
 2077              	.L186:
 2078              	.LBE14:
 481:control-base/devices/src/dji_motor.c ****         {
 2079              		.loc 1 481 9 is_stmt 1 view .LVU655
 481:control-base/devices/src/dji_motor.c ****         {
 2080              		.loc 1 481 12 is_stmt 0 view .LVU656
 2081 003a 12F0020F 		tst	r2, #2
 2082 003e 07D0     		beq	.L187
 2083              	.LBB15:
 483:control-base/devices/src/dji_motor.c ****             motor2 = (*(group->motor_torq[1]));
 2084              		.loc 1 483 13 is_stmt 1 view .LVU657
 484:control-base/devices/src/dji_motor.c ****             data[2] = motor2 >> 8;
 2085              		.loc 1 484 13 view .LVU658
 484:control-base/devices/src/dji_motor.c ****             data[2] = motor2 >> 8;
 2086              		.loc 1 484 42 is_stmt 0 view .LVU659
 2087 0040 D868     		ldr	r0, [r3, #12]
 484:control-base/devices/src/dji_motor.c ****             data[2] = motor2 >> 8;
 2088              		.loc 1 484 23 view .LVU660
 2089 0042 B0F90000 		ldrsh	r0, [r0]
 484:control-base/devices/src/dji_motor.c ****             data[2] = motor2 >> 8;
 2090              		.loc 1 484 20 view .LVU661
 2091 0046 124D     		ldr	r5, .L193+12
 2092 0048 2880     		strh	r0, [r5]	@ movhi
 485:control-base/devices/src/dji_motor.c ****             data[3] = motor2;
 2093              		.loc 1 485 13 is_stmt 1 view .LVU662
 485:control-base/devices/src/dji_motor.c ****             data[3] = motor2;
 2094              		.loc 1 485 21 is_stmt 0 view .LVU663
 2095 004a 0512     		asrs	r5, r0, #8
 2096 004c 0D73     		strb	r5, [r1, #12]
 486:control-base/devices/src/dji_motor.c ****         }
 2097              		.loc 1 486 13 is_stmt 1 view .LVU664
 486:control-base/devices/src/dji_motor.c ****         }
 2098              		.loc 1 486 21 is_stmt 0 view .LVU665
 2099 004e 4873     		strb	r0, [r1, #13]
 2100              	.L187:
 486:control-base/devices/src/dji_motor.c ****         }
 2101              		.loc 1 486 21 view .LVU666
 2102              	.LBE15:
 488:control-base/devices/src/dji_motor.c ****         {
 2103              		.loc 1 488 9 is_stmt 1 view .LVU667
 488:control-base/devices/src/dji_motor.c ****         {
 2104              		.loc 1 488 12 is_stmt 0 view .LVU668
 2105 0050 12F0040F 		tst	r2, #4
 2106 0054 09D0     		beq	.L188
 2107              	.LBB16:
 490:control-base/devices/src/dji_motor.c ****             motor3 = (*(group->motor_torq[2]));
 2108              		.loc 1 490 13 is_stmt 1 view .LVU669
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 58


 491:control-base/devices/src/dji_motor.c ****             data[4] = motor3 >> 8;
 2109              		.loc 1 491 13 view .LVU670
 491:control-base/devices/src/dji_motor.c ****             data[4] = motor3 >> 8;
 2110              		.loc 1 491 42 is_stmt 0 view .LVU671
 2111 0056 1869     		ldr	r0, [r3, #16]
 491:control-base/devices/src/dji_motor.c ****             data[4] = motor3 >> 8;
 2112              		.loc 1 491 23 view .LVU672
 2113 0058 B0F90000 		ldrsh	r0, [r0]
 491:control-base/devices/src/dji_motor.c ****             data[4] = motor3 >> 8;
 2114              		.loc 1 491 20 view .LVU673
 2115 005c 0D4D     		ldr	r5, .L193+16
 2116 005e 2880     		strh	r0, [r5]	@ movhi
 492:control-base/devices/src/dji_motor.c ****             data[5] = motor3;
 2117              		.loc 1 492 13 is_stmt 1 view .LVU674
 492:control-base/devices/src/dji_motor.c ****             data[5] = motor3;
 2118              		.loc 1 492 21 is_stmt 0 view .LVU675
 2119 0060 4FEA202C 		asr	ip, r0, #8
 2120 0064 81F80EC0 		strb	ip, [r1, #14]
 493:control-base/devices/src/dji_motor.c ****         }
 2121              		.loc 1 493 13 is_stmt 1 view .LVU676
 493:control-base/devices/src/dji_motor.c ****         }
 2122              		.loc 1 493 21 is_stmt 0 view .LVU677
 2123 0068 C873     		strb	r0, [r1, #15]
 2124              	.L188:
 493:control-base/devices/src/dji_motor.c ****         }
 2125              		.loc 1 493 21 view .LVU678
 2126              	.LBE16:
 495:control-base/devices/src/dji_motor.c ****         {
 2127              		.loc 1 495 9 is_stmt 1 view .LVU679
 495:control-base/devices/src/dji_motor.c ****         {
 2128              		.loc 1 495 12 is_stmt 0 view .LVU680
 2129 006a 12F0080F 		tst	r2, #8
 2130 006e CCD0     		beq	.L189
 2131              	.LBB17:
 497:control-base/devices/src/dji_motor.c ****             motor4 = (*(group->motor_torq[3]));
 2132              		.loc 1 497 13 is_stmt 1 view .LVU681
 498:control-base/devices/src/dji_motor.c ****             data[6] = motor4 >> 8;
 2133              		.loc 1 498 13 view .LVU682
 498:control-base/devices/src/dji_motor.c ****             data[6] = motor4 >> 8;
 2134              		.loc 1 498 42 is_stmt 0 view .LVU683
 2135 0070 5A69     		ldr	r2, [r3, #20]
 2136              	.LVL166:
 498:control-base/devices/src/dji_motor.c ****             data[6] = motor4 >> 8;
 2137              		.loc 1 498 23 view .LVU684
 2138 0072 B2F90020 		ldrsh	r2, [r2]
 498:control-base/devices/src/dji_motor.c ****             data[6] = motor4 >> 8;
 2139              		.loc 1 498 20 view .LVU685
 2140 0076 0848     		ldr	r0, .L193+20
 2141 0078 0280     		strh	r2, [r0]	@ movhi
 499:control-base/devices/src/dji_motor.c ****             data[7] = motor4;
 2142              		.loc 1 499 13 is_stmt 1 view .LVU686
 499:control-base/devices/src/dji_motor.c ****             data[7] = motor4;
 2143              		.loc 1 499 21 is_stmt 0 view .LVU687
 2144 007a 1012     		asrs	r0, r2, #8
 2145 007c 0874     		strb	r0, [r1, #16]
 500:control-base/devices/src/dji_motor.c ****         }
 2146              		.loc 1 500 13 is_stmt 1 view .LVU688
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 59


 500:control-base/devices/src/dji_motor.c ****         }
 2147              		.loc 1 500 21 is_stmt 0 view .LVU689
 2148 007e 4A74     		strb	r2, [r1, #17]
 2149 0080 C3E7     		b	.L189
 2150              	.LVL167:
 2151              	.L192:
 500:control-base/devices/src/dji_motor.c ****         }
 2152              		.loc 1 500 21 view .LVU690
 2153              	.LBE17:
 2154              	.LBE18:
 2155              	.LBE12:
 507:control-base/devices/src/dji_motor.c **** 
 2156              		.loc 1 507 1 view .LVU691
 2157 0082 38BD     		pop	{r3, r4, r5, pc}
 2158              	.LVL168:
 2159              	.L194:
 507:control-base/devices/src/dji_motor.c **** 
 2160              		.loc 1 507 1 view .LVU692
 2161              		.align	2
 2162              	.L193:
 2163 0084 00000000 		.word	g_dji_motor_group_count
 2164 0088 00000000 		.word	g_dji_send_group
 2165 008c 00000000 		.word	motor1.3
 2166 0090 00000000 		.word	motor2.2
 2167 0094 00000000 		.word	motor3.1
 2168 0098 00000000 		.word	motor4.0
 2169              		.cfi_endproc
 2170              	.LFE153:
 2172              		.section	.text.DJI_Motor_Disable_All,"ax",%progbits
 2173              		.align	1
 2174              		.global	DJI_Motor_Disable_All
 2175              		.syntax unified
 2176              		.thumb
 2177              		.thumb_func
 2179              	DJI_Motor_Disable_All:
 2180              	.LFB155:
 554:control-base/devices/src/dji_motor.c **** 
 555:control-base/devices/src/dji_motor.c **** void DJI_Motor_Disable_All()
 556:control-base/devices/src/dji_motor.c **** {
 2181              		.loc 1 556 1 is_stmt 1 view -0
 2182              		.cfi_startproc
 2183              		@ args = 0, pretend = 0, frame = 0
 2184              		@ frame_needed = 0, uses_anonymous_args = 0
 2185 0000 10B5     		push	{r4, lr}
 2186              	.LCFI7:
 2187              		.cfi_def_cfa_offset 8
 2188              		.cfi_offset 4, -8
 2189              		.cfi_offset 14, -4
 557:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 2190              		.loc 1 557 5 view .LVU694
 2191              	.LBB19:
 2192              		.loc 1 557 10 view .LVU695
 2193              	.LVL169:
 2194              		.loc 1 557 14 is_stmt 0 view .LVU696
 2195 0002 0024     		movs	r4, #0
 2196              		.loc 1 557 5 view .LVU697
 2197 0004 00E0     		b	.L196
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 60


 2198              	.LVL170:
 2199              	.L197:
 2200              		.loc 1 557 45 is_stmt 1 discriminator 2 view .LVU698
 2201 0006 0134     		adds	r4, r4, #1
 2202              	.LVL171:
 2203              	.L196:
 2204              		.loc 1 557 23 discriminator 1 view .LVU699
 2205 0008 064B     		ldr	r3, .L201
 2206 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2207 000c A342     		cmp	r3, r4
 2208 000e 07DD     		ble	.L200
 558:control-base/devices/src/dji_motor.c ****     {
 559:control-base/devices/src/dji_motor.c ****         if (g_dji_motors[i] == NULL)
 2209              		.loc 1 559 9 view .LVU700
 2210              		.loc 1 559 25 is_stmt 0 view .LVU701
 2211 0010 054B     		ldr	r3, .L201+4
 2212 0012 53F82400 		ldr	r0, [r3, r4, lsl #2]
 2213              		.loc 1 559 12 view .LVU702
 2214 0016 0028     		cmp	r0, #0
 2215 0018 F5D0     		beq	.L197
 560:control-base/devices/src/dji_motor.c ****         {
 561:control-base/devices/src/dji_motor.c ****             continue;
 562:control-base/devices/src/dji_motor.c ****         }
 563:control-base/devices/src/dji_motor.c ****         DJI_Motor_Disable(g_dji_motors[i]);
 2216              		.loc 1 563 9 is_stmt 1 view .LVU703
 2217 001a FFF7FEFF 		bl	DJI_Motor_Disable
 2218              	.LVL172:
 2219 001e F2E7     		b	.L197
 2220              	.L200:
 2221              	.LBE19:
 564:control-base/devices/src/dji_motor.c ****     }
 565:control-base/devices/src/dji_motor.c **** }
 2222              		.loc 1 565 1 is_stmt 0 view .LVU704
 2223 0020 10BD     		pop	{r4, pc}
 2224              	.LVL173:
 2225              	.L202:
 2226              		.loc 1 565 1 view .LVU705
 2227 0022 00BF     		.align	2
 2228              	.L201:
 2229 0024 00000000 		.word	g_dji_motor_count
 2230 0028 00000000 		.word	g_dji_motors
 2231              		.cfi_endproc
 2232              	.LFE155:
 2234              		.section	.text.DJI_Motor_Enable_All,"ax",%progbits
 2235              		.align	1
 2236              		.global	DJI_Motor_Enable_All
 2237              		.syntax unified
 2238              		.thumb
 2239              		.thumb_func
 2241              	DJI_Motor_Enable_All:
 2242              	.LFB156:
 566:control-base/devices/src/dji_motor.c **** 
 567:control-base/devices/src/dji_motor.c **** void DJI_Motor_Enable_All()
 568:control-base/devices/src/dji_motor.c **** {
 2243              		.loc 1 568 1 is_stmt 1 view -0
 2244              		.cfi_startproc
 2245              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 61


 2246              		@ frame_needed = 0, uses_anonymous_args = 0
 2247              		@ link register save eliminated.
 569:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 2248              		.loc 1 569 5 view .LVU707
 2249              	.LBB20:
 2250              		.loc 1 569 10 view .LVU708
 2251              	.LVL174:
 2252              		.loc 1 569 14 is_stmt 0 view .LVU709
 2253 0000 0023     		movs	r3, #0
 2254              		.loc 1 569 5 view .LVU710
 2255 0002 05E0     		b	.L204
 2256              	.LVL175:
 2257              	.L205:
 570:control-base/devices/src/dji_motor.c ****     {
 571:control-base/devices/src/dji_motor.c ****         // set the motor state to enabled
 572:control-base/devices/src/dji_motor.c ****         g_dji_motors[i]->disabled = 0;
 2258              		.loc 1 572 9 is_stmt 1 view .LVU711
 2259              		.loc 1 572 21 is_stmt 0 view .LVU712
 2260 0004 054A     		ldr	r2, .L206
 2261 0006 52F82320 		ldr	r2, [r2, r3, lsl #2]
 2262              		.loc 1 572 35 view .LVU713
 2263 000a 0021     		movs	r1, #0
 2264 000c 9171     		strb	r1, [r2, #6]
 569:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 2265              		.loc 1 569 45 is_stmt 1 discriminator 3 view .LVU714
 2266 000e 0133     		adds	r3, r3, #1
 2267              	.LVL176:
 2268              	.L204:
 569:control-base/devices/src/dji_motor.c ****     for (int i = 0; i < g_dji_motor_count; i++)
 2269              		.loc 1 569 23 discriminator 1 view .LVU715
 2270 0010 034A     		ldr	r2, .L206+4
 2271 0012 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2272 0014 9A42     		cmp	r2, r3
 2273 0016 F5DC     		bgt	.L205
 2274              	.LBE20:
 573:control-base/devices/src/dji_motor.c ****     }
 574:control-base/devices/src/dji_motor.c **** }
 2275              		.loc 1 574 1 is_stmt 0 view .LVU716
 2276 0018 7047     		bx	lr
 2277              	.L207:
 2278 001a 00BF     		.align	2
 2279              	.L206:
 2280 001c 00000000 		.word	g_dji_motors
 2281 0020 00000000 		.word	g_dji_motor_count
 2282              		.cfi_endproc
 2283              	.LFE156:
 2285              		.section	.text.DJI_Motor_Is_At_Angle,"ax",%progbits
 2286              		.align	1
 2287              		.global	DJI_Motor_Is_At_Angle
 2288              		.syntax unified
 2289              		.thumb
 2290              		.thumb_func
 2292              	DJI_Motor_Is_At_Angle:
 2293              	.LVL177:
 2294              	.LFB157:
 575:control-base/devices/src/dji_motor.c **** 
 576:control-base/devices/src/dji_motor.c **** uint8_t DJI_Motor_Is_At_Angle(DJI_Motor_Handle_t *motor_handle, float tolerance) {
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 62


 2295              		.loc 1 576 82 is_stmt 1 view -0
 2296              		.cfi_startproc
 2297              		@ args = 0, pretend = 0, frame = 0
 2298              		@ frame_needed = 0, uses_anonymous_args = 0
 2299              		@ link register save eliminated.
 577:control-base/devices/src/dji_motor.c ****     if (fabsf(motor_handle->angle_pid->prev_error) < tolerance) {
 2300              		.loc 1 577 5 view .LVU718
 2301              		.loc 1 577 27 is_stmt 0 view .LVU719
 2302 0000 8369     		ldr	r3, [r0, #24]
 2303              		.loc 1 577 38 view .LVU720
 2304 0002 D3ED0B7A 		vldr.32	s15, [r3, #44]
 2305              		.loc 1 577 9 view .LVU721
 2306 0006 F0EEE77A 		vabs.f32	s15, s15
 2307              		.loc 1 577 8 view .LVU722
 2308 000a F4EEC07A 		vcmpe.f32	s15, s0
 2309 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2310 0012 01D5     		bpl	.L213
 578:control-base/devices/src/dji_motor.c ****         return 1;
 2311              		.loc 1 578 16 view .LVU723
 2312 0014 0120     		movs	r0, #1
 2313              	.LVL178:
 2314              		.loc 1 578 16 view .LVU724
 2315 0016 7047     		bx	lr
 2316              	.LVL179:
 2317              	.L213:
 579:control-base/devices/src/dji_motor.c ****     } else {
 580:control-base/devices/src/dji_motor.c ****         return 0;
 2318              		.loc 1 580 16 view .LVU725
 2319 0018 0020     		movs	r0, #0
 2320              	.LVL180:
 581:control-base/devices/src/dji_motor.c ****     }
 582:control-base/devices/src/dji_motor.c **** }
 2321              		.loc 1 582 1 view .LVU726
 2322 001a 7047     		bx	lr
 2323              		.cfi_endproc
 2324              	.LFE157:
 2326              		.section	.text.DJI_Motor_Is_At_Velocity,"ax",%progbits
 2327              		.align	1
 2328              		.global	DJI_Motor_Is_At_Velocity
 2329              		.syntax unified
 2330              		.thumb
 2331              		.thumb_func
 2333              	DJI_Motor_Is_At_Velocity:
 2334              	.LVL181:
 2335              	.LFB158:
 583:control-base/devices/src/dji_motor.c **** 
 584:control-base/devices/src/dji_motor.c **** uint8_t DJI_Motor_Is_At_Velocity(DJI_Motor_Handle_t *motor_handle, float tolerance) {
 2336              		.loc 1 584 85 is_stmt 1 view -0
 2337              		.cfi_startproc
 2338              		@ args = 0, pretend = 0, frame = 0
 2339              		@ frame_needed = 0, uses_anonymous_args = 0
 2340              		@ link register save eliminated.
 585:control-base/devices/src/dji_motor.c ****     if (fabsf(motor_handle->velocity_pid->prev_error) < tolerance)
 2341              		.loc 1 585 5 view .LVU728
 2342              		.loc 1 585 27 is_stmt 0 view .LVU729
 2343 0000 C369     		ldr	r3, [r0, #28]
 2344              		.loc 1 585 41 view .LVU730
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 63


 2345 0002 D3ED0B7A 		vldr.32	s15, [r3, #44]
 2346              		.loc 1 585 9 view .LVU731
 2347 0006 F0EEE77A 		vabs.f32	s15, s15
 2348              		.loc 1 585 8 view .LVU732
 2349 000a F4EEC07A 		vcmpe.f32	s15, s0
 2350 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2351 0012 01D5     		bpl	.L219
 586:control-base/devices/src/dji_motor.c ****     {
 587:control-base/devices/src/dji_motor.c ****         return 1;
 2352              		.loc 1 587 16 view .LVU733
 2353 0014 0120     		movs	r0, #1
 2354              	.LVL182:
 2355              		.loc 1 587 16 view .LVU734
 2356 0016 7047     		bx	lr
 2357              	.LVL183:
 2358              	.L219:
 588:control-base/devices/src/dji_motor.c ****     } else {
 589:control-base/devices/src/dji_motor.c ****         return 0;
 2359              		.loc 1 589 16 view .LVU735
 2360 0018 0020     		movs	r0, #0
 2361              	.LVL184:
 590:control-base/devices/src/dji_motor.c ****     }
 591:control-base/devices/src/dji_motor.c **** }
 2362              		.loc 1 591 1 view .LVU736
 2363 001a 7047     		bx	lr
 2364              		.cfi_endproc
 2365              	.LFE158:
 2367              		.section	.text.DJI_Motor_Is_At_Torque,"ax",%progbits
 2368              		.align	1
 2369              		.global	DJI_Motor_Is_At_Torque
 2370              		.syntax unified
 2371              		.thumb
 2372              		.thumb_func
 2374              	DJI_Motor_Is_At_Torque:
 2375              	.LVL185:
 2376              	.LFB159:
 592:control-base/devices/src/dji_motor.c **** 
 593:control-base/devices/src/dji_motor.c **** uint8_t DJI_Motor_Is_At_Torque(DJI_Motor_Handle_t *motor_handle, float tolerance) {
 2377              		.loc 1 593 83 is_stmt 1 view -0
 2378              		.cfi_startproc
 2379              		@ args = 0, pretend = 0, frame = 0
 2380              		@ frame_needed = 0, uses_anonymous_args = 0
 2381              		@ link register save eliminated.
 594:control-base/devices/src/dji_motor.c ****     if (fabsf(motor_handle->torque_pid->prev_error) < tolerance) {
 2382              		.loc 1 594 5 view .LVU738
 2383              		.loc 1 594 27 is_stmt 0 view .LVU739
 2384 0000 036A     		ldr	r3, [r0, #32]
 2385              		.loc 1 594 39 view .LVU740
 2386 0002 D3ED0B7A 		vldr.32	s15, [r3, #44]
 2387              		.loc 1 594 9 view .LVU741
 2388 0006 F0EEE77A 		vabs.f32	s15, s15
 2389              		.loc 1 594 8 view .LVU742
 2390 000a F4EEC07A 		vcmpe.f32	s15, s0
 2391 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2392 0012 01D5     		bpl	.L225
 595:control-base/devices/src/dji_motor.c ****         return 1;
 2393              		.loc 1 595 16 view .LVU743
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 64


 2394 0014 0120     		movs	r0, #1
 2395              	.LVL186:
 2396              		.loc 1 595 16 view .LVU744
 2397 0016 7047     		bx	lr
 2398              	.LVL187:
 2399              	.L225:
 596:control-base/devices/src/dji_motor.c ****     } else {
 597:control-base/devices/src/dji_motor.c ****         return 0;
 2400              		.loc 1 597 16 view .LVU745
 2401 0018 0020     		movs	r0, #0
 2402              	.LVL188:
 598:control-base/devices/src/dji_motor.c ****     }
 599:control-base/devices/src/dji_motor.c **** }
 2403              		.loc 1 599 1 view .LVU746
 2404 001a 7047     		bx	lr
 2405              		.cfi_endproc
 2406              	.LFE159:
 2408              		.section	.bss.motor4.0,"aw",%nobits
 2409              		.align	1
 2412              	motor4.0:
 2413 0000 0000     		.space	2
 2414              		.section	.bss.motor3.1,"aw",%nobits
 2415              		.align	1
 2418              	motor3.1:
 2419 0000 0000     		.space	2
 2420              		.section	.bss.motor2.2,"aw",%nobits
 2421              		.align	1
 2424              	motor2.2:
 2425 0000 0000     		.space	2
 2426              		.section	.bss.motor1.3,"aw",%nobits
 2427              		.align	1
 2430              	motor1.3:
 2431 0000 0000     		.space	2
 2432              		.global	g_dji_motor_group_count
 2433              		.section	.bss.g_dji_motor_group_count,"aw",%nobits
 2436              	g_dji_motor_group_count:
 2437 0000 00       		.space	1
 2438              		.global	g_dji_send_group
 2439              		.section	.bss.g_dji_send_group,"aw",%nobits
 2440              		.align	2
 2443              	g_dji_send_group:
 2444 0000 00000000 		.space	24
 2444      00000000 
 2444      00000000 
 2444      00000000 
 2444      00000000 
 2445              		.global	test_tmd
 2446              		.section	.bss.test_tmd,"aw",%nobits
 2447              		.align	2
 2450              	test_tmd:
 2451 0000 00000000 		.space	4
 2452              		.global	g_dji_motor_count
 2453              		.section	.bss.g_dji_motor_count,"aw",%nobits
 2456              	g_dji_motor_count:
 2457 0000 00       		.space	1
 2458              		.global	g_dji_motors
 2459              		.section	.bss.g_dji_motors,"aw",%nobits
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 65


 2460              		.align	2
 2463              	g_dji_motors:
 2464 0000 00000000 		.space	64
 2464      00000000 
 2464      00000000 
 2464      00000000 
 2464      00000000 
 2465              		.text
 2466              	.Letext0:
 2467              		.file 2 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 2468              		.file 3 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 2469              		.file 4 "control-base/typec-board-base/Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 2470              		.file 5 "control-base/typec-board-base/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2471              		.file 6 "control-base/typec-board-base/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 2472              		.file 7 "control-base/bsp/inc/bsp_can.h"
 2473              		.file 8 "control-base/algo/inc/pid.h"
 2474              		.file 9 "control-base/devices/inc/motor.h"
 2475              		.file 10 "control-base/devices/inc/dji_motor.h"
 2476              		.file 11 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/string.h"
 2477              		.file 12 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/stdlib.h"
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 66


DEFINED SYMBOLS
                            *ABS*:00000000 dji_motor.c
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:21     .text.DJI_Motor_Decode:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:27     .text.DJI_Motor_Decode:00000000 DJI_Motor_Decode
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:203    .text.DJI_Motor_Decode:0000012c $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:214    .text.DJI_Motor_Assign_To_Group:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:220    .text.DJI_Motor_Assign_To_Group:00000000 DJI_Motor_Assign_To_Group
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:429    .text.DJI_Motor_Assign_To_Group:000000c8 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2436   .bss.g_dji_motor_group_count:00000000 g_dji_motor_group_count
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2443   .bss.g_dji_send_group:00000000 g_dji_send_group
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:435    .text.DJI_Motor_Init:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:441    .text.DJI_Motor_Init:00000000 DJI_Motor_Init
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:587    .text.DJI_Motor_Init:00000076 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:592    .text.DJI_Motor_Init:0000007a $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:910    .text.DJI_Motor_Init:00000238 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2456   .bss.g_dji_motor_count:00000000 g_dji_motor_count
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2463   .bss.g_dji_motors:00000000 g_dji_motors
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:920    .text.DJI_Motor_Get_Absolute_Angle:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:926    .text.DJI_Motor_Get_Absolute_Angle:00000000 DJI_Motor_Get_Absolute_Angle
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:965    .text.DJI_Motor_Get_Absolute_Angle:00000028 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:970    .text.DJI_Motor_Get_Total_Angle:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:976    .text.DJI_Motor_Get_Total_Angle:00000000 DJI_Motor_Get_Total_Angle
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1015   .text.DJI_Motor_Get_Velocity:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1021   .text.DJI_Motor_Get_Velocity:00000000 DJI_Motor_Get_Velocity
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1060   .text.DJI_Motor_Set_Angle:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1066   .text.DJI_Motor_Set_Angle:00000000 DJI_Motor_Set_Angle
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1109   .text.DJI_Motor_Set_Angle:00000028 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1114   .text.DJI_Motor_Set_Velocity:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1120   .text.DJI_Motor_Set_Velocity:00000000 DJI_Motor_Set_Velocity
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1164   .text.DJI_Motor_Set_Torque:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1170   .text.DJI_Motor_Set_Torque:00000000 DJI_Motor_Set_Torque
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1199   .text.DJI_Motor_Set_Torque:00000014 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1203   .text.DJI_Motor_Set_Torque:00000018 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1440   .text.DJI_Motor_Set_Torque:000001a8 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1455   .text.DJI_Motor_Set_Control_Mode:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1461   .text.DJI_Motor_Set_Control_Mode:00000000 DJI_Motor_Set_Control_Mode
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1478   .text.DJI_Motor_Disable:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1484   .text.DJI_Motor_Disable:00000000 DJI_Motor_Disable
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1502   .text.DJI_Motor_Current_Calc:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1508   .text.DJI_Motor_Current_Calc:00000000 DJI_Motor_Current_Calc
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1633   .text.DJI_Motor_Current_Calc:00000078 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1664   .text.DJI_Motor_Current_Calc:000000f4 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1984   .text.DJI_Motor_Current_Calc:00000298 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:1994   .text.DJI_Motor_Send:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2000   .text.DJI_Motor_Send:00000000 DJI_Motor_Send
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2163   .text.DJI_Motor_Send:00000084 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2430   .bss.motor1.3:00000000 motor1.3
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2424   .bss.motor2.2:00000000 motor2.2
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2418   .bss.motor3.1:00000000 motor3.1
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2412   .bss.motor4.0:00000000 motor4.0
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2173   .text.DJI_Motor_Disable_All:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2179   .text.DJI_Motor_Disable_All:00000000 DJI_Motor_Disable_All
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2229   .text.DJI_Motor_Disable_All:00000024 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2235   .text.DJI_Motor_Enable_All:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2241   .text.DJI_Motor_Enable_All:00000000 DJI_Motor_Enable_All
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2280   .text.DJI_Motor_Enable_All:0000001c $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2286   .text.DJI_Motor_Is_At_Angle:00000000 $t
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s 			page 67


/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2292   .text.DJI_Motor_Is_At_Angle:00000000 DJI_Motor_Is_At_Angle
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2327   .text.DJI_Motor_Is_At_Velocity:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2333   .text.DJI_Motor_Is_At_Velocity:00000000 DJI_Motor_Is_At_Velocity
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2368   .text.DJI_Motor_Is_At_Torque:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2374   .text.DJI_Motor_Is_At_Torque:00000000 DJI_Motor_Is_At_Torque
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2409   .bss.motor4.0:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2415   .bss.motor3.1:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2421   .bss.motor2.2:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2427   .bss.motor1.3:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2437   .bss.g_dji_motor_group_count:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2440   .bss.g_dji_send_group:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2450   .bss.test_tmd:00000000 test_tmd
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2447   .bss.test_tmd:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2457   .bss.g_dji_motor_count:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//cco1TItV.s:2460   .bss.g_dji_motors:00000000 $d

UNDEFINED SYMBOLS
malloc
calloc
CAN_Device_Register
__aeabi_f2d
__aeabi_ddiv
__aeabi_d2f
PID
CAN_Transmit
