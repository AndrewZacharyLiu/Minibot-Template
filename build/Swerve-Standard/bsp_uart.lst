ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_uart.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "control-base/bsp/src/bsp_uart.c"
  20              		.section	.text.UART_Service_Init,"ax",%progbits
  21              		.align	1
  22              		.global	UART_Service_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	UART_Service_Init:
  28              	.LVL0:
  29              	.LFB134:
   1:control-base/bsp/src/bsp_uart.c **** #include "bsp_uart.h"
   2:control-base/bsp/src/bsp_uart.c **** 
   3:control-base/bsp/src/bsp_uart.c **** #include <stdlib.h>
   4:control-base/bsp/src/bsp_uart.c **** #include "memory.h"
   5:control-base/bsp/src/bsp_uart.c **** 
   6:control-base/bsp/src/bsp_uart.c **** #define UART_INSTANCE_MAX 3
   7:control-base/bsp/src/bsp_uart.c **** UART_Instance_t *g_uart_insatnces[UART_INSTANCE_MAX];
   8:control-base/bsp/src/bsp_uart.c **** uint8_t g_uart_instance_count = 0;
   9:control-base/bsp/src/bsp_uart.c **** 
  10:control-base/bsp/src/bsp_uart.c **** /**
  11:control-base/bsp/src/bsp_uart.c ****  * @brief Initialize UART service
  12:control-base/bsp/src/bsp_uart.c ****  * 
  13:control-base/bsp/src/bsp_uart.c ****  * @param uart_insatce yes this is a typo, should be uart_instance
  14:control-base/bsp/src/bsp_uart.c ****  * 
  15:control-base/bsp/src/bsp_uart.c ****  * @note enable uart receive calling HAL_UARTEx_ReceiveToIdle_DMA. This
  16:control-base/bsp/src/bsp_uart.c ****  * function will enable uart receive with DMA. There are three interrupts
  17:control-base/bsp/src/bsp_uart.c ****  * that can be enabled: DMA_IT_TC (DMA transfer complete), DMA_IT_HT (DMA
  18:control-base/bsp/src/bsp_uart.c ****  * Half Complete), UART_IDLE (UART Idle).
  19:control-base/bsp/src/bsp_uart.c ****  * 
  20:control-base/bsp/src/bsp_uart.c ****  * DMA_IT_TC is triggered when the DMA transfer is complete.
  21:control-base/bsp/src/bsp_uart.c ****  * DMA_IT_HT is triggered when half of the buffer is filled.
  22:control-base/bsp/src/bsp_uart.c ****  * UART_IDLE is triggered when the UART is idle for a period of time, typically
  23:control-base/bsp/src/bsp_uart.c ****  * 1 byte time.
  24:control-base/bsp/src/bsp_uart.c ****  * 
  25:control-base/bsp/src/bsp_uart.c ****  * Here we only care about the UART_IDLE interrupt, and DMA_IT_TC interrupt.
  26:control-base/bsp/src/bsp_uart.c ****  * Therefore we disable the DMA_IT_HT interrupt by calling __HAL_DMA_DISABLE_IT. 
  27:control-base/bsp/src/bsp_uart.c **** */
  28:control-base/bsp/src/bsp_uart.c **** void UART_Service_Init(UART_Instance_t *uart_insatce)
  29:control-base/bsp/src/bsp_uart.c **** {
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 2


  30              		.loc 1 29 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 29 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 0446     		mov	r4, r0
  30:control-base/bsp/src/bsp_uart.c ****     // enable uart receive
  31:control-base/bsp/src/bsp_uart.c ****     HAL_UARTEx_ReceiveToIdle_DMA(uart_insatce->uart_handle, uart_insatce->rx_buffer, uart_insatce->
  41              		.loc 1 31 5 is_stmt 1 view .LVU2
  42 0004 0289     		ldrh	r2, [r0, #8]
  43 0006 4168     		ldr	r1, [r0, #4]
  44 0008 0068     		ldr	r0, [r0]
  45              	.LVL1:
  46              		.loc 1 31 5 is_stmt 0 view .LVU3
  47 000a FFF7FEFF 		bl	HAL_UARTEx_ReceiveToIdle_DMA
  48              	.LVL2:
  32:control-base/bsp/src/bsp_uart.c ****     // disable half transfer interrupt
  33:control-base/bsp/src/bsp_uart.c ****     __HAL_DMA_DISABLE_IT(uart_insatce->uart_handle->hdmarx, DMA_IT_HT); // disable half transfer in
  49              		.loc 1 33 5 is_stmt 1 view .LVU4
  50 000e 2368     		ldr	r3, [r4]
  51 0010 DB6B     		ldr	r3, [r3, #60]
  52 0012 1A68     		ldr	r2, [r3]
  53 0014 1368     		ldr	r3, [r2]
  54 0016 23F00803 		bic	r3, r3, #8
  55 001a 1360     		str	r3, [r2]
  34:control-base/bsp/src/bsp_uart.c **** }
  56              		.loc 1 34 1 is_stmt 0 view .LVU5
  57 001c 10BD     		pop	{r4, pc}
  58              		.loc 1 34 1 view .LVU6
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.UART_Register,"ax",%progbits
  63              		.align	1
  64              		.global	UART_Register
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  69              	UART_Register:
  70              	.LVL3:
  71              	.LFB135:
  35:control-base/bsp/src/bsp_uart.c **** 
  36:control-base/bsp/src/bsp_uart.c **** /**
  37:control-base/bsp/src/bsp_uart.c ****  * @brief Register UART instance
  38:control-base/bsp/src/bsp_uart.c ****  * 
  39:control-base/bsp/src/bsp_uart.c ****  * @param huart UART handle
  40:control-base/bsp/src/bsp_uart.c ****  * @param rx_buffer buffer to store received data
  41:control-base/bsp/src/bsp_uart.c ****  * @param rx_buffer_size size of the buffer
  42:control-base/bsp/src/bsp_uart.c ****  * @param callback callback function when UART receive is complete
  43:control-base/bsp/src/bsp_uart.c **** */
  44:control-base/bsp/src/bsp_uart.c **** UART_Instance_t *UART_Register(UART_HandleTypeDef *huart, uint8_t *rx_buffer, uint16_t rx_buffer_si
  45:control-base/bsp/src/bsp_uart.c **** {
  72              		.loc 1 45 1 is_stmt 1 view -0
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 3


  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		.loc 1 45 1 is_stmt 0 view .LVU8
  77 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  78              	.LCFI1:
  79              		.cfi_def_cfa_offset 24
  80              		.cfi_offset 4, -24
  81              		.cfi_offset 5, -20
  82              		.cfi_offset 6, -16
  83              		.cfi_offset 7, -12
  84              		.cfi_offset 8, -8
  85              		.cfi_offset 14, -4
  86 0004 8046     		mov	r8, r0
  87 0006 0F46     		mov	r7, r1
  88 0008 1646     		mov	r6, r2
  89 000a 1D46     		mov	r5, r3
  46:control-base/bsp/src/bsp_uart.c ****     UART_Instance_t *uart_instance = (UART_Instance_t *)malloc(sizeof(UART_Instance_t));
  90              		.loc 1 46 5 is_stmt 1 view .LVU9
  91              		.loc 1 46 57 is_stmt 0 view .LVU10
  92 000c 1020     		movs	r0, #16
  93              	.LVL4:
  94              		.loc 1 46 57 view .LVU11
  95 000e FFF7FEFF 		bl	malloc
  96              	.LVL5:
  97              		.loc 1 46 57 view .LVU12
  98 0012 0446     		mov	r4, r0
  99              	.LVL6:
  47:control-base/bsp/src/bsp_uart.c ****     uart_instance->uart_handle = huart;
 100              		.loc 1 47 5 is_stmt 1 view .LVU13
 101              		.loc 1 47 32 is_stmt 0 view .LVU14
 102 0014 C0F80080 		str	r8, [r0]
  48:control-base/bsp/src/bsp_uart.c ****     uart_instance->rx_buffer = rx_buffer;
 103              		.loc 1 48 5 is_stmt 1 view .LVU15
 104              		.loc 1 48 30 is_stmt 0 view .LVU16
 105 0018 4760     		str	r7, [r0, #4]
  49:control-base/bsp/src/bsp_uart.c ****     uart_instance->rx_buffer_size = rx_buffer_size;
 106              		.loc 1 49 5 is_stmt 1 view .LVU17
 107              		.loc 1 49 35 is_stmt 0 view .LVU18
 108 001a 0681     		strh	r6, [r0, #8]	@ movhi
  50:control-base/bsp/src/bsp_uart.c ****     uart_instance->callback = callback;
 109              		.loc 1 50 5 is_stmt 1 view .LVU19
 110              		.loc 1 50 29 is_stmt 0 view .LVU20
 111 001c C560     		str	r5, [r0, #12]
  51:control-base/bsp/src/bsp_uart.c **** 
  52:control-base/bsp/src/bsp_uart.c ****     // initialize UART service
  53:control-base/bsp/src/bsp_uart.c ****     UART_Service_Init(uart_instance);
 112              		.loc 1 53 5 is_stmt 1 view .LVU21
 113 001e FFF7FEFF 		bl	UART_Service_Init
 114              	.LVL7:
  54:control-base/bsp/src/bsp_uart.c ****     
  55:control-base/bsp/src/bsp_uart.c ****     // store the instance, to iterate through all instances when iterrupt is triggered
  56:control-base/bsp/src/bsp_uart.c ****     g_uart_insatnces[g_uart_instance_count++] = uart_instance;
 115              		.loc 1 56 5 view .LVU22
 116              		.loc 1 56 43 is_stmt 0 view .LVU23
 117 0022 054A     		ldr	r2, .L5
 118 0024 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 4


 119 0026 591C     		adds	r1, r3, #1
 120 0028 1170     		strb	r1, [r2]
 121              		.loc 1 56 47 view .LVU24
 122 002a 044A     		ldr	r2, .L5+4
 123 002c 42F82340 		str	r4, [r2, r3, lsl #2]
  57:control-base/bsp/src/bsp_uart.c ****     return uart_instance;
 124              		.loc 1 57 5 is_stmt 1 view .LVU25
  58:control-base/bsp/src/bsp_uart.c **** }
 125              		.loc 1 58 1 is_stmt 0 view .LVU26
 126 0030 2046     		mov	r0, r4
 127 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 128              	.LVL8:
 129              	.L6:
 130              		.loc 1 58 1 view .LVU27
 131 0036 00BF     		.align	2
 132              	.L5:
 133 0038 00000000 		.word	g_uart_instance_count
 134 003c 00000000 		.word	g_uart_insatnces
 135              		.cfi_endproc
 136              	.LFE135:
 138              		.section	.text.UART_Transmit,"ax",%progbits
 139              		.align	1
 140              		.global	UART_Transmit
 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	UART_Transmit:
 146              	.LVL9:
 147              	.LFB136:
  59:control-base/bsp/src/bsp_uart.c **** 
  60:control-base/bsp/src/bsp_uart.c **** /**
  61:control-base/bsp/src/bsp_uart.c ****  * @brief Transmit based on send type
  62:control-base/bsp/src/bsp_uart.c ****  * 
  63:control-base/bsp/src/bsp_uart.c ****  * @param uart_instance
  64:control-base/bsp/src/bsp_uart.c ****  * @param tx_buffer
  65:control-base/bsp/src/bsp_uart.c ****  * @param tx_buffer_size
  66:control-base/bsp/src/bsp_uart.c ****  * @param send_type
  67:control-base/bsp/src/bsp_uart.c ****  *        - UART_BLOCKING: halt CPU until transmission is complete
  68:control-base/bsp/src/bsp_uart.c ****  *        - UART_IT: use interrupt to transmit data
  69:control-base/bsp/src/bsp_uart.c ****  *        - UART_DMA: use DMA to transmit data
  70:control-base/bsp/src/bsp_uart.c **** */
  71:control-base/bsp/src/bsp_uart.c **** HAL_StatusTypeDef UART_Transmit(UART_Instance_t *uart_instance, uint8_t *tx_buffer, uint16_t tx_buf
  72:control-base/bsp/src/bsp_uart.c **** {
 148              		.loc 1 72 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		.loc 1 72 1 is_stmt 0 view .LVU29
 153 0000 08B5     		push	{r3, lr}
 154              	.LCFI2:
 155              		.cfi_def_cfa_offset 8
 156              		.cfi_offset 3, -8
 157              		.cfi_offset 14, -4
  73:control-base/bsp/src/bsp_uart.c ****     switch (send_type)
 158              		.loc 1 73 5 is_stmt 1 view .LVU30
 159 0002 012B     		cmp	r3, #1
 160 0004 08D0     		beq	.L8
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 5


 161 0006 022B     		cmp	r3, #2
 162 0008 0AD0     		beq	.L9
 163 000a 6BB9     		cbnz	r3, .L11
  74:control-base/bsp/src/bsp_uart.c ****     {
  75:control-base/bsp/src/bsp_uart.c ****     case UART_BLOCKING:
  76:control-base/bsp/src/bsp_uart.c ****         return HAL_UART_Transmit(uart_instance->uart_handle, tx_buffer, tx_buffer_size, HAL_MAX_DEL
 164              		.loc 1 76 9 view .LVU31
 165              		.loc 1 76 16 is_stmt 0 view .LVU32
 166 000c 4FF0FF33 		mov	r3, #-1
 167              	.LVL10:
 168              		.loc 1 76 16 view .LVU33
 169 0010 0068     		ldr	r0, [r0]
 170              	.LVL11:
 171              		.loc 1 76 16 view .LVU34
 172 0012 FFF7FEFF 		bl	HAL_UART_Transmit
 173              	.LVL12:
 174              	.L10:
  77:control-base/bsp/src/bsp_uart.c ****         break;
  78:control-base/bsp/src/bsp_uart.c ****     case UART_IT:
  79:control-base/bsp/src/bsp_uart.c ****         return HAL_UART_Transmit_IT(uart_instance->uart_handle, tx_buffer, tx_buffer_size);
  80:control-base/bsp/src/bsp_uart.c ****         break;
  81:control-base/bsp/src/bsp_uart.c ****     case UART_DMA:
  82:control-base/bsp/src/bsp_uart.c ****         return HAL_UART_Transmit_DMA(uart_instance->uart_handle, tx_buffer, tx_buffer_size);
  83:control-base/bsp/src/bsp_uart.c ****         break;
  84:control-base/bsp/src/bsp_uart.c ****     default:
  85:control-base/bsp/src/bsp_uart.c ****         return HAL_ERROR;
  86:control-base/bsp/src/bsp_uart.c ****         break;
 175              		.loc 1 86 9 is_stmt 1 view .LVU35
  87:control-base/bsp/src/bsp_uart.c ****     }
  88:control-base/bsp/src/bsp_uart.c **** }
 176              		.loc 1 88 1 is_stmt 0 view .LVU36
 177 0016 08BD     		pop	{r3, pc}
 178              	.LVL13:
 179              	.L8:
  77:control-base/bsp/src/bsp_uart.c ****         break;
 180              		.loc 1 77 9 is_stmt 1 view .LVU37
  79:control-base/bsp/src/bsp_uart.c ****         break;
 181              		.loc 1 79 9 view .LVU38
  79:control-base/bsp/src/bsp_uart.c ****         break;
 182              		.loc 1 79 16 is_stmt 0 view .LVU39
 183 0018 0068     		ldr	r0, [r0]
 184              	.LVL14:
  79:control-base/bsp/src/bsp_uart.c ****         break;
 185              		.loc 1 79 16 view .LVU40
 186 001a FFF7FEFF 		bl	HAL_UART_Transmit_IT
 187              	.LVL15:
  79:control-base/bsp/src/bsp_uart.c ****         break;
 188              		.loc 1 79 16 view .LVU41
 189 001e FAE7     		b	.L10
 190              	.LVL16:
 191              	.L9:
  80:control-base/bsp/src/bsp_uart.c ****     case UART_DMA:
 192              		.loc 1 80 9 is_stmt 1 view .LVU42
  82:control-base/bsp/src/bsp_uart.c ****         break;
 193              		.loc 1 82 9 view .LVU43
  82:control-base/bsp/src/bsp_uart.c ****         break;
 194              		.loc 1 82 16 is_stmt 0 view .LVU44
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 6


 195 0020 0068     		ldr	r0, [r0]
 196              	.LVL17:
  82:control-base/bsp/src/bsp_uart.c ****         break;
 197              		.loc 1 82 16 view .LVU45
 198 0022 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 199              	.LVL18:
  82:control-base/bsp/src/bsp_uart.c ****         break;
 200              		.loc 1 82 16 view .LVU46
 201 0026 F6E7     		b	.L10
 202              	.LVL19:
 203              	.L11:
  73:control-base/bsp/src/bsp_uart.c ****     {
 204              		.loc 1 73 5 view .LVU47
 205 0028 0120     		movs	r0, #1
 206              	.LVL20:
  73:control-base/bsp/src/bsp_uart.c ****     {
 207              		.loc 1 73 5 view .LVU48
 208 002a F4E7     		b	.L10
 209              		.cfi_endproc
 210              	.LFE136:
 212              		.section	.text.HAL_UARTEx_RxEventCallback,"ax",%progbits
 213              		.align	1
 214              		.global	HAL_UARTEx_RxEventCallback
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 219              	HAL_UARTEx_RxEventCallback:
 220              	.LVL21:
 221              	.LFB137:
  89:control-base/bsp/src/bsp_uart.c **** 
  90:control-base/bsp/src/bsp_uart.c **** /**
  91:control-base/bsp/src/bsp_uart.c ****  * @brief UART receive callback
  92:control-base/bsp/src/bsp_uart.c ****  * 
  93:control-base/bsp/src/bsp_uart.c ****  * @param huart UART handle
  94:control-base/bsp/src/bsp_uart.c ****  * @param Size size of the received data
  95:control-base/bsp/src/bsp_uart.c ****  * 
  96:control-base/bsp/src/bsp_uart.c ****  * @note This function is called when the UART receive is complete. It will
  97:control-base/bsp/src/bsp_uart.c ****  * iterate through all registered UART instances, and call the callback function
  98:control-base/bsp/src/bsp_uart.c ****  * if the UART handle matches.
  99:control-base/bsp/src/bsp_uart.c **** */
 100:control-base/bsp/src/bsp_uart.c **** void HAL_UARTEx_RxEventCallback(UART_HandleTypeDef *huart, uint16_t Size)
 101:control-base/bsp/src/bsp_uart.c **** {
 222              		.loc 1 101 1 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		.loc 1 101 1 is_stmt 0 view .LVU50
 227 0000 38B5     		push	{r3, r4, r5, lr}
 228              	.LCFI3:
 229              		.cfi_def_cfa_offset 16
 230              		.cfi_offset 3, -16
 231              		.cfi_offset 4, -12
 232              		.cfi_offset 5, -8
 233              		.cfi_offset 14, -4
 234 0002 0546     		mov	r5, r0
 102:control-base/bsp/src/bsp_uart.c ****     // iterate through all registered UART instances
 103:control-base/bsp/src/bsp_uart.c ****     for (int i = 0; i < g_uart_instance_count; i++)
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 7


 235              		.loc 1 103 5 is_stmt 1 view .LVU51
 236              	.LBB2:
 237              		.loc 1 103 10 view .LVU52
 238              	.LVL22:
 239              		.loc 1 103 14 is_stmt 0 view .LVU53
 240 0004 0024     		movs	r4, #0
 241              		.loc 1 103 5 view .LVU54
 242 0006 00E0     		b	.L14
 243              	.LVL23:
 244              	.L15:
 245              		.loc 1 103 49 is_stmt 1 discriminator 2 view .LVU55
 246 0008 0134     		adds	r4, r4, #1
 247              	.LVL24:
 248              	.L14:
 249              		.loc 1 103 23 discriminator 1 view .LVU56
 250 000a 0F4B     		ldr	r3, .L19
 251 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 252 000e A342     		cmp	r3, r4
 253 0010 19DD     		ble	.L18
 104:control-base/bsp/src/bsp_uart.c ****     {
 105:control-base/bsp/src/bsp_uart.c ****         // if the UART handle matches
 106:control-base/bsp/src/bsp_uart.c ****         if (g_uart_insatnces[i]->uart_handle == huart)
 254              		.loc 1 106 9 view .LVU57
 255              		.loc 1 106 29 is_stmt 0 view .LVU58
 256 0012 0E4B     		ldr	r3, .L19+4
 257 0014 53F82400 		ldr	r0, [r3, r4, lsl #2]
 258              		.loc 1 106 32 view .LVU59
 259 0018 0368     		ldr	r3, [r0]
 260              		.loc 1 106 12 view .LVU60
 261 001a AB42     		cmp	r3, r5
 262 001c F4D1     		bne	.L15
 107:control-base/bsp/src/bsp_uart.c ****         {
 108:control-base/bsp/src/bsp_uart.c ****             // if the callback function is not NULL
 109:control-base/bsp/src/bsp_uart.c ****             if (g_uart_insatnces[i]->callback != NULL)
 263              		.loc 1 109 13 is_stmt 1 view .LVU61
 264              		.loc 1 109 36 is_stmt 0 view .LVU62
 265 001e C368     		ldr	r3, [r0, #12]
 266              		.loc 1 109 16 view .LVU63
 267 0020 002B     		cmp	r3, #0
 268 0022 F1D0     		beq	.L15
 110:control-base/bsp/src/bsp_uart.c ****             {
 111:control-base/bsp/src/bsp_uart.c ****                 // call the callback function
 112:control-base/bsp/src/bsp_uart.c ****                 g_uart_insatnces[i]->callback(g_uart_insatnces[i]);
 269              		.loc 1 112 17 is_stmt 1 view .LVU64
 270 0024 9847     		blx	r3
 271              	.LVL25:
 113:control-base/bsp/src/bsp_uart.c **** 
 114:control-base/bsp/src/bsp_uart.c ****                 // enable uart receive for next data frame
 115:control-base/bsp/src/bsp_uart.c ****                 HAL_UARTEx_ReceiveToIdle_DMA(huart, g_uart_insatnces[i]->rx_buffer, g_uart_insatnce
 272              		.loc 1 115 17 view .LVU65
 273              		.loc 1 115 69 is_stmt 0 view .LVU66
 274 0026 094B     		ldr	r3, .L19+4
 275 0028 53F82430 		ldr	r3, [r3, r4, lsl #2]
 276              		.loc 1 115 17 view .LVU67
 277 002c 1A89     		ldrh	r2, [r3, #8]
 278 002e 5968     		ldr	r1, [r3, #4]
 279 0030 2846     		mov	r0, r5
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 8


 280 0032 FFF7FEFF 		bl	HAL_UARTEx_ReceiveToIdle_DMA
 281              	.LVL26:
 116:control-base/bsp/src/bsp_uart.c ****                 // still disable half transfer interrupt (@ref void UART_Service_Init(void))
 117:control-base/bsp/src/bsp_uart.c ****                 __HAL_DMA_DISABLE_IT(huart3.hdmarx, DMA_IT_HT);
 282              		.loc 1 117 17 is_stmt 1 view .LVU68
 283 0036 064B     		ldr	r3, .L19+8
 284 0038 DB6B     		ldr	r3, [r3, #60]
 285 003a 1A68     		ldr	r2, [r3]
 286 003c 1368     		ldr	r3, [r2]
 287 003e 23F00803 		bic	r3, r3, #8
 288 0042 1360     		str	r3, [r2]
 289 0044 E0E7     		b	.L15
 290              	.L18:
 291              		.loc 1 117 17 is_stmt 0 view .LVU69
 292              	.LBE2:
 118:control-base/bsp/src/bsp_uart.c ****             }
 119:control-base/bsp/src/bsp_uart.c ****         }
 120:control-base/bsp/src/bsp_uart.c ****     }
 121:control-base/bsp/src/bsp_uart.c ****     
 122:control-base/bsp/src/bsp_uart.c **** }
 293              		.loc 1 122 1 view .LVU70
 294 0046 38BD     		pop	{r3, r4, r5, pc}
 295              	.LVL27:
 296              	.L20:
 297              		.loc 1 122 1 view .LVU71
 298              		.align	2
 299              	.L19:
 300 0048 00000000 		.word	g_uart_instance_count
 301 004c 00000000 		.word	g_uart_insatnces
 302 0050 00000000 		.word	huart3
 303              		.cfi_endproc
 304              	.LFE137:
 306              		.global	g_uart_instance_count
 307              		.section	.bss.g_uart_instance_count,"aw",%nobits
 310              	g_uart_instance_count:
 311 0000 00       		.space	1
 312              		.global	g_uart_insatnces
 313              		.section	.bss.g_uart_insatnces,"aw",%nobits
 314              		.align	2
 317              	g_uart_insatnces:
 318 0000 00000000 		.space	12
 318      00000000 
 318      00000000 
 319              		.text
 320              	.Letext0:
 321              		.file 2 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 322              		.file 3 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 323              		.file 4 "control-base/typec-board-base/Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 324              		.file 5 "control-base/typec-board-base/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 325              		.file 6 "control-base/typec-board-base/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 326              		.file 7 "control-base/typec-board-base/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 327              		.file 8 "control-base/bsp/inc/bsp_uart.h"
 328              		.file 9 "control-base/typec-board-base/Core/Inc/usart.h"
 329              		.file 10 "/Applications/ArmGNUToolchain/14.3.rel1/arm-none-eabi/arm-none-eabi/include/stdlib.h"
ARM GAS  /var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_uart.c
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:21     .text.UART_Service_Init:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:27     .text.UART_Service_Init:00000000 UART_Service_Init
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:63     .text.UART_Register:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:69     .text.UART_Register:00000000 UART_Register
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:133    .text.UART_Register:00000038 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:310    .bss.g_uart_instance_count:00000000 g_uart_instance_count
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:317    .bss.g_uart_insatnces:00000000 g_uart_insatnces
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:139    .text.UART_Transmit:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:145    .text.UART_Transmit:00000000 UART_Transmit
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:213    .text.HAL_UARTEx_RxEventCallback:00000000 $t
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:219    .text.HAL_UARTEx_RxEventCallback:00000000 HAL_UARTEx_RxEventCallback
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:300    .text.HAL_UARTEx_RxEventCallback:00000048 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:311    .bss.g_uart_instance_count:00000000 $d
/var/folders/sg/pxk9dyzj7jz_x3889hx3b3dw0000gn/T//ccq9FoPa.s:314    .bss.g_uart_insatnces:00000000 $d

UNDEFINED SYMBOLS
HAL_UARTEx_ReceiveToIdle_DMA
malloc
HAL_UART_Transmit
HAL_UART_Transmit_IT
HAL_UART_Transmit_DMA
huart3
